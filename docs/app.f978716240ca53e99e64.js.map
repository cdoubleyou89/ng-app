{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/inputs/shared/controller.ts","webpack:///./src/inputs/radio-list.ts","webpack:///./src/inputs/text-input.ts","webpack:///./src/inputs/index.ts","webpack:///./src/inputs/shared/index.ts","webpack:///./docs/src/app.ts","webpack:///./src/options.ts","webpack:///./src/app.ts","webpack:///./src/services/base.ts","webpack:///./src/services/http.ts","webpack:///./src/services/icon.ts","webpack:///./src/services/logger.ts","webpack:///./src/services/modal.ts","webpack:///./src/services/renderer.ts","webpack:///./src/services/router.ts","webpack:///./src/services/index.ts","webpack:///./src/inputs/date-input.ts","webpack:///./src/misc/app-icon.ts","webpack:///./src/misc/app-spinner.ts","webpack:///./src/misc/index.ts","webpack:///./src/inputs/check-box.ts","webpack:///./src/inputs/shared/service.ts","webpack:///./src/inputs/text-box.ts","webpack:///./src/inputs/select-list.ts","webpack:///./index.ts","webpack:///./src/controller.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","NgInputController","_super","_this","this","setTimeout","$contain","$element","querySelector","children","isIE11","removeNode","remove","$scope","$watch","ngModel","curr","prev","lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default","ngModelCtrl","$setViewValue","keys","$validators","every","x","$commitViewValue","__extends","_controller__WEBPACK_IMPORTED_MODULE_1__","radioList","type","templateClass","labelClass","render","h","radio","createInput","_a","$attrs","setAttribute","style","setProperty","$template","classList","add","renderLabel","text","labelText","document","createTextNode","$label","appendChild","bindings","list","ngChecked","controller","RadioListController","$postLink","fieldset","closest","legend","span","createElement","innerText","_shared__WEBPACK_IMPORTED_MODULE_0__","TextInputController","$onInit","minlength","minVal","val","min","maxVal","max","pattern","validators","textInput","canHaveIcon","attrs","maxlength","placeholder","input","isRange","postRender","createHtmlElement","textContent","step","htmlInput","assign","__webpack_exports__","inputs","_check_box__WEBPACK_IMPORTED_MODULE_0__","_date_input__WEBPACK_IMPORTED_MODULE_1__","_radio_list__WEBPACK_IMPORTED_MODULE_2__","_select_list__WEBPACK_IMPORTED_MODULE_3__","_text_box__WEBPACK_IMPORTED_MODULE_4__","_text_input__WEBPACK_IMPORTED_MODULE_5__","_shared__WEBPACK_IMPORTED_MODULE_6__","checkBox","dateInput","selectList","textBox","_controller__WEBPACK_IMPORTED_MODULE_0__","_options__WEBPACK_IMPORTED_MODULE_1__","_service__WEBPACK_IMPORTED_MODULE_2__","ModalController","arguments","title","body","_index__WEBPACK_IMPORTED_MODULE_0__","AppController","openModal","modal","open","template","openConfirmToast","$log","confirm","then","success","catch","info","makeComponentController","configure","API_HOST","setRouter","bootstrap","log","options_NgAppConfig","NgAppConfig","_b","_c","NAME","_d","ENV","_e","IS_PROD","IS_DEV","IS_STAGING","__decorate","core_decorators","app_NgApp","NgApp","$id","$injector","angular","$dependencies","$module","$bootstrap","$components","Map","$httpInterceptors","config","$compileProvider","$locationProvider","$qProvider","$config","debugInfoEnabled","commentDirectivesEnabled","cssClassDirectivesEnabled","html5Mode","errorOnUnhandledRejections","$stateProvider","router","$warn","__values","getRoutes","next","done","definition","state","run","$animate","enabled","$router","Set","_http","$http","timeout","undefined","getConfig","_log","$logger","_modal","$modal","_renderer","$renderer","forceUpdate","$applyAsync","strictDi","__read","component","addComponents","components","entries","entries_1","entries_1_1","isInputComponent","defineInputComponent","set","addDependencies","moduleNames","_i","__spread","addHttpInterceptor","interceptor","ctrl","http","renderer","services","options","onFinally","Array","isArray","interceptors","app_decorate","base_NgService","NgService","uniqueId","UUIDv4","replace","IsMobile","innerWidth","IsIE11","is_ie_11_module","Math","random","toString","splitByCapitalLetter","item","split","map","trim","charAt","toUpperCase","substring","join","first","second","rest","NgHttp","request","filter","response","responseError","Get","url","fetch","Post","Patch","Put","Delete","Jsonp","getFullUrl","uri","host","ssl","URL","toJSON","method","Response","_f","location","protocol","_g","cache","_h","credentials","headers","integrity","_j","keepalive","_k","_l","redirect","_m","referrerPolicy","_o","abortCtrl","AbortController","Request","signal","JSON","stringify","_p","_q","onRequest","_v","sent","abortTimer","abort","clearTimeout","ok","json","_r","_s","onResponse","Error","_t","_u","onResponseError","clone","err_1","octicons","icon","symbol","version","width","height","viewBox","class","aria-hidden","toSVG","attributes","attrObj","parseInt","role","forEach","option","htmlAttributes","path","icon_b","icon_values","icon_c","LogTypeToastBackgrounds","logger_NgToast","NgToast","toast","toastBody","toastHeader","toastHeaderTimestamp","setBodyText","setType","container","el","innerHTML","show","anime_es","targets","translateX","duration","easing","begin","Date","toLocaleTimeString","navigator","language","Promise","resolve","hideAnimation","autoplay","complete","removeEventListener","play","resetAnimationOnMouseover","resumeAnimationOnMouseout","isAutoClose","Number","isInteger","makeTimeout","autoCloseId","wasClosing","progress","restart","pause","addEventListener","hide","click","parentElement","removeChild","NgLogger","isProd","toasts","logger_extends","clear","msg","okBtn","cancelBtn","footer","notify","reject","removeListeners","cancel","error","isTemporary","warning","devWarning","index","findIndex","is","NgConsole","$debug","items","console","debug","$error","$info","warn","$success","modal_NgModal","NgModal","$compile","$rootScope","backdrop","headerCloseButton","header","content","footerCancelButton","footerOkButton","dialog","modal_extends","src_controller","onClose","cancelBtnText","okBtnText","$new","$ctrl","escapeKeyListener","e","close","dismiss","removeEventListeners","removeAttribute","scope","$destroy","renderer_NgRenderer","NgRenderer","baseInputAttrs","renderer_extends","tagName","classes","$el","classes_1","renderer_values","classes_1_1","addClass","attrs_1","attrs_1_1","renderer_read","$isRange","$isRadio","$isCheckbox","$class","$inputAttrs","renderer_spread","createTextArea","createIcon","iconName","sort","svg","aria-label","createLabel","isRequired","isSrOnly","isRadio","$span","createSlot","createIconInput","$input","inputGroupAttrs","$inputGroup","$inputGroupPrepend","$inputGroupText","$icon","destroy","createText","createComment","parent","newChild","insertBefore","refChild","removeClass","setStyle","flags","api","Important","removeStyle","removeProperty","setValue","node","nodeValue","parentNode","nextSibling","selectRootElement","selectorOrNode","preserveContent","listen","target","eventName","callback","router_NgRouter","NgRouter","routes","router_extends","registerRoute","partial","generateRouteMeta","isAuthorized","generateIntIdParam","param","lib_esm","decode","encode","equals","a","b","generateIntQueryParam","annotateResolveFunctions","router_values","router_read","id","resolveFn","params","isBase","toLowerCase","includes","isNumber","iconInput","inputGroupAppend","inputGroupText","clearIcon","minDate","maxDate","DateInputController","SUPPORTED_MODES","modelVal","valueOf","inline","flatpickr","flatpickr__WEBPACK_IMPORTED_MODULE_0___default","dateFormat","defaultDate","nextArrow","prevArrow","allowInput","weekNumbers","wrap","enable","parse","isNaN","onChange","selected","$onDestroy","getMinDate","toLocaleDateString","getMaxDate","_shared__WEBPACK_IMPORTED_MODULE_1__","appIcon","IconController","appSpinner","SpinnerController","colors","app_spinner_extends","color","srDesc","spinner","misc","InputService","makeBaseComponent","$transclude","getDefaultLabelText","isRadioOrCheckbox","makeBaseOptions","transclude","contain","require","ngModelOptions","ngDisabled","ngReadonly","ngRequired","modelIdentifier","pop","getInputInput","_services__WEBPACK_IMPORTED_MODULE_1__","$component","$definition","marginTop","requiredTag","firstElementChild","$inputInput","$validationAttrs","startsWith","$validationExps","$isInvalid","$html","$validationBlock","$validationMessages","concat","has","$message","$newTpl","outerHTML","prop","RegExp","$invalid","$touched","$formInvalid","textArea","TextBoxController","$mirror","element","computedStyle","getComputedStyle","boxOuter","getPropertyValue","minHeightValue","heightValue","minHeight","maxHeight","mirror","adjust","requestAnimationFrame","scrollHeight","overflow","$on","styles_1","styles_1_1","SelectController","isListOpen","IsMultiple","GetPlaceholder","MultiplePlaceholder","SinglePlaceholder","_text","_value","fuzzer","innerContainer","dropdown","dropdownlist","updateSearchList","searchList","getSearchList","search","lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_1___default","$watchCollection","_","fuse_js__WEBPACK_IMPORTED_MODULE_0___default","shouldSort","threshold","distance","maxPatternLength","minMatchCharLength","shouldFocusInput","onclick","HTMLButtonElement","isMultiple","HTMLElement","contains","hidden","focus","onfocus","onblur","explicitOriginalTarget","nodeName","HTMLDivElement","select","dataset","relatedTarget","oninput","destroyCurrentWatcher","getDisplayText","find","y","_shared__WEBPACK_IMPORTED_MODULE_2__","_services__WEBPACK_IMPORTED_MODULE_3__","inner","innerlist","btn","sbtn","cloneNode","app","_src_app__WEBPACK_IMPORTED_MODULE_0__","_src_inputs__WEBPACK_IMPORTED_MODULE_1__","_src_misc__WEBPACK_IMPORTED_MODULE_2__","angular_animate__WEBPACK_IMPORTED_MODULE_3___default","angular_messages__WEBPACK_IMPORTED_MODULE_4___default","_uirouter_angularjs__WEBPACK_IMPORTED_MODULE_5__","err","status","statusText","NgController","openWebAddress","address","_services__WEBPACK_IMPORTED_MODULE_0__","makeInjectableCtrl","locals","core_decorators__WEBPACK_IMPORTED_MODULE_1__","InternalController","NgAttributes","$state","$$element","$attr","PREFIX_REGEXP","SPECIAL_CHARS_REGEXP","from","$record","$normalize","letter","offset","$hasClass","className","$addClass","$removeClass","$updateClass","newClasses","oldClasses","nu","old","old_1","old_1_1","nu_1","nu_1_1","$set","$observe","__","normalized"],"mappings":"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","file":"app.f978716240ca53e99e64.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,2]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import isEqual from 'lodash/isEqual';\nimport { NgController } from '../../controller';\nimport { Indexed } from '@ledge/types';\n\nexport class NgInputController<T = any> extends NgController {\n\tpublic ngModel: any;\n\tpublic ngModelCtrl: NgModelController<T>;\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tsetTimeout(() => {\n\t\t\tconst $contain = this.$element.querySelector('[ng-transclude=\"contain\"]');\n\t\t\tif ($contain != null && $contain.children.length === 0) {\n\t\t\t\tif (this.isIE11) {\n\t\t\t\t\t($contain as any).removeNode(true);\n\t\t\t\t} else {\n\t\t\t\t\t$contain.remove();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.$scope.$watch(\n\t\t\t\t() => this.ngModel,\n\t\t\t\t(curr: any, prev: any) => {\n\t\t\t\t\tif (isEqual(curr, prev) === false) {\n\t\t\t\t\t\tthis.ngModelCtrl.$setViewValue(curr);\n\t\t\t\t\t\tconst isValid = Object\n\t\t\t\t\t\t\t.keys(this.ngModelCtrl.$validators)\n\t\t\t\t\t\t\t.every(x => {\n\t\t\t\t\t\t\t\treturn this.ngModelCtrl.$validators[x](curr, curr);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tif (isValid) {\n\t\t\t\t\t\t\tthis.ngModelCtrl.$commitViewValue();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t);\n\t\t});\n\t}\n}\n\nexport interface NgModelController<T = any> {\n\t$viewValue: T;\n\t$modelValue: T;\n\n\t$error: { [validationErrorKey: string]: boolean };\n\t$name?: string;\n\n\treadonly $touched: boolean;\n\treadonly $untouched: boolean;\n\n\t$validators: {\n\t\t/**\n\t\t * viewValue is any because it can be an object that is called in the view like $viewValue.name:$viewValue.subName\n\t\t */\n\t\t[index: string]: (modelValue: any, viewValue: any) => boolean;\n\t};\n\n\t$pending?: { [validationErrorKey: string]: boolean };\n\treadonly $pristine: boolean;\n\treadonly $dirty: boolean;\n\treadonly $valid: boolean;\n\treadonly $invalid: boolean;\n\n\t/**\n\t * Documentation states viewValue and modelValue to be a string but other types do work and it's common to use them.\n\t */\n\t$setViewValue(value: any, trigger?: string): void;\n\t$commitViewValue(): void;\n\t$rollbackViewValue(): void;\n\t$processModelValue(): void;\n\t$overrideModelOptions(options: NgModelOptions): void;\n\n\t$render(): void;\n\t$validate(): void;\n\t$setDirty(): void;\n\t$setPristine(): void;\n\t$setTouched(): void;\n\t$setUntouched(): void;\n\t$setValidity(validationErrorKey: string, isValid: boolean): void;\n\n\t$isEmpty(value: any): boolean;\n}\n\n/**\n * Allows tuning how model updates are done.\n * @see https://docs.angularjs.org/api/ng/directive/ngModelOptions\n */\nexport interface NgModelOptions {\n\tupdateOn?: string;\n\tdebounce?: number | Indexed<number>;\n\tallowInvalid?: boolean;\n\tgetterSetter?: boolean;\n\ttimezone?: string;\n}\n","import { NgInputController, NgInputOptions } from './shared';\r\n\r\nclass RadioListController extends NgInputController {\r\n\tpublic $postLink() {\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (this.$attrs.hasOwnProperty('required')) {\r\n\t\t\t\tconst fieldset = this.$element.closest('fieldset');\r\n\r\n\t\t\t\tif (fieldset != null) {\r\n\t\t\t\t\tconst legend = fieldset.querySelector('legend');\r\n\r\n\t\t\t\t\tif (legend != null) {\r\n\t\t\t\t\t\tconst span = document.createElement('span');\r\n\t\t\t\t\t\tspan.classList.add('text-danger');\r\n\t\t\t\t\t\tspan.innerText = ' *';\r\n\t\t\t\t\t\tlegend.appendChild(span);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport const radioList: NgInputOptions = {\r\n\ttype: 'input',\r\n\ttemplateClass: 'form-check',\r\n\tlabelClass: 'form-check-label',\r\n\trender(h) {\r\n\t\tconst radio = h.createInput('radio');\r\n\t\tconst { value = 'Value' } = this.$attrs;\r\n\r\n\t\tradio.setAttribute('ng-value', `item.${value}`);\r\n\t\tradio.setAttribute('ng-attr-id', '{{id}}_{{$ctrl.uniqueId}}_{{$index}}');\r\n\t\tradio.style.setProperty('cursor', 'pointer');\r\n\r\n\t\tif (this.$attrs.hasOwnProperty('inline')) {\r\n\t\t\tthis.$template.classList.remove('form-check');\r\n\t\t\tthis.$template.classList.add('form-check-inline');\r\n\t\t}\r\n\r\n\t\tthis.$template.setAttribute('ng-repeat', 'item in $ctrl.list track by $index');\r\n\r\n\t\treturn radio;\r\n\t},\r\n\trenderLabel() {\r\n\t\tconst { text = 'Text' } = this.$attrs;\r\n\t\tconst labelText = document.createTextNode(`{{item.${text}}}`);\r\n\r\n\t\tthis.$label.appendChild(labelText);\r\n\t\tthis.$label.setAttribute('ng-attr-for', '{{id}}_{{$ctrl.uniqueId}}_{{$index}}');\r\n\t},\r\n\tbindings: {\r\n\t\tlist: '<',\r\n\t\tngChecked: '<',\r\n\t},\r\n\tcontroller: RadioListController,\r\n};\r\n","import { Indexed } from '@ledge/types';\r\nimport { NgInputController, NgInputOptions } from './shared';\r\n\r\nclass TextInputController extends NgInputController {\r\n\tprivate min: number | undefined;\r\n\tprivate max: number | undefined;\r\n\r\n\tpublic $onInit() {\r\n\t\tconst { type, minlength } = this.$attrs;\r\n\r\n\t\tif (type === 'number') {\r\n\t\t\tthis.ngModelCtrl.$validators.minVal = val => {\r\n\t\t\t\treturn this.min == null || val >= this.min;\r\n\t\t\t};\r\n\t\t\tthis.ngModelCtrl.$validators.maxVal = val => {\r\n\t\t\t\treturn this.max == null || val <= this.max;\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tif (minlength != null) {\r\n\t\t\tthis.ngModelCtrl.$validators.pattern = val => {\r\n\t\t\t\treturn val != null && val.length >= minlength;\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst validators: Indexed<string> = {\r\n\tminVal: 'Must be greater than or equal to {{$ctrl.min}}',\r\n\tmaxVal: 'Must be less than or equal to {{$ctrl.max}}',\r\n};\r\n\r\nexport const textInput: NgInputOptions = {\r\n\ttype: 'input',\r\n\tcanHaveIcon: true,\r\n\tattrs: { maxlength: 3000, placeholder: '' },\r\n\trender(h) {\r\n\t\tconst { type, minlength } = this.$attrs;\r\n\r\n\t\tconst input = h.createInput(type);\r\n\r\n\t\tconst isRange = type === 'range';\r\n\t\tif (type === 'number' || isRange) {\r\n\t\t\tinput.setAttribute('ng-attr-min', '{{$ctrl.min}}');\r\n\t\t\tinput.setAttribute('ng-attr-max', '{{$ctrl.max}}');\r\n\t\t\tinput.setAttribute('ng-attr-step', `{{$ctrl.step || '${isRange ? 1 : 'any'}'}}`);\r\n\t\t}\r\n\r\n\t\tif (minlength != null) {\r\n\t\t\tinput.setAttribute('pattern', `.{${minlength},}`);\r\n\t\t\tvalidators.pattern = `Input must be at least ${minlength} characters`;\r\n\t\t}\r\n\r\n\t\treturn input;\r\n\t},\r\n\tpostRender(h) {\r\n\t\tif (this.$attrs.type === 'range') {\r\n\t\t\tconst text = h.createHtmlElement('p', ['text-center', 'lead']);\r\n\t\t\ttext.textContent = '{{$ctrl.ngModel}}';\r\n\t\t\tthis.$template.appendChild(text);\r\n\t\t}\r\n\t\treturn this.$template;\r\n\t},\r\n\tbindings: {\r\n\t\tmin: '<',\r\n\t\tmax: '<',\r\n\t\tstep: '<',\r\n\t},\r\n\tvalidators,\r\n\tcontroller: TextInputController,\r\n};\r\n\r\nexport const htmlInput = Object.assign({ }, textInput);\r\n","import { checkBox } from './check-box';\r\nimport { dateInput } from './date-input';\r\nimport { radioList } from './radio-list';\r\nimport { selectList } from './select-list';\r\nimport { textBox } from './text-box';\r\nimport { htmlInput, textInput } from './text-input';\r\n\r\nexport const inputs = {\r\n\tcheckBox,\r\n\tdateInput,\r\n\tradioList,\r\n\tselectList,\r\n\ttextBox,\r\n\thtmlInput,\r\n\ttextInput,\r\n};\r\n\r\nexport * from './shared';\r\n","export * from './controller';\nexport * from './options';\nexport * from './service';\n","import { NgController, NgRouter, app } from '../../index';\n\nclass ModalController extends NgController {\n\tpublic title = 'Example Modal';\n\tpublic body = 'Body';\n}\n\nclass AppController extends NgController {\n\tpublic openModal() {\n\t\tapp.modal.open({\n\t\t\tcontroller: ModalController,\n\t\t\ttitle: '{{$ctrl.title}}',\n\t\t\ttemplate: '<p class=\"lead\">{{$ctrl.body}}</p>',\n\t\t});\n\t}\n\n\tpublic openConfirmToast() {\n\t\tthis.$log.confirm('Yes or No?')\n\t\t\t.then(() => this.$log.success('Yes!'))\n\t\t\t.catch(() => this.$log.info('No...'));\n\t}\n}\n\napp\n\t.module\n\t.controller(\n\t\t'AppController',\n\t\tapp.makeComponentController(AppController),\n\t);\n\napp\n\t.configure({ API_HOST: 'api.ng-app.js.org' })\n\t.setRouter(new NgRouter())\n\t.bootstrap()\n\t.then(() => {\n\t\tapp.log.success('Welcome... to The World...');\n\t});\n","import { IConfig, Indexed } from '@ledge/types';\nimport { autobind } from 'core-decorators';\nimport { NgAttributes, NgController, makeInjectableCtrl } from './controller';\n\n@autobind\nexport class NgAppConfig implements IConfig {\n\tpublic readonly IS_PROD: boolean;\n\tpublic readonly IS_DEV: boolean;\n\tpublic readonly IS_STAGING: boolean;\n\n\t/**\n\t * The name of the library or application.\n\t */\n\tpublic readonly NAME: string;\n\n\t/**\n\t * The current library or application version, either as a string (e.g. 1.0.0 or v1) or as a number (e.g. 1 or 2.3)\n\t */\n\tpublic readonly VERSION: string | number;\n\n\t/**\n\t * The host environment for the library or application.\n\t */\n\tpublic readonly ENV: string;\n\n\t/**\n\t * The hostname for the API\n\t */\n\tpublic readonly API_HOST: string;\n\n\tconstructor({\n\t\tNAME = 'ng-app',\n\t\tENV = '',\n\t\tAPI_HOST = '',\n\t}: Partial<NgAppConfig> = { }) {\n\t\tif (ENV == null || ENV.length === 0) {\n\t\t\tENV = process.env.NODE_ENV as string;\n\t\t}\n\t\tthis.ENV = ENV;\n\n\t\tthis.IS_PROD = ENV === 'production';\n\t\tthis.IS_DEV = ENV === 'development';\n\t\tthis.IS_STAGING = ENV === 'staging';\n\n\t\tthis.NAME = NAME;\n\t\tthis.API_HOST = API_HOST;\n\t}\n}\n\n/**\n * Component definition object (a simplified directive definition object)\n */\nexport interface NgComponentOptions<T = typeof NgController> {\n\t/**\n\t * Controller constructor function that should be associated with newly created scope or the name of a registered\n\t * controller if passed as a string. Empty function by default.\n\t * Use the array form to define dependencies (necessary if strictDi is enabled and you require dependency injection)\n\t */\n\tcontroller?: T | ['$element', '$scope', '$injector', ReturnType<typeof makeInjectableCtrl>];\n\n\t/**\n\t * @deprecated For consistency this will always be the historical default `$ctrl`. ng-app's architecture ensures all scopes are isolates, so there's no risk of scope leakage.\n\t *\n\t * An identifier name for a reference to the controller. If present, the controller will be published to its scope under\n\t * the specified name. If not present, this will default to `$ctrl`.\n\t */\n\tcontrollerAs?: never;\n\n\t/**\n\t * html template as a string or a function that returns an html template as a string which should be used as the\n\t * contents of this component. Empty string by default.\n\t * If template is a function, then it is injected with the following locals:\n\t * $element - Current element\n\t * $attrs - Current attributes object for the element\n\t * Use the array form to define dependencies (necessary if strictDi is enabled and you require dependency injection)\n\t */\n\ttemplate?: string | (() => string) | (string | (($element: [HTMLElement], $attrs: NgAttributes) => string))[];\n\n\t/**\n\t * Path or function that returns a path to an html template that should be used as the contents of this component.\n\t * If templateUrl is a function, then it is injected with the following locals:\n\t * $element - Current element\n\t * $attrs - Current attributes object for the element\n\t * Use the array form to define dependencies (necessary if strictDi is enabled and you require dependency injection)\n\t */\n\ttemplateUrl?: never;\n\n\t/**\n\t * Define DOM attribute binding to component properties. Component properties are always bound to the component\n\t * controller and not to the scope.\n\t */\n\tbindings?: Indexed<string>;\n\n\t/**\n\t * Whether transclusion is enabled. Disabled by default.\n\t */\n\ttransclude?: boolean | Indexed<string>;\n\n\t/**\n\t * Requires the controllers of other directives and binds them to this component's controller.\n\t * The object keys specify the property names under which the required controllers (object values) will be bound.\n\t * Note that the required controllers will not be available during the instantiation of the controller,\n\t * but they are guaranteed to be available just before the $onInit method is executed!\n\t */\n\trequire?: Indexed<string>;\n}\n","import { Indexed } from '@ledge/types';\nimport { StateService } from '@uirouter/core';\nimport { StateProvider } from '@uirouter/angularjs';\nimport { autobind } from 'core-decorators';\n\nimport { NgController, makeInjectableCtrl } from './controller';\nimport { InputService, NgInputOptions } from './inputs';\nimport { NgInjector, bootstrap, injector, module } from './ng';\nimport { NgAppConfig, NgComponentOptions } from './options';\nimport {\n\tNgHttp,\n\tNgHttpInterceptor,\n\tNgHttpOptions,\n\tNgLogger,\n\tNgModal,\n\tNgRenderer,\n\tNgRouter,\n} from './services';\n\n@autobind\nexport class NgApp {\n\tpublic get module() {\n\t\treturn this.$module;\n\t}\n\n\tpublic get router() {\n\t\treturn this.$router;\n\t}\n\n\tpublic get config() {\n\t\treturn this.$config;\n\t}\n\n\tpublic get components() {\n\t\treturn new Set(this.$components.keys());\n\t}\n\n\tpublic get dependencies() {\n\t\treturn new Set(this.$dependencies);\n\t}\n\n\tpublic get state() {\n\t\treturn this.$injector.get<StateService>('$state');\n\t}\n\n\tpublic get http() {\n\t\tif (this._http == null) {\n\t\t\tthis._http = this.$http({ timeout: this.$config.IS_PROD ? 10000 : undefined, getConfig: () => this.$config });\n\t\t}\n\t\treturn this._http;\n\t}\n\n\tpublic get log() {\n\t\tif (this._log == null) {\n\t\t\tthis._log = this.$logger();\n\t\t}\n\t\treturn this._log;\n\t}\n\n\tpublic get modal() {\n\t\tif (this._modal == null) {\n\t\t\tthis._modal = this.$modal();\n\t\t}\n\t\treturn this._modal;\n\t}\n\n\tpublic get renderer() {\n\t\tif (this._renderer == null) {\n\t\t\tthis._renderer = this.$renderer();\n\t\t}\n\t\treturn this._renderer;\n\t}\n\n\tpublic readonly $id = '$core';\n\tpublic $injector = injector(['ng']);\n\n\tprotected $dependencies: string[] = [];\n\n\tprotected readonly $module = module(this.$id, this.$dependencies);\n\tprotected readonly $bootstrap = bootstrap;\n\tprotected readonly $components = new Map<string, NgComponentOptions>();\n\tprotected readonly $httpInterceptors: NgHttpInterceptor[] = [];\n\n\tprotected $router: NgRouter;\n\tprotected $config: NgAppConfig;\n\n\t// tslint:disable:variable-name\n\tprivate _http: NgHttp;\n\tprivate _log: NgLogger;\n\tprivate _modal: NgModal;\n\tprivate _renderer: NgRenderer;\n\t// tslint:enable:variable-name\n\n\tconstructor() {\n\t\tthis.configure({ })\n\t\t\t.$module\n\t\t\t.config([\n\t\t\t\t'$compileProvider',\n\t\t\t\t'$locationProvider',\n\t\t\t\t'$qProvider',\n\t\t\t\t(\n\t\t\t\t\t$compileProvider: {\n\t\t\t\t\t\tdebugInfoEnabled(active: boolean): any;\n\t\t\t\t\t\tcommentDirectivesEnabled(active: boolean): any;\n\t\t\t\t\t\tcssClassDirectivesEnabled(active: boolean): any;\n\t\t\t\t\t},\n\t\t\t\t\t$locationProvider: {\n\t\t\t\t\t\thtml5Mode(active: boolean): any;\n\t\t\t\t\t},\n\t\t\t\t\t$qProvider: {\n\t\t\t\t\t\terrorOnUnhandledRejections(active: boolean): any,\n\t\t\t\t\t},\n\t\t\t\t) => {\n\t\t\t\t\tconst { IS_DEV, IS_STAGING } = this.$config;\n\n\t\t\t\t\t$compileProvider.debugInfoEnabled(!!(IS_DEV || IS_STAGING));\n\t\t\t\t\t$compileProvider.commentDirectivesEnabled(false);\n\t\t\t\t\t$compileProvider.cssClassDirectivesEnabled(false);\n\n\t\t\t\t\t$locationProvider.html5Mode(true);\n\t\t\t\t\t$qProvider.errorOnUnhandledRejections(false);\n\t\t\t\t},\n\t\t\t])\n\t\t\t.config(['$stateProvider', ($stateProvider: StateProvider) => {\n\t\t\t\tif (this.router == null) {\n\t\t\t\t\treturn this.log.$warn('No router. Use `app.setRouter(r)` to disable this warning.');\n\t\t\t\t}\n\n\t\t\t\tfor (const definition of this.router.getRoutes()) {\n\t\t\t\t\t$stateProvider.state(definition);\n\t\t\t\t}\n\t\t\t}])\n\t\t\t.run([\n\t\t\t\t'$injector',\n\t\t\t\t'$animate',\n\t\t\t\t(\n\t\t\t\t\t$injector: NgInjector,\n\t\t\t\t\t$animate: {\n\t\t\t\t\t\tenabled(active: boolean): any,\n\t\t\t\t\t},\n\t\t\t\t) => {\n\t\t\t\t\tthis.$injector = $injector;\n\t\t\t\t\t$animate.enabled(true);\n\t\t\t\t},\n\t\t\t]);\n\t}\n\n\t/**\n\t * Force the application to run an update cycle\n\t */\n\tpublic async forceUpdate() {\n\t\tthis.$injector.get('$rootScope').$applyAsync();\n\t}\n\n\tpublic async bootstrap({ strictDi }: { strictDi?: boolean; } = { strictDi: true }) {\n\t\tfor (const [name, definition] of this.$components) {\n\t\t\tthis.$module.component(name, definition);\n\t\t}\n\n\t\tsetTimeout(() => document.body.classList.add('bootstrapped'));\n\t\treturn this.$bootstrap(document.body, [this.$id], { strictDi });\n\t}\n\n\tpublic configure(config: Partial<NgAppConfig>) {\n\t\tthis.$config = new NgAppConfig(config);\n\t\treturn this;\n\t}\n\n\tpublic setRouter(router: NgRouter) {\n\t\tthis.$router = router;\n\t\treturn this;\n\t}\n\n\tpublic addComponents(components: Map<string, NgComponentOptions> | Indexed<NgComponentOptions>) {\n\t\tconst entries =\n\t\t\tcomponents instanceof Map\n\t\t\t\t? components.entries()\n\t\t\t\t: Object.entries(components);\n\n\t\tfor (let [name, component] of entries) {\n\t\t\tif (this.isInputComponent(component)) {\n\t\t\t\tcomponent = InputService.defineInputComponent(component);\n\t\t\t}\n\n\t\t\tif (typeof component.controller === 'function') {\n\t\t\t\tcomponent.controller = this.makeComponentController(component.controller);\n\t\t\t}\n\n\t\t\tthis.$components.set(name, component);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tpublic isInputComponent(\n\t\tcomponent: NgComponentOptions & { type?: 'input' },\n\t): component is NgInputOptions {\n\t\treturn component.type === 'input';\n\t}\n\n\tpublic addDependencies(...moduleNames: string[]) {\n\t\tthis.$dependencies.push(...moduleNames);\n\t\treturn this;\n\t}\n\n\tpublic addHttpInterceptor(interceptor: NgHttpInterceptor) {\n\t\tthis.$httpInterceptors.push(interceptor);\n\t\treturn this;\n\t}\n\n\tpublic makeComponentController<T extends NgController>(ctrl: new () => T) {\n\t\tconst componentCtrl = makeInjectableCtrl<T>(ctrl, {\n\t\t\tlog: this.log,\n\t\t\thttp: this.http,\n\t\t\trenderer: this.renderer,\n\t\t\tconfig: () => this.config,\n\t\t});\n\n\t\treturn [\n\t\t\t'$element',\n\t\t\t'$scope',\n\t\t\t'$injector',\n\t\t\tcomponentCtrl,\n\t\t] as [\n\t\t\t\t'$element',\n\t\t\t\t'$scope',\n\t\t\t\t'$injector',\n\t\t\t\ttypeof componentCtrl\n\t\t\t];\n\t}\n\n\tprotected $modal() {\n\t\treturn new NgModal(\n\t\t\tthis.renderer,\n\t\t\tthis.log,\n\t\t\tthis.http,\n\t\t\tthis.config,\n\t\t\tthis.$injector,\n\t\t);\n\t}\n\n\tprotected $http(options: NgHttpOptions) {\n\t\tif ((typeof options.onFinally === 'function') === false) {\n\t\t\toptions.onFinally = this.forceUpdate;\n\t\t}\n\t\tif (Array.isArray(options.interceptors)) {\n\t\t\tfor (const interceptor of options.interceptors) {\n\t\t\t\tthis.addHttpInterceptor(interceptor);\n\t\t\t}\n\t\t}\n\t\t// allow all dataservice instances to share the same interceptor queue\n\t\toptions.interceptors = this.$httpInterceptors;\n\n\t\treturn new NgHttp(options);\n\t}\n\n\tprotected $logger() {\n\t\treturn new NgLogger(this.renderer, this.$config.IS_PROD);\n\t}\n\tprotected $renderer() {\n\t\treturn new NgRenderer();\n\t}\n}\n","import isIE11 from '@ledge/is-ie-11';\n\nexport class NgService {\n\tpublic static IsMobile() {\n\t\treturn typeof window === 'object' && window.innerWidth < 767;\n\t}\n\n\tpublic static IsIE11() {\n\t\treturn isIE11();\n\t}\n\n\t/**\n\t * @see https://stackoverflow.com/a/2117523\n\t */\n\tpublic static UUIDv4() {\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n\t\t\t// tslint:disable:no-bitwise\n\t\t\tconst r = Math.random() * 16 | 0;\n\t\t\tconst v = c === 'x' ? r : (r & 0x3 | 0x8);\n\t\t\t// tslint:enable:no-bitwise\n\t\t\treturn v.toString(16);\n\t\t});\n\t}\n\n\tpublic readonly uniqueId = this.UUIDv4().replace(/[-]|[,]/g, '');\n\n\tpublic UUIDv4() {\n\t\treturn NgService.UUIDv4();\n\t}\n\n\tprotected get isMobile() {\n\t\treturn NgService.IsMobile();\n\t}\n\n\tprotected get isIE11() {\n\t\treturn NgService.IsIE11();\n\t}\n\n\t/**\n\t * Separates words in a string by capital letters. Also capitalizes the first letter.\n\t *\n\t * The following exceptions apply:\n\t * 1) If string is all-caps, it's returned as-is\n\t * 2) Any embedded acronyms (such as F.A.Q.) are returned as-is\n\t * 3) Consecutive capital letters are returned as-is\n\t * 3) Hyphenated words retain concatenation\n\t *\n\t * @param item - The string value to be split\n\t */\n\tpublic splitByCapitalLetter(item: string) {\n\t\tconst split = item.split(/(?=[A-Z])/);\n\t\treturn split.every(x => x.length === 1)\n\t\t\t? item\n\t\t\t: split\n\t\t\t\t.map(x => x.trim())\n\t\t\t\t.map(x =>\n\t\t\t\t\tx.length === 1 || (x.length === 2 && x.charAt(1) === '.')\n\t\t\t\t\t\t? (x.toUpperCase() + '\\uFFFF')\n\t\t\t\t\t\t: (x.charAt(0).toUpperCase() + x.substring(1)),\n\t\t\t\t)\n\t\t\t\t.join(' ')\n\t\t\t\t.replace(\n\t\t\t\t\t/\\w{1}\\.?(\\uFFFF){1}\\s?/g,\n\t\t\t\t\t([first, second]) =>\n\t\t\t\t\t\tsecond === '.'\n\t\t\t\t\t\t\t? first + second\n\t\t\t\t\t\t\t: first,\n\t\t\t\t)\n\t\t\t\t.replace(\n\t\t\t\t\t/\\.{1}\\w{2,}/g,\n\t\t\t\t\t([first, second, ...rest]) =>\n\t\t\t\t\t\t`${first} ${second.toUpperCase()}${rest.join('')}`,\n\t\t\t\t)\n\t\t\t\t.replace(/- /g, '-');\n\t}\n}\n","import { PatchPayload } from '@ledge/types/patch';\nimport { NgService } from './base';\nimport { NgAppConfig } from '../options';\n\nexport interface NgHttpInterceptor {\n\trequest?(config: Request): Request | Promise<Request>;\n\tresponse?(response: any): any;\n\tresponseError?<T extends Error>(response: Response, err: T): void;\n}\n\n// tslint:disable:no-redundant-jsdoc\nexport interface NgHttpOptions extends RequestInit {\n\t/**\n\t *\n\t * @default `location.host`\n\t */\n\thost?: string;\n\n\t/**\n\t * If true, use `https://`. Otherwise, use `http://`\n\t * @default false\n\t */\n\tssl?: boolean;\n\n\t/**\n\t * How many milliseconds to wait before aborting the request\n\t * @default 10000\n\t */\n\ttimeout?: number;\n\n\tinterceptors?: NgHttpInterceptor[];\n\n\t/**\n\t * Unsupported\n\t */\n\treferrer?: never;\n\n\t/**\n\t * Unsupported\n\t */\n\tsignal?: never;\n\n\tonFinally?(): void;\n\tgetConfig(): NgAppConfig;\n}\n// tslint:enable:no-redundant-jsdoc\n\nexport class NgHttp extends NgService {\n\tprivate interceptors: {\n\t\trequest: ((config: Request) => Request | Promise<Request>)[];\n\t\tresponse: ((response: any) => any)[];\n\t\tresponseError: (<T extends Error>(\n\t\t\tresponse: Response,\n\t\t\terr: T,\n\t\t) => void)[];\n\t};\n\n\tconstructor(private options: NgHttpOptions) {\n\t\tsuper();\n\t\tconst { interceptors = [] } = options;\n\t\tthis.interceptors = {\n\t\t\trequest: interceptors\n\t\t\t\t.map(x => x.request)\n\t\t\t\t.filter(x => typeof x === 'function') as ((\n\t\t\t\tconfig: Request,\n\t\t\t) => Request | Promise<Request>)[],\n\t\t\tresponse: interceptors\n\t\t\t\t.map(x => x.response)\n\t\t\t\t.filter(x => typeof x === 'function') as ((response: any) => any)[],\n\t\t\tresponseError: interceptors\n\t\t\t\t.map(x => x.responseError)\n\t\t\t\t.filter(x => typeof x === 'function') as (<T extends Error>(\n\t\t\t\tresponse: Response,\n\t\t\t\terr: T,\n\t\t\t) => void)[],\n\t\t};\n\t}\n\n\tpublic async Get<T = any>(url: string) {\n\t\treturn this.fetch<T>(url, 'GET');\n\t}\n\n\tpublic async Post<T = any>(url: string, data: any = null) {\n\t\treturn this.fetch<T>(url, 'POST', data);\n\t}\n\n\tpublic async Patch<T = any>(url: string, data: PatchPayload) {\n\t\treturn this.fetch<T>(url, 'PATCH', data);\n\t}\n\n\tpublic async Put<T = any>(url: string, data: T) {\n\t\treturn this.fetch(url, 'PUT', data);\n\t}\n\n\tpublic async Delete<T = any>(url: string) {\n\t\treturn this.fetch<T>(url, 'DELETE');\n\t}\n\n\tpublic async Jsonp<T = any>(url: string) {\n\t\treturn this.fetch<T>(url, 'JSONP');\n\t}\n\n\tpublic getFullUrl(uri: string, host: string, ssl: boolean) {\n\t\treturn new URL(uri, `http${ssl ? 's' : ''}://${host}`).toJSON();\n\t}\n\n\tprivate async fetch<T>(\n\t\turi: string,\n\t\tmethod: 'GET' | 'POST' | 'PATCH' | 'PUT' | 'DELETE' | 'JSONP',\n\t\tdata?: any,\n\t) {\n\t\tlet response = new Response();\n\t\ttry {\n\t\t\tconst {\n\t\t\t\thost = this.options.getConfig().API_HOST,\n\t\t\t\tssl = location.protocol === 'https:',\n\t\t\t\tcache = 'no-store',\n\t\t\t\tcredentials = 'include',\n\t\t\t\theaders,\n\t\t\t\tintegrity,\n\t\t\t\tkeepalive = false,\n\t\t\t\tmode = 'cors',\n\t\t\t\tredirect = 'manual',\n\t\t\t\treferrerPolicy = 'origin-when-cross-origin',\n\t\t\t\ttimeout = 10000,\n\t\t\t\twindow,\n\t\t\t} = this.options;\n\n\t\t\tconst url = this.getFullUrl(uri, host, ssl);\n\t\t\tconst abortCtrl = new AbortController();\n\n\t\t\tlet request = new Request(url, {\n\t\t\t\tmethod,\n\t\t\t\tcache,\n\t\t\t\tcredentials,\n\t\t\t\theaders,\n\t\t\t\tintegrity,\n\t\t\t\tkeepalive,\n\t\t\t\tmode,\n\t\t\t\tredirect,\n\t\t\t\treferrerPolicy,\n\t\t\t\tsignal: abortCtrl.signal,\n\t\t\t\twindow,\n\t\t\t\tbody: JSON.stringify(data),\n\t\t\t});\n\n\t\t\tfor (const onRequest of this.interceptors.request) {\n\t\t\t\trequest = await onRequest(request);\n\t\t\t}\n\n\t\t\tconst abortTimer = setTimeout(abortCtrl.abort, timeout);\n\t\t\tresponse = await fetch(request);\n\t\t\tclearTimeout(abortTimer);\n\n\t\t\tif (response.ok) {\n\t\t\t\tlet value: T = await response.json();\n\t\t\t\tfor (const onResponse of this.interceptors.response) {\n\t\t\t\t\tvalue = await onResponse(value);\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tthrow new Error();\n\t\t} catch (err) {\n\t\t\tfor (const onResponseError of this.interceptors.responseError) {\n\t\t\t\tawait onResponseError(response.clone(), err);\n\t\t\t}\n\t\t\tthrow err;\n\t\t} finally {\n\t\t\tif (typeof this.options.onFinally === 'function') {\n\t\t\t\tthis.options.onFinally();\n\t\t\t}\n\t\t}\n\t}\n}\n","import { Indexed } from '@ledge/types';\r\n\r\n// tslint:disable:no-var-requires\r\nconst data = require('octicons/build/data.json');\r\nconst octicons: Indexed = { };\r\n\r\nfor (const key of Object.keys(data)) {\r\n\tconst icon = octicons[key] = Object.assign({ }, data[key]);\r\n\r\n\t// Returns a string representation of html attributes\r\n\tconst htmlAttributes = (options?: any) => {\r\n\t\tconst attributes: string[] = [];\r\n\t\tconst attrObj = Object.assign({ }, icon.options, options);\r\n\r\n\t\t// If the user passed in options\r\n\t\tif (options) {\r\n\t\t\t// If any of the width or height is passed in\r\n\t\t\tif (options.width || options.height) {\r\n\t\t\t\tattrObj.width = options.width ? options.width : (parseInt(options.height, 10) * icon.options.width / icon.options.height);\r\n\t\t\t\tattrObj.height = options.height ? options.height : (parseInt(options.width, 10) * icon.options.height / icon.options.width);\r\n\t\t\t}\r\n\r\n\t\t\t// If the user passed in class\r\n\t\t\tif (options.class) {\r\n\t\t\t\tattrObj.class = `octicon octicon-${key} ${options.class}`;\r\n\t\t\t\tattrObj.class.trim();\r\n\t\t\t}\r\n\r\n\t\t\t// If the user passed in aria-label\r\n\t\t\tif (options['aria-label']) {\r\n\t\t\t\tattrObj['aria-label'] = options['aria-label'];\r\n\t\t\t\tattrObj.role = 'img';\r\n\r\n\t\t\t\t// Un-hide the icon\r\n\t\t\t\tdelete attrObj['aria-hidden'];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tObject.keys(attrObj).forEach(option => {\r\n\t\t\tattributes.push(`${option}=\"${attrObj[option]}\"`);\r\n\t\t});\r\n\r\n\t\treturn attributes.join(' ').trim();\r\n\t};\r\n\r\n\t// Set the symbol for easy access\r\n\ticon.symbol = key;\r\n\r\n\t// Set all the default options\r\n\ticon.options = {\r\n\t\tversion: '1.1',\r\n\t\twidth: icon.width,\r\n\t\theight: icon.height,\r\n\t\tviewBox: `0 0 ${icon.width} ${icon.height}`,\r\n\t\tclass: `octicon octicon-${key}`,\r\n\t\t'aria-hidden': 'true',\r\n\t};\r\n\r\n\t// Function to return an SVG object\r\n\ticon.toSVG = (options: any) => `<svg ${htmlAttributes(options)}>${icon.path}</svg>`;\r\n}\r\n\r\nexport { octicons };\r\n","import anime from 'animejs';\nimport { NgService } from './base';\nimport { NgRenderer } from './renderer';\n\ntype LogType = '$log' | '$warn' | '$error' | '$info' | '$success';\nenum LogTypeToastBackgrounds {\n\t$log = 'white',\n\t$success = 'success',\n\t$info = 'info',\n\t$warn = 'warning',\n\t$error = 'danger',\n}\n\nexport class NgToast {\n\tprotected type: LogType;\n\tprotected readonly toast: HTMLDivElement;\n\tprotected readonly toastHeader: HTMLDivElement;\n\tprotected readonly toastBody: HTMLDivElement;\n\tprotected readonly toastHeaderTimestamp: HTMLElement;\n\n\tconstructor(protected readonly $renderer: NgRenderer, options: {\n\t\ttext: string,\n\t\ttype: LogType,\n\t\tcontainer: HTMLElement,\n\t}) {\n\t\tthis.toast = this.$renderer.createHtmlElement('div', ['toast', 'row', 'justify-content-between', 'w-100'], [['role', 'alert'], ['aria-live', 'assertive'], ['aria-atomic', 'true']]);\n\t\tthis.toast.style.setProperty('cursor', 'pointer');\n\n\t\tthis.toastBody = this.$renderer.createHtmlElement('div', ['toast-body', 'h5', 'col', 'mb-0', 'pb-3']);\n\t\tthis.toastHeader = this.$renderer.createHtmlElement('div', ['toast-header']);\n\t\tthis.toastHeader.style.setProperty('border-bottom', 'none');\n\n\t\tthis.toastHeaderTimestamp = this.$renderer.createHtmlElement('strong', ['text-dark']);\n\n\t\tthis.toastHeader.appendChild(this.toastHeaderTimestamp);\n\t\tthis.toast.appendChild(this.toastHeader);\n\t\tthis.toast.appendChild(this.toastBody);\n\n\t\tthis.setBodyText(options.text);\n\t\tthis.setType(options.type);\n\n\t\toptions.container.appendChild(this.toast);\n\t}\n\n\t/**\n\t * Append a child element to the toast element\n\t *\n\t * @param el The element to append\n\t */\n\tpublic appendChild(el: HTMLElement) {\n\t\tthis.toast.appendChild(el);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Set the inner HTML of the toast's body element\n\t *\n\t * @param text The HTML to set\n\t */\n\tpublic setBodyText(text: string) {\n\t\tthis.toastBody.innerHTML = text;\n\t}\n\n\t/**\n\t * Change the look & feel of the toast based on its associated log type\n\t *\n\t * @param type The log type of toast\n\t */\n\tpublic setType(type: LogType) {\n\t\tif (this.type != null) {\n\t\t\tthis.toast.classList.remove(`bg-${LogTypeToastBackgrounds[this.type]}`);\n\t\t}\n\n\t\tthis.type = type;\n\t\tthis.toast.classList.add(`bg-${LogTypeToastBackgrounds[this.type]}`);\n\n\t\tif (type === '$log') {\n\t\t\tthis.toastHeader.classList.add('bg-dark');\n\t\t\tthis.toastHeader.style.setProperty('opacity', '0.75');\n\t\t\tthis.toastHeaderTimestamp.classList.remove('text-dark');\n\t\t\tthis.toastHeaderTimestamp.classList.add('text-white');\n\t\t} else if (type !== '$warn') {\n\t\t\tthis.toast.classList.add('text-white');\n\t\t}\n\t}\n\n\t/**\n\t * Show the toast\n\t *\n\t * @param timeout Length in ms before toast disappears (`false` to set permanently)\n\t * @param container Optional container override\n\t */\n\tpublic show(timeout: false | number, container?: HTMLElement) {\n\t\tif (container != null) {\n\t\t\tthis.remove();\n\t\t\tcontainer.appendChild(this.toast);\n\t\t}\n\n\t\tanime({\n\t\t\ttargets: this.toast,\n\t\t\ttranslateX: [500, 0],\n\t\t\tduration: 1000,\n\t\t\teasing: 'easeOutQuint(0.5, 1)',\n\t\t\tbegin: () => {\n\t\t\t\tthis.toastHeaderTimestamp.innerText = new Date().toLocaleTimeString(navigator.language).replace(/(:\\d{2})(?=\\s[AP]M$)/, '');\n\t\t\t\tthis.toast.style.setProperty('opacity', '1');\n\t\t\t},\n\t\t});\n\n\t\treturn new Promise(resolve => {\n\t\t\tconst hideAnimation = anime({\n\t\t\t\ttargets: this.toast,\n\t\t\t\ttranslateX: [0, 500],\n\t\t\t\tduration: 1000,\n\t\t\t\tautoplay: false,\n\t\t\t\teasing: 'easeInQuint(0.5, 1)',\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tthis.toast.removeEventListener('click', hideAnimation.play);\n\t\t\t\t\tthis.toast.removeEventListener('mouseover', resetAnimationOnMouseover);\n\t\t\t\t\tthis.toast.removeEventListener('mouseout', resumeAnimationOnMouseout);\n\t\t\t\t\tthis.remove();\n\t\t\t\t\tresolve();\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tconst isAutoClose = typeof timeout === 'number' && Number.isInteger(timeout);\n\t\t\tconst makeTimeout = () => (setTimeout as typeof window['setTimeout'])(hideAnimation.play, timeout as number);\n\n\t\t\tlet autoCloseId = isAutoClose ? makeTimeout() : undefined;\n\t\t\tlet wasClosing = false;\n\n\t\t\tconst resetAnimationOnMouseover = () => {\n\t\t\t\twasClosing = hideAnimation.progress > 0;\n\n\t\t\t\tclearTimeout(autoCloseId);\n\t\t\t\tautoCloseId = undefined;\n\n\t\t\t\thideAnimation.restart();\n\t\t\t\thideAnimation.pause();\n\t\t\t};\n\n\t\t\tconst resumeAnimationOnMouseout = () => {\n\t\t\t\tif (wasClosing) {\n\t\t\t\t\thideAnimation.play();\n\t\t\t\t} else if (isAutoClose && autoCloseId === undefined) {\n\t\t\t\t\tautoCloseId = makeTimeout();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.toast.addEventListener('click', hideAnimation.play);\n\t\t\tthis.toast.addEventListener('mouseover', resetAnimationOnMouseover);\n\t\t\tthis.toast.addEventListener('mouseout', resumeAnimationOnMouseout);\n\t\t});\n\t}\n\n\t/**\n\t * Hide the toast\n\t */\n\tpublic hide() {\n\t\tthis.toast.click();\n\t}\n\n\t/**\n\t * Remove the toast from its container\n\t */\n\tpublic remove() {\n\t\tif (this.toast.parentElement != null) {\n\t\t\tthis.toast.parentElement.removeChild(this.toast);\n\t\t}\n\t}\n}\n\n// tslint:disable:no-console\nexport class NgConsole extends NgService {\n\t/**\n\t * Invokes `Console.prototype.debug`\n\t *\n\t * @param items list of items to log\n\t */\n\tpublic $debug(...items: any[]) {\n\t\tconsole.debug(...items);\n\t}\n\n\t/**\n\t * Invokes `Console.prototype.error`\n\t *\n\t * @param items list of items to log\n\t */\n\tpublic $error(...items: any[]) {\n\t\tconsole.error(...items);\n\t}\n\n\t/**\n\t * Invokes `Console.prototype.info`\n\t *\n\t * @param items list of items to log\n\t */\n\tpublic $info(...items: any[]) {\n\t\tconsole.info(...items);\n\t}\n\n\t/**\n\t * Invokes `Console.prototype.warn`\n\t *\n\t * @param items list of items to log\n\t */\n\tpublic $warn(...items: any[]) {\n\t\tconsole.warn(...items);\n\t}\n\n\t/**\n\t * Invokes `Console.prototype.log`\n\t *\n\t * @param items list of items to log\n\t */\n\tpublic $log(...items: any[]) {\n\t\tconsole.log(...items);\n\t}\n\n\t/**\n\t * Invokes `Console.prototype.log`\n\t *\n\t * @param items list of items to log\n\t */\n\tpublic $success(...items: any[]) {\n\t\tthis.$log(...items);\n\t}\n}\n// tslint:enable:no-console\n\nexport class NgLogger extends NgConsole {\n\tprotected readonly container: HTMLDivElement;\n\tprotected readonly toasts: NgToast[] = [];\n\n\tconstructor(private $renderer: NgRenderer, private isProd = false) {\n\t\tsuper();\n\n\t\tthis.container = this.$renderer.createHtmlElement('div', ['position-fixed']);\n\t\tthis.container.style.setProperty('top', '0.5rem');\n\t\tthis.container.style.setProperty('right', '-1.5rem');\n\t\tthis.container.style.setProperty('width', '100%');\n\t\tthis.container.style.setProperty('max-width', '23rem');\n\n\t\tdocument.body.appendChild(this.container);\n\t}\n\n\t/**\n\t * Clear all active notifications\n\t */\n\tpublic clear() {\n\t\tthis.toasts.forEach(x => x.hide());\n\t}\n\n\t/**\n\t * Prompt the user to confirm intent for a previous action\n\t *\n\t * @param msg Confirmation message\n\t */\n\tpublic confirm(msg = 'Please confirm your action') {\n\t\tconst okBtn = this.$renderer.createHtmlElement('button', ['btn', 'w-50', 'btn-success', 'rounded-0']);\n\t\tokBtn.innerText = 'Yes';\n\t\tconst cancelBtn = this.$renderer.createHtmlElement('button', ['btn', 'w-50', 'btn-dark', 'rounded-0']);\n\t\tcancelBtn.innerText = 'No';\n\n\t\tconst footer = this.$renderer.createHtmlElement('div', ['w-100']);\n\t\tfooter.appendChild(cancelBtn);\n\t\tfooter.appendChild(okBtn);\n\n\t\tconst toast = this.notify(msg, '$log', false);\n\t\ttoast.appendChild(footer);\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst removeListeners = () => {\n\t\t\t\tokBtn.removeEventListener('click', ok);\n\t\t\t\tcancelBtn.removeEventListener('click', cancel);\n\t\t\t};\n\n\t\t\tconst ok = () => {\n\t\t\t\ttoast.hide();\n\t\t\t\tremoveListeners();\n\t\t\t\tresolve();\n\t\t\t};\n\n\t\t\tconst cancel = () => {\n\t\t\t\ttoast.hide();\n\t\t\t\tremoveListeners();\n\t\t\t\treject();\n\t\t\t};\n\n\t\t\tokBtn.addEventListener('click', ok);\n\t\t\tcancelBtn.addEventListener('click', cancel);\n\t\t});\n\t}\n\n\t/**\n\t * Display an error notification\n\t *\n\t * @param text Display text\n\t * @param isTemporary Whether the notification should disappear automatically (false by default)\n\t */\n\tpublic error(text: string, isTemporary = false) {\n\t\tthis.notify(text, '$error', isTemporary && undefined);\n\t}\n\n\t/**\n\t * Display an informational notification\n\t *\n\t * @param text Display text\n\t * @param isTemporary Whether the notification should disappear automatically (true by default)\n\t */\n\tpublic info(text: string, isTemporary = true) {\n\t\tthis.notify(text, '$info', isTemporary && undefined);\n\t}\n\n\t/**\n\t * Display a success notification\n\t *\n\t * @param text Display text\n\t * @param isTemporary Whether the notification should disappear automatically (true by default)\n\t */\n\tpublic success(text: string, isTemporary = true) {\n\t\tthis.notify(text, '$success', isTemporary && undefined);\n\t}\n\n\t/**\n\t * Display a warning notification\n\t *\n\t * @param text Display text\n\t * @param isTemporary Whether the notification should disappear automatically (true by default)\n\t */\n\tpublic warning(text: string, isTemporary = true) {\n\t\tthis.notify(text, '$warn', isTemporary && undefined);\n\t}\n\n\t/**\n\t * Display a warning notification (disabled when `process.env.NODE_ENV === 'production'`)\n\t *\n\t * @param text Display text\n\t */\n\tpublic devWarning(text: string) {\n\t\tif (this.isProd === false) {\n\t\t\tthis.warning(`[DEV] ${text}`, false);\n\t\t}\n\t}\n\n\t/**\n\t * Show a customizable notification to the user\n\t *\n\t * @param text Display text\n\t * @param type Display type\n\t * @param timeout Length in ms before notification disappears (`false` to set permanently)\n\t * @param buttons Interaction points for the user\n\t */\n\tpublic notify(text: string, type: LogType, timeout: false | number = 2323) {\n\t\tthis[type](`${type}: ${text}`);\n\n\t\tconst toast = new NgToast(this.$renderer, { text, type, container: this.container });\n\t\ttoast.show(timeout).then(() => {\n\t\t\tconst index = this.toasts.findIndex(x => Object.is(x, toast));\n\t\t\tthis.toasts.splice(index, 1);\n\t\t});\n\n\t\tthis.toasts.push(toast);\n\t\treturn toast;\n\t}\n}\n","import { NgController, makeInjectableCtrl } from '../controller';\r\nimport { NgLogger } from './logger';\r\nimport { NgService } from './base';\r\nimport { NgHttp } from './http';\r\nimport { NgAppConfig } from '../options';\r\nimport { NgRenderer } from './renderer';\r\nimport { NgInjector, NgScope } from '../ng';\r\n\r\nexport class NgModal extends NgService {\r\n\tprotected readonly backdrop: HTMLDivElement;\r\n\tprotected readonly container: HTMLDivElement;\r\n\tprotected readonly content: HTMLDivElement;\r\n\tprotected readonly dialog: HTMLDivElement;\r\n\tprotected readonly header: HTMLDivElement;\r\n\tprotected readonly headerCloseButton: HTMLButtonElement;\r\n\tprotected readonly title: HTMLHeadingElement;\r\n\tprotected readonly body: HTMLDivElement;\r\n\tprotected readonly footer: HTMLDivElement;\r\n\tprotected readonly footerCancelButton: HTMLButtonElement;\r\n\tprotected readonly footerOkButton: HTMLButtonElement;\r\n\r\n\tprotected readonly $compile: (element: Element) => (scope: NgScope) => { [i: number]: HTMLElement };\r\n\tprotected readonly $rootScope: NgScope;\r\n\r\n\tconstructor(\r\n\t\tprotected readonly $renderer: NgRenderer,\r\n\t\tprotected readonly $log: NgLogger,\r\n\t\tprotected readonly $http: NgHttp,\r\n\t\tprotected readonly $config: NgAppConfig,\r\n\t\tprotected readonly $injector: NgInjector,\r\n\t) {\r\n\t\tsuper();\r\n\r\n\t\tthis.$compile = this.$injector.get('$compile');\r\n\t\tthis.$rootScope = this.$injector.get('$rootScope');\r\n\r\n\t\tthis.backdrop = this.$renderer.createHtmlElement('div', ['modal-backdrop', 'fade']);\r\n\t\tthis.title = this.$renderer.createHtmlElement('h5', ['modal-title'], [['id', `modal-title-${this.uniqueId}`]]);\r\n\r\n\t\tthis.headerCloseButton = this.$renderer.createHtmlElement('button', ['close'], [['type', 'button'], ['aria-label', 'close']]);\r\n\t\tthis.headerCloseButton.innerHTML = '&times;';\r\n\r\n\t\tthis.header = this.$renderer.createHtmlElement('div', ['modal-header']);\r\n\t\tthis.body = this.$renderer.createHtmlElement('div', ['modal-body']);\r\n\t\tthis.footer = this.$renderer.createHtmlElement('div', ['modal-footer']);\r\n\t\tthis.content = this.$renderer.createHtmlElement('div', ['modal-content']);\r\n\r\n\t\tthis.header.appendChild(this.title);\r\n\t\tthis.header.appendChild(this.headerCloseButton);\r\n\r\n\t\tthis.content.appendChild(this.header);\r\n\t\tthis.content.appendChild(this.body);\r\n\t\tthis.content.appendChild(this.footer);\r\n\r\n\t\tthis.footerCancelButton = this.$renderer.createHtmlElement('button', ['btn', 'btn-info'], [['type', 'button']]);\r\n\t\tthis.footerOkButton = this.$renderer.createHtmlElement('button', ['btn', 'btn-success'], [['type', 'button']]);\r\n\r\n\t\tthis.footer.appendChild(this.footerCancelButton);\r\n\t\tthis.footer.appendChild(this.footerOkButton);\r\n\r\n\t\tthis.dialog = this.$renderer.createHtmlElement('div', ['modal-dialog'], [['role', 'document']]);\r\n\t\tthis.dialog.appendChild(this.content);\r\n\r\n\t\tthis.container = this.$renderer.createHtmlElement('div', ['fade', 'modal'], [\r\n\t\t\t['aria-hidden', 'true'],\r\n\t\t\t['aria-labelledby', 'modal-title'],\r\n\t\t\t['role', 'dialog'],\r\n\t\t\t['tabindex', '-1'],\r\n\t\t]);\r\n\t\tthis.container.appendChild(this.dialog);\r\n\r\n\t\tdocument.body.appendChild(this.container);\r\n\t}\r\n\r\n\tpublic open<T extends typeof NgController>(options: NgModalOptions<T> = { }) {\r\n\t\tconst { $log } = this;\r\n\t\tconst {\r\n\t\t\ttitle = 'Set the <code>title</code> property to replace me :)',\r\n\t\t\ttemplate = '<p class=\"lead\">Set the <code>template</code> property to replace me :)</p>',\r\n\t\t\tcontroller = NgController,\r\n\t\t\tonClose = () => {\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t} = options;\r\n\r\n\t\tconst defaultCancelBtnText = 'Cancel';\r\n\t\tconst defaultOkBtnText = 'Ok';\r\n\t\tlet {\r\n\t\t\tcancelBtnText = defaultCancelBtnText,\r\n\t\t\tokBtnText = defaultOkBtnText,\r\n\t\t} = options;\r\n\r\n\t\tif (cancelBtnText !== false) {\r\n\t\t\tif (cancelBtnText === true) {\r\n\t\t\t\tcancelBtnText = defaultCancelBtnText;\r\n\t\t\t}\r\n\t\t\tthis.footerCancelButton.innerText = cancelBtnText;\r\n\t\t}\r\n\t\tif (okBtnText !== false) {\r\n\t\t\tif (okBtnText === true) {\r\n\t\t\t\tokBtnText = defaultOkBtnText;\r\n\t\t\t}\r\n\t\t\tthis.footerOkButton.innerText = okBtnText;\r\n\t\t}\r\n\r\n\t\tthis.title.innerHTML = typeof title === 'function' ? title() : title;\r\n\t\tthis.body.innerHTML =\r\n\t\t\ttypeof template === 'function' ? template() : template;\r\n\r\n\t\tconst $scope = this.$rootScope.$new(true) as Parameters<NgModal['hide']>[1];\r\n\t\tconst $element = this.$compile(this.container)($scope);\r\n\t\tconst $ctrl = makeInjectableCtrl(controller, {\r\n\t\t\tlog: this.$log,\r\n\t\t\thttp: this.$http,\r\n\t\t\trenderer: this.$renderer,\r\n\t\t\tconfig: () => this.$config,\r\n\t\t});\r\n\r\n\t\t$scope.$ctrl = new $ctrl($element, $scope, this.$injector) as NgController;\r\n\t\t$scope.$applyAsync();\r\n\r\n\t\tconst escapeKeyListener = (e: KeyboardEvent) => {\r\n\t\t\tif (e.key === 'Escape' || e.key === 'Esc') {\r\n\t\t\t\tclose();\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst dismiss = () => {\r\n\t\t\tremoveEventListeners();\r\n\t\t\tthis.hide(escapeKeyListener, $scope);\r\n\t\t};\r\n\r\n\t\tthis.show(escapeKeyListener);\r\n\r\n\t\tconst removeEventListeners = () => {\r\n\t\t\tthis.headerCloseButton.removeEventListener('click', dismiss);\r\n\t\t\tthis.footerCancelButton.removeEventListener('click', dismiss);\r\n\t\t\tthis.footerOkButton.removeEventListener('click', close);\r\n\t\t\tthis.backdrop.removeEventListener('click', close);\r\n\t\t};\r\n\r\n\t\tconst close = () => {\r\n\t\t\tif (onClose.call({ $log }, controller as T)) {\r\n\t\t\t\tdismiss();\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis.headerCloseButton.addEventListener('click', dismiss);\r\n\t\tthis.footerCancelButton.addEventListener('click', dismiss);\r\n\t\tthis.footerOkButton.addEventListener('click', close);\r\n\t\tthis.backdrop.addEventListener('click', close);\r\n\r\n\t\treturn { close, dismiss };\r\n\t}\r\n\r\n\tprotected show(escapeKeyListener: (e: KeyboardEvent) => void) {\r\n\t\tthis.backdrop.style.setProperty('display', 'block');\r\n\r\n\t\tthis.container.style.setProperty('display', 'block');\r\n\t\tthis.container.classList.remove('show');\r\n\t\tthis.container.removeAttribute('aria-hidden');\r\n\t\tthis.container.setAttribute('aria-modal', 'true');\r\n\t\tthis.container.style.setProperty('padding-right', '17px');\r\n\t\tthis.container.style.setProperty('pointer-events', 'none');\r\n\r\n\t\twindow.addEventListener('keydown', escapeKeyListener);\r\n\t\tdocument.body.appendChild(this.backdrop);\r\n\t\tdocument.body.classList.add('modal-open');\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.backdrop.classList.add('show');\r\n\t\t\tthis.container.classList.add('show');\r\n\t\t}, 23);\r\n\t}\r\n\r\n\tprotected hide(\r\n\t\tescapeKeyListener: (e: KeyboardEvent) => void,\r\n\t\tscope: NgScope & { $ctrl: NgController; },\r\n\t) {\r\n\t\tthis.backdrop.classList.remove('show');\r\n\t\tthis.container.classList.remove('show');\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.container.style.setProperty('display', 'none');\r\n\t\t\tthis.backdrop.style.setProperty('display', 'none');\r\n\t\t}, 150);\r\n\r\n\t\tscope.$destroy();\r\n\t\twindow.removeEventListener('keydown', escapeKeyListener);\r\n\t\tdocument.body.classList.remove('modal-open');\r\n\t}\r\n}\r\n\r\nexport interface NgModalOptions<T extends typeof NgController> {\r\n\t/**\r\n\t * String representing the modal's title\r\n\t */\r\n\ttitle?: string | (() => string);\r\n\r\n\t/**\r\n\t * Inline template representing the modal's content\r\n\t */\r\n\ttemplate?: string | (() => string);\r\n\r\n\t/**\r\n\t * Ok button text (false to hide)\r\n\t */\r\n\tokBtnText?: string | boolean;\r\n\r\n\t/**\r\n\t * Cancel button text (false to hide, true for default)\r\n\t */\r\n\tcancelBtnText?: string | boolean;\r\n\r\n\t/**\r\n\t * A controller for a modal instance.\r\n\t */\r\n\tcontroller?: T;\r\n\r\n\tonClose?(this: { $log: NgLogger }, controller: T): boolean;\r\n}\r\n","import { Indexed, WritableKeysOf } from '@ledge/types';\r\nimport { Renderer2, RendererStyleFlags2 } from '@angular/core';\r\nimport { octicons } from './icon';\r\n\r\nexport class NgRenderer extends Renderer2 {\r\n\tpublic baseInputAttrs: [string, string][] = [\r\n\t\t['ng-attr-id', '{{id}}_{{$ctrl.uniqueId}}'],\r\n\t\t['ng-attr-name', '{{id}}_{{$ctrl.uniqueId}}'],\r\n\t\t['ng-model', '$ctrl.ngModel'],\r\n\t\t['ng-model-options', '$ctrl.ngModelOptions'],\r\n\t];\r\n\r\n\tpublic createHtmlElement<T extends keyof HTMLElementTagNameMap | 'ng-transclude'>(\r\n\t\ttagName: T,\r\n\t\tclasses: string[] = [],\r\n\t\tattrs: [string, string][] = [],\r\n\t) {\r\n\t\tconst $el = this.createElement(tagName);\r\n\r\n\t\tfor (const c of classes) {\r\n\t\t\tthis.addClass($el, c);\r\n\t\t}\r\n\r\n\t\tfor (const [key, value] of attrs) {\r\n\t\t\t$el.setAttribute(key, value);\r\n\t\t}\r\n\r\n\t\treturn $el as T extends keyof HTMLElementTagNameMap\r\n\t\t\t? HTMLElementTagNameMap[T]\r\n\t\t\t: HTMLUnknownElement;\r\n\t}\r\n\r\n\tpublic createInput(type: string = 'text', attrs: [string, string][] = []) {\r\n\t\tconst $isRange = type === 'range';\r\n\t\tconst $isRadio = type === 'radio';\r\n\t\tconst $isCheckbox = type === 'checkbox';\r\n\t\tconst $isFormCheck = $isRadio || $isCheckbox;\r\n\r\n\t\tconst $class =\r\n\t\t\t$isFormCheck\r\n\t\t\t\t? ['form-check-input']\r\n\t\t\t\t: $isRange\r\n\t\t\t\t\t? ['custom-range']\r\n\t\t\t\t\t: ['form-control'];\r\n\r\n\t\tconst $inputAttrs: [string, string][] = [\r\n\t\t\t...this.baseInputAttrs,\r\n\t\t\t...attrs,\r\n\t\t\t['type', type],\r\n\t\t];\r\n\r\n\t\tif ($isRadio) {\r\n\t\t\t$inputAttrs.shift(); // we'll set the id in render\r\n\t\t} else if ($isCheckbox === false && $isRange === false) {\r\n\t\t\t$inputAttrs.push(['maxlength', '{{maxlength}}'], ['placeholder', '{{placeholder}}']);\r\n\t\t}\r\n\r\n\t\treturn this.createHtmlElement('input', $class, $inputAttrs);\r\n\t}\r\n\r\n\tpublic createTextArea() {\r\n\t\treturn this.createHtmlElement('textarea', ['form-control'], [\r\n\t\t\t...this.baseInputAttrs,\r\n\t\t\t['maxlength', '{{maxlength}}'],\r\n\t\t\t['placeholder', '{{placeholder}}'],\r\n\t\t]);\r\n\t}\r\n\r\n\tpublic createIcon(iconName: string, options: Indexed = { }) {\r\n\t\tif (octicons.hasOwnProperty(iconName) === false) {\r\n\t\t\tthrow new Error(`\r\n\t\t\t\tIcon not supported: ${iconName}.\\nSupported icons: ${Object.keys(octicons).sort().join(', ')}\r\n\t\t\t`.trim());\r\n\t\t}\r\n\r\n\t\tconst svg = octicons[iconName].toSVG(Object.assign(options, { 'aria-label': iconName }));\r\n\t\tconst container = this.createHtmlElement('div', ['d-inline-flex', 'px-1']);\r\n\t\tcontainer.setAttribute('aria-hidden', 'true');\r\n\t\tcontainer.setAttribute('title', iconName);\r\n\t\tcontainer.innerHTML = svg;\r\n\r\n\t\treturn container;\r\n\t}\r\n\r\n\tpublic createLabel(classList: string[], {\r\n\t\tisRequired = false,\r\n\t\tisSrOnly = false,\r\n\t\tisRadio = false,\r\n\t}: {\r\n\t\tisRequired?: boolean,\r\n\t\tisSrOnly?: boolean,\r\n\t\tisRadio?: boolean,\r\n\t} = {\r\n\t\t\tisRequired: false,\r\n\t\t\tisSrOnly: false,\r\n\t\t\tisRadio: false,\r\n\t\t},\r\n\t) {\r\n\t\tconst $label = this.createHtmlElement(\r\n\t\t\t'label',\r\n\t\t\tclassList,\r\n\t\t\t[['ng-attr-for', '{{id}}_{{$ctrl.uniqueId}}']],\r\n\t\t);\r\n\r\n\t\tif (isRequired === true && !isRadio) {\r\n\t\t\tconst $span = this.createHtmlElement('span', ['text-danger']);\r\n\t\t\t$span.textContent = ' *';\r\n\t\t\t$label.appendChild($span);\r\n\t\t}\r\n\r\n\t\tif (isSrOnly === true) {\r\n\t\t\t$label.classList.add('sr-only');\r\n\t\t}\r\n\r\n\t\treturn $label;\r\n\t}\r\n\r\n\tpublic createSlot(name?: string) {\r\n\t\treturn name != null\r\n\t\t\t? this.createHtmlElement('div', [], [['ng-transclude', name]])\r\n\t\t\t: this.createHtmlElement('ng-transclude') as HTMLDivElement;\r\n\t}\r\n\r\n\tpublic createIconInput($input: HTMLElement, icon?: string, inputGroupAttrs: [string, string][] = []) {\r\n\t\tif (icon == null) {\r\n\t\t\treturn $input;\r\n\t\t}\r\n\r\n\t\tconst $inputGroup = this.createHtmlElement('div', ['input-group']);\r\n\t\tconst $inputGroupPrepend = this.createHtmlElement('div', ['input-group-prepend'], inputGroupAttrs);\r\n\t\tconst $inputGroupText = this.createHtmlElement('span', ['input-group-text']);\r\n\t\tconst $icon = this.createIcon(icon);\r\n\r\n\t\t$inputGroupText.appendChild($icon);\r\n\t\t$inputGroupPrepend.appendChild($inputGroupText);\r\n\r\n\t\t$inputGroup.appendChild($inputGroupPrepend);\r\n\t\t$inputGroup.appendChild($input);\r\n\r\n\t\treturn $inputGroup;\r\n\t}\r\n\r\n\t/**\r\n\t * Renderer2 implementations\r\n\t */\r\n\r\n\t// tslint:disable-next-line: member-ordering\r\n\tpublic data: {  [key: string]: any} = Object.create(null);\r\n\r\n\t// tslint:disable-next-line: member-ordering\r\n\tpublic destroyNode: null;\r\n\r\n\tpublic destroy() {\r\n\t\treturn;\r\n\t}\r\n\r\n\tpublic createElement<T extends keyof HTMLElementTagNameMap>(tagName: T): HTMLElementTagNameMap[T];\r\n\tpublic createElement(tagName: string): HTMLUnknownElement;\r\n\tpublic createElement<T extends keyof HTMLElementTagNameMap>(tagName: T) {\r\n\t\treturn document.createElement(tagName);\r\n\t}\r\n\r\n\tpublic createText(value: string) {\r\n\t\treturn document.createTextNode(value);\r\n\t}\r\n\r\n\tpublic createComment(value: string) {\r\n\t\treturn document.createComment(value);\r\n\t}\r\n\r\n\tpublic appendChild(parent: HTMLElement, newChild: HTMLElement) {\r\n\t\tparent.appendChild(newChild);\r\n\t}\r\n\r\n\tpublic removeChild(parent: HTMLElement, newChild: HTMLElement) {\r\n\t\tparent.removeChild(newChild);\r\n\t}\r\n\r\n\tpublic insertBefore(parent: HTMLElement, newChild: HTMLElement, refChild: HTMLElement) {\r\n\t\tparent.insertBefore(newChild, refChild);\r\n\t}\r\n\r\n\tpublic addClass<T extends HTMLElement>(el: T, name: string) {\r\n\t\tel.classList.add(name);\r\n\t}\r\n\r\n\tpublic removeClass<T extends HTMLElement>(el: T, name: string) {\r\n\t\tel.classList.remove(name);\r\n\t}\r\n\r\n\tpublic setStyle<T extends HTMLElement>(el: T, style: string, value: any, flags?: RendererStyleFlags2) {\r\n\t\tel.style.setProperty(style, value, flags == null ? undefined : flags === RendererStyleFlags2.Important ? 'important' : '');\r\n\t}\r\n\r\n\tpublic removeStyle<T extends HTMLElement>(el: T, style: string) {\r\n\t\tel.style.removeProperty(style);\r\n\t}\r\n\r\n\tpublic setAttribute<T extends HTMLElement>(el: T, name: string, value: string) {\r\n\t\tel.setAttribute(name, value);\r\n\t}\r\n\r\n\tpublic removeAttribute<T extends HTMLElement>(el: T, name: string) {\r\n\t\tel.removeAttribute(name);\r\n\t}\r\n\r\n\tpublic setProperty<T extends HTMLElement, U extends Exclude<WritableKeysOf<T>, number | symbol>>(el: T, name: U, value: any) {\r\n\t\tel[name] = value;\r\n\t}\r\n\r\n\tpublic setValue<T extends HTMLElement>(node: T, value: string) {\r\n\t\tnode.nodeValue = value;\r\n\t}\r\n\r\n\tpublic parentNode(node: HTMLElement) {\r\n\t\treturn node.parentNode;\r\n\t}\r\n\r\n\tpublic nextSibling(node: HTMLElement) {\r\n\t\treturn node.nextSibling;\r\n\t}\r\n\r\n\tpublic selectRootElement(selectorOrNode: string | HTMLElement, preserveContent = false): HTMLElement {\r\n\t\tconst el: HTMLElement | null = typeof selectorOrNode === 'string'\r\n\t\t\t? document.querySelector(selectorOrNode)\r\n\t\t\t: selectorOrNode;\r\n\r\n\t\tif (el == null) {\r\n\t\t\tthrow new Error(`The selector \"${selectorOrNode}\" did not match any elements`);\r\n\t\t}\r\n\r\n\t\tif (preserveContent === false) {\r\n\t\t\tel.textContent = '';\r\n\t\t}\r\n\r\n\t\treturn el;\r\n\t}\r\n\r\n\tpublic listen<T extends keyof GlobalEventHandlersEventMap>(\r\n\t\ttarget: HTMLElement,\r\n\t\teventName: T,\r\n\t\tcallback: (event: GlobalEventHandlersEventMap[T]) => boolean | void,\r\n\t) {\r\n\t\ttarget.addEventListener(eventName, callback);\r\n\t\treturn () => target.removeEventListener(eventName, callback);\r\n\t}\r\n}\r\n","import { Indexed } from '@ledge/types';\r\nimport { IInjectable, ParamType, StateDeclaration, StateService, TargetState, Transition } from '@uirouter/core';\r\n\r\nimport { NgService } from './base';\r\n\r\nexport class NgRouter<T extends NgRoute = NgRoute> extends NgService {\r\n\tpublic routes: T[] = [];\r\n\r\n\tpublic getRoutes() {\r\n\t\treturn this.routes;\r\n\t}\r\n\r\n\tpublic registerRoute(partial: Partial<T>) {\r\n\t\tconst { name, parent, url } = this.generateRouteMeta(partial);\r\n\r\n\t\tconst state = Object.assign({\r\n\t\t\tname,\r\n\t\t\tparent,\r\n\t\t\turl,\r\n\t\t}, partial);\r\n\r\n\t\tthis.routes.push(state as T);\r\n\r\n\t\treturn state as T;\r\n\t}\r\n\r\n\tpublic async isAuthorized() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic generateIntIdParam() {\r\n\t\tconst param = {\r\n\t\t\ttype: new ParamType({\r\n\t\t\t\tdecode(value) {\r\n\t\t\t\t\treturn parseInt(value, 10);\r\n\t\t\t\t},\r\n\t\t\t\tencode(value) {\r\n\t\t\t\t\treturn value && value.toString();\r\n\t\t\t\t},\r\n\t\t\t\tequals(a, b) {\r\n\t\t\t\t\treturn this.is(a) && a === b;\r\n\t\t\t\t},\r\n\t\t\t\tis(value) {\r\n\t\t\t\t\treturn Number.isInteger(this.decode(value));\r\n\t\t\t\t},\r\n\t\t\t}),\r\n\t\t};\r\n\r\n\t\tparam.type.name = 'path';\r\n\t\treturn param;\r\n\t}\r\n\r\n\tpublic generateIntQueryParam() {\r\n\t\tconst param = {\r\n\t\t\ttype: new ParamType({\r\n\t\t\t\tdecode(value) {\r\n\t\t\t\t\treturn parseInt(value, 10);\r\n\t\t\t\t},\r\n\t\t\t\tencode(value) {\r\n\t\t\t\t\treturn value && value.toString();\r\n\t\t\t\t},\r\n\t\t\t\tequals(a, b) {\r\n\t\t\t\t\treturn this.is(a) && a === b;\r\n\t\t\t\t},\r\n\t\t\t\tis(value) {\r\n\t\t\t\t\treturn Number.isInteger(this.decode(value));\r\n\t\t\t\t},\r\n\t\t\t}),\r\n\t\t};\r\n\r\n\t\tparam.type.name = 'query';\r\n\t\treturn param;\r\n\t}\r\n\r\n\tprotected annotateResolveFunctions({ resolve = { } }: NgRoute) {\r\n\t\tfor (const [ id, resolveFn ] of Object.entries(resolve)) {\r\n\t\t\tif (typeof resolveFn !== 'function') {\r\n\t\t\t\tthrow new Error('resolve methods must be a function');\r\n\t\t\t}\r\n\t\t\tresolve[id] = ['$transition$', resolveFn];\r\n\t\t}\r\n\r\n\t\treturn resolve;\r\n\t}\r\n\r\n\tprotected generateRouteMeta(\r\n\t\t{\r\n\t\t\tparams = { },\r\n\t\t\tdata = { },\r\n\t\t\tname = '',\r\n\t\t\tcomponent = '',\r\n\t\t\tparent = '',\r\n\t\t}: Partial<T>,\r\n\t) {\r\n\t\tname = (name || component);\r\n\r\n\t\tlet url = `/${data.isBase ? name : name.split(/(?=[A-Z])/).join('/').toLowerCase()}`\r\n\t\t\t.replace(/View$/, '');\r\n\r\n\t\tfor (const [key, { type = { } }] of Object.entries<any>(params)) {\r\n\t\t\turl += type.name === 'path' ? '/:' : (url.includes('?') ? '&' : '?');\r\n\t\t\turl += key;\r\n\t\t}\r\n\r\n\t\treturn { name, parent, url };\r\n\t}\r\n}\r\n\r\n/**\r\n * @internalapi\r\n * an intermediate interface.\r\n *\r\n * Used to reset typings to `any` so the NgRoute interface can then narrow them\r\n */\r\n// tslint:disable-next-line:class-name\r\ninterface _NgStateService extends StateService {\r\n\tcurrent: any;\r\n}\r\n\r\nexport interface NgStateService extends _NgStateService {\r\n\tcurrent: NgRoute;\r\n\tlabel: string;\r\n\tparent: string;\r\n}\r\n\r\n/**\r\n * @internalapi\r\n * an intermediate interface.\r\n *\r\n * Used to reset typings to `any` so the NgRoute interface can then narrow them\r\n */\r\n// tslint:disable-next-line:class-name\r\ninterface _NgRoute extends StateDeclaration {\r\n\tonExit?: any;\r\n\tonRetain?: any;\r\n\tonEnter?: any;\r\n\tviews?: any;\r\n}\r\n\r\ntype NgTransitionFn = [string, ($trans: Transition) => Promise<Transition | TargetState>];\r\n\r\nexport interface NgRoute extends _NgRoute {\r\n\t/**\r\n\t * The name of the component to use for this view.\r\n\t */\r\n\tcomponent?: string;\r\n\r\n\t/**\r\n\t * An object which maps `resolve`s to component `bindings`.\r\n\t *\r\n\t * When using a component declaration (`component: 'myComponent'`),\r\n\t * each input binding for the component is supplied data from a resolve of\r\n\t * the same name, by default.\r\n\t *\r\n\t * You may supply data from a different resolve name by mapping it here.\r\n\t */\r\n\tbindings?: {\r\n\t\t[key: string]: string;\r\n\t};\r\n\r\n\tresolve?: Indexed<IInjectable>;\r\n\r\n\t/**\r\n\t * Injected function which returns the HTML template.\r\n\t * The template will be used to render the corresponding component.\r\n\t *\r\n\t * #### Examples:\r\n\t * ```ts\r\n\t * {\r\n\t * \t// other props\r\n\t * \ttemplate: require('./template.pug');\r\n\t * }\r\n\t * ```\r\n\t * ```ts\r\n\t * {\r\n\t * \t// other props\r\n\t * \ttemplate: '<div>Hello, world!</div>';\r\n\t * }\r\n\t * ```\r\n\t */\r\n\ttemplate?: string | (() => string);\r\n\r\n\turl: string;\r\n\tparent: string;\r\n\tlabel: string;\r\n\r\n\tonEnter?: NgTransitionFn;\r\n\tonExit?: NgTransitionFn;\r\n\tonRetain?: NgTransitionFn;\r\n}\r\n","export * from './base';\r\nexport * from './http';\r\nexport * from './icon';\r\nexport * from './logger';\r\nexport * from './modal';\r\nexport * from './renderer';\r\nexport * from './router';\r\n","import flatpickr from 'flatpickr';\r\nimport { NgInputController, NgInputOptions } from './shared';\r\n\r\nfunction isNumber(n: any): n is number {\r\n\treturn Number.isInteger(n);\r\n}\r\n\r\nclass DateInputController extends NgInputController {\r\n\tprivate readonly SUPPORTED_MODES = ['single', 'multiple', 'range'];\r\n\tprivate minDate?: Date | number | string;\r\n\tprivate maxDate?: Date | number | string;\r\n\tprivate flatpickr: flatpickr.Instance;\r\n\r\n\tpublic $onInit() {\r\n\t\tthis.ngModelCtrl.$validators.minDate = modelVal => {\r\n\t\t\tif (modelVal != null) {\r\n\t\t\t\tif (isNumber(this.minDate)) {\r\n\t\t\t\t\treturn this.minDate <= modelVal.valueOf();\r\n\t\t\t\t} else if (this.minDate instanceof Date) {\r\n\t\t\t\t\treturn this.minDate.valueOf() <= modelVal.valueOf();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\tthis.ngModelCtrl.$validators.maxDate = modelVal => {\r\n\t\t\tif (modelVal != null) {\r\n\t\t\t\tif (isNumber(this.maxDate)) {\r\n\t\t\t\t\treturn this.maxDate >= modelVal.valueOf();\r\n\t\t\t\t} else if (this.maxDate instanceof Date) {\r\n\t\t\t\t\treturn this.maxDate.valueOf() >= modelVal.valueOf();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\tconst { inline, mode = 'single' } = this.$attrs;\r\n\t\tif (this.SUPPORTED_MODES.includes(mode) === false) {\r\n\t\t\tthis.$log.devWarning(`Unsupported date-input \\`mode\\` ('${mode}') for #${this.$element.id}. Expected one of ${this.SUPPORTED_MODES.join(', ')}.`);\r\n\t\t}\r\n\r\n\t\tthis.flatpickr = flatpickr(this.$element, {\r\n\t\t\tdateFormat: 'M n Y (l)',\r\n\t\t\tdefaultDate: this.ngModel,\r\n\t\t\tinline: inline === 'true',\r\n\t\t\tmode,\r\n\t\t\tnextArrow: '&raquo;',\r\n\t\t\tprevArrow: '&laquo;',\r\n\t\t\tallowInput: true,\r\n\t\t\tweekNumbers: true,\r\n\t\t\twrap: true,\r\n\t\t\tenable: [\r\n\t\t\t\td => {\r\n\t\t\t\t\tconst maxDate = Date.parse(this.maxDate as any);\r\n\t\t\t\t\treturn Number.isNaN(maxDate) || d.valueOf() < maxDate;\r\n\t\t\t\t},\r\n\t\t\t\td => {\r\n\t\t\t\t\tconst minDate = Date.parse(this.minDate as any);\r\n\t\t\t\t\treturn Number.isNaN(minDate) || d.valueOf() > minDate;\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tonChange: selected => {\r\n\t\t\t\tthis.ngModel = selected.length > 1\r\n\t\t\t\t\t? selected\r\n\t\t\t\t\t: selected[0];\r\n\r\n\t\t\t\tthis.$scope.$applyAsync();\r\n\t\t\t},\r\n\t\t}) as flatpickr.Instance;\r\n\t}\r\n\r\n\tpublic $onDestroy() {\r\n\t\tif (this.flatpickr != null && typeof this.flatpickr.destroy === 'function') {\r\n\t\t\tthis.flatpickr.destroy();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic getMinDate() {\r\n\t\treturn new Date(this.minDate as number).toLocaleDateString();\r\n\t}\r\n\r\n\tpublic getMaxDate() {\r\n\t\treturn new Date(this.maxDate as number).toLocaleDateString();\r\n\t}\r\n}\r\n\r\nexport const dateInput: NgInputOptions = {\r\n\ttype: 'input',\r\n\trender(h) {\r\n\t\tconst input = h.createInput('text');\r\n\r\n\t\t// flatpickr requires control of the input element\r\n\t\tinput.removeAttribute('ng-model');\r\n\t\tinput.setAttribute('data-input', 'true');\r\n\r\n\t\tconst iconInput = h.createIconInput(input, 'calendar', [\r\n\t\t\t['data-toggle', 'true'],\r\n\t\t\t['style', 'cursor: pointer;'],\r\n\t\t]);\r\n\r\n\t\tconst inputGroupAppend = h.createHtmlElement('div', ['input-group-append']);\r\n\t\tinputGroupAppend.setAttribute('data-clear', 'true');\r\n\t\tinputGroupAppend.style.setProperty('cursor', 'pointer');\r\n\r\n\t\tconst inputGroupText = h.createHtmlElement('span', ['input-group-text']);\r\n\t\tconst clearIcon = h.createIcon('x');\r\n\r\n\t\tinputGroupText.appendChild(clearIcon);\r\n\t\tinputGroupAppend.appendChild(inputGroupText);\r\n\t\ticonInput.appendChild(inputGroupAppend);\r\n\r\n\t\treturn iconInput;\r\n\t},\r\n\tbindings: {\r\n\t\tminDate: '<',\r\n\t\tmaxDate: '<',\r\n\t},\r\n\tvalidators: {\r\n\t\tminDate: 'Date must be on or after {{$ctrl.getMinDate()}}',\r\n\t\tmaxDate: 'Date must be on or before {{$ctrl.getMaxDate()}}',\r\n\t},\r\n\tcontroller: DateInputController,\r\n};\r\n","import { NgController } from '../controller';\nimport { NgComponentOptions } from '../options';\n\nclass IconController extends NgController {\n\tpublic $onInit() {\n\t\tconst { icon: iconName, width = 23, height = 23 } = this.$attrs;\n\t\tconst icon = this.$renderer.createIcon(iconName, { width, height });\n\t\tthis.$element.appendChild(icon);\n\t}\n}\n\nexport const appIcon: NgComponentOptions = {\n\tcontroller: IconController,\n};\n","import { NgController } from '../controller';\nimport { NgComponentOptions } from '../options';\n\nclass SpinnerController extends NgController {\n\tprivate readonly colors = ['primary', 'secondary', 'success', 'danger', 'warning', 'info', 'light', 'dark'];\n\n\tpublic $onInit() {\n\t\tconst { color = 'primary' } = this.$attrs;\n\n\t\tif (this.colors.includes(color) === false) {\n\t\t\tthrow new Error(`Color not supported: ${color}.\\nSupported colors: ${this.colors.join(', ')}`);\n\t\t}\n\n\t\tconst srDesc = this.$renderer.createHtmlElement('span', ['sr-only']);\n\t\tsrDesc.innerText = 'Loading...';\n\n\t\tconst spinner = this.$renderer.createHtmlElement('div', ['spinner-border', `text-${color}`, 'mx-1'], [['role', 'status']]);\n\t\tspinner.appendChild(srDesc);\n\t\tspinner.style.setProperty('margin-top', '0.23rem');\n\n\t\tthis.$element.appendChild(spinner);\n\t}\n}\n\nexport const appSpinner: NgComponentOptions = {\n\tcontroller: SpinnerController,\n};\n","import { appIcon } from './app-icon';\r\nimport { appSpinner } from './app-spinner';\r\n\r\nexport const misc = {\r\n\tappIcon,\r\n\tappSpinner,\r\n};\r\n","import { NgInputOptions } from './shared';\n\nexport const checkBox: NgInputOptions = {\n\ttype: 'input',\n\ttemplateClass: 'form-check',\n\tlabelClass: 'form-check-label',\n\trender(h) {\n\t\tconst input = h.createInput('checkbox');\n\t\tinput.style.setProperty('cursor', 'pointer');\n\n\t\tif (this.$attrs.hasOwnProperty('inline')) {\n\t\t\tthis.$template.classList.remove('form-check');\n\t\t\tthis.$template.classList.add('form-check-inline');\n\t\t}\n\n\t\treturn input;\n\t},\n\tbindings: {\n\t\tngChecked: '<',\n\t},\n};\n","import { NgInputController } from './controller';\nimport { NgInputOptions } from './options';\nimport { NgRenderer, NgService } from '../../services';\nimport { NgComponentOptions } from '../../options';\nimport { NgAttributes } from '../../controller';\n\nexport class InputService extends NgService {\n\tpublic static readonly $validationAttrs = [\n\t\t'required', 'ngRequired',\n\t\t'disabled', 'ngDisabled',\n\t\t'readonly', 'ngReadonly',\n\t];\n\n\tpublic static readonly $validationMessages = new Map<string, string>([\n\t\t['email', 'Email address must be in the following form: email@address.com'],\n\t\t['required', 'This field is required'],\n\t\t['minlength', 'Input is not long enough'],\n\t\t['maxlength', 'Input is too long'],\n\t]);\n\tpublic static readonly $validationExps = {\n\t\t$error: '$ctrl.ngModelCtrl.$error',\n\t\t$invalid: '$ctrl.ngModelCtrl.$invalid',\n\t\t$touched: '$ctrl.ngModelCtrl.$touched',\n\t\t$formInvalid: `$ctrl.ngModelCtrl.$$parentForm.$submitted`,\n\t\tget $isInvalid() {\n\t\t\treturn `(${this.$touched} || ${this.$formInvalid}) && ${this.$invalid}`;\n\t\t},\n\t};\n\n\tpublic static makeBaseComponent() {\n\t\treturn {\n\t\t\tlabelClass: 'form-control-label',\n\t\t\ttemplateClass: 'form-group',\n\t\t\tattrs: { },\n\t\t\tcontroller: NgInputController,\n\t\t\trenderLabel: function defaultRenderLabel(h) {\n\t\t\t\tconst $transclude = h.createSlot();\n\t\t\t\t$transclude.textContent = InputService.getDefaultLabelText(this.$attrs);\n\t\t\t\tthis.$label.appendChild($transclude);\n\t\t\t} as NgInputOptions['renderLabel'],\n\t\t\t// tslint:disable-next-line:variable-name\n\t\t\tpostRender: function defaultPostRender(_h) {\n\t\t\t\treturn this.$template;\n\t\t\t} as NgInputOptions['postRender'],\n\t\t\tget isRadioOrCheckbox() {\n\t\t\t\treturn this.labelClass === 'form-check-label';\n\t\t\t},\n\t\t};\n\t}\n\n\tpublic static makeBaseOptions(): NgComponentOptions {\n\t\treturn {\n\t\t\ttransclude: {\n\t\t\t\tcontain: '?contain',\n\t\t\t},\n\t\t\trequire: {\n\t\t\t\tngModelCtrl: 'ngModel',\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tngModel: '=',\n\t\t\t\tngModelOptions: '<',\n\t\t\t\tngDisabled: '<',\n\t\t\t\tngReadonly: '<',\n\t\t\t\tngRequired: '<',\n\t\t\t},\n\t\t};\n\t}\n\n\t/**\n\t * Retrieves the identifying name for an ngModel (e.g., `$ctrl.example` in `ng-model=\"$ctrl.example\"`)\n\t */\n\tpublic static modelIdentifier($attrs: NgAttributes) {\n\t\treturn ($attrs.ngModel as string).split('.').pop() as string;\n\t}\n\n\t/**\n\t * Generates label text from the identifying name for an ngModel (e.g., `$ctrl.example` in `ng-model=\"$ctrl.example\"`)\n\t */\n\tpublic static getDefaultLabelText($attrs: NgAttributes) {\n\t\treturn this.modelIdentifier($attrs)\n\t\t\t.split(/(?=[A-Z0-9])/)\n\t\t\t.map(x => isNaN(Number(x)) ? x.charAt(0).toUpperCase() + x.substring(1) : x)\n\t\t\t.join(' ');\n\t}\n\n\t/**\n\t * @param $input - The input to set attributes on\n\t */\n\tpublic static getInputInput($input: HTMLElement) {\n\t\treturn (\n\t\t\t['INPUT', 'TEXTAREA', 'SELECT'].includes($input.tagName)\n\t\t\t\t? $input\n\t\t\t\t: $input.querySelector('select') || $input.querySelector('input')\n\t\t) as HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement;\n\t}\n\n\t/**\n\t * Transform an input component definition into an ng component definition\n\t * @param component An object representing the requested component definition\n\t */\n\tpublic static defineInputComponent(component: NgInputOptions) {\n\t\t// 'h' identifier (and many other ideas) taken from the virtual-dom ecosystem\n\t\tconst h = new NgRenderer();\n\n\t\tconst $component = Object.assign(InputService.makeBaseComponent(), component);\n\t\tconst $definition = Object.assign(InputService.makeBaseOptions(), { controller: $component.controller });\n\n\t\t// assign child objects\n\t\tObject.assign($definition.bindings, $component.bindings);\n\t\tObject.assign($definition.transclude, $component.transclude);\n\n\t\t// assign template\n\t\t$definition.template = ['$element', '$attrs', ($element: [HTMLElement], $attrs: NgAttributes) => {\n\t\t\tconst $el = $element[0];\n\n\t\t\tconst $template = h.createHtmlElement('div', [$component.templateClass]);\n\n\t\t\t// allow consumer to access $template and $attrs attributes from `this`\n\t\t\tconst $input = $component.render.call({ $template, $attrs }, h);\n\n\t\t\tconst isRadio = ($input as HTMLInputElement).type === 'radio';\n\t\t\tconst isRequired = $attrs.hasOwnProperty('required');\n\t\t\tconst isSrOnly = $attrs.hasOwnProperty('srOnly');\n\n\t\t\t// all inputs must have labels\n\t\t\tconst $label = h.createLabel([$component.labelClass], { isRequired, isSrOnly, isRadio });\n\n\t\t\tif ($component.isRadioOrCheckbox === false) {\n\t\t\t\t$template.appendChild($label);\n\t\t\t}\n\n\t\t\tif ($component.canHaveIcon === true) {\n\t\t\t\t$template.appendChild(h.createIconInput($input, $attrs.icon));\n\t\t\t} else {\n\t\t\t\t$template.appendChild($input);\n\t\t\t}\n\n\t\t\tif ($el.closest('contain') != null) {\n\t\t\t\t$input.style.marginTop = '8px';\n\t\t\t\t$label.classList.add('sr-only');\n\t\t\t}\n\n\t\t\tconst requiredTag = $label.firstElementChild;\n\t\t\tif (requiredTag != null) {\n\t\t\t\t$label.removeChild(requiredTag);\n\t\t\t}\n\n\t\t\t($component.renderLabel as NonNullable<NgInputOptions['renderLabel']>)\n\t\t\t\t.call({ $label, $attrs }, h);\n\n\t\t\tif (requiredTag != null) {\n\t\t\t\t$label.appendChild(requiredTag);\n\t\t\t}\n\n\t\t\t// add a transclusion slot for e.g. nesting inputs\n\t\t\t$template.appendChild(h.createSlot('contain'));\n\n\t\t\tif ($component.isRadioOrCheckbox === true) {\n\t\t\t\t$label.style.setProperty('cursor', 'pointer');\n\t\t\t\t$template.appendChild($label);\n\t\t\t}\n\n\t\t\t($component.postRender as NonNullable<NgInputOptions['postRender']>)\n\t\t\t\t.call({ $template, $attrs }, h);\n\n\t\t\t// that's right, i named it after filterFilter. fight me.\n\t\t\tconst $inputInput = this.getInputInput($input);\n\n\t\t\tthis.$validationAttrs\n\t\t\t\t.filter(x => $attrs.hasOwnProperty(x) === true)\n\t\t\t\t.forEach(x => {\n\t\t\t\t\t$inputInput.setAttribute(\n\t\t\t\t\t\tx.replace(/[A-Z]/, s => `-${s.toLowerCase()}`),\n\t\t\t\t\t\tx.startsWith('ng') ? `$ctrl.${x}` : 'true',\n\t\t\t\t\t);\n\t\t\t\t});\n\n\t\t\tif ($inputInput.tagName !== 'SELECT') {\n\t\t\t\t$inputInput.setAttribute('ng-class', `{ 'is-invalid': ${this.$validationExps.$isInvalid} }`);\n\t\t\t\t$inputInput.setAttribute('ng-blur', '$ctrl.ngModelCtrl.$setTouched()');\n\t\t\t}\n\n\t\t\tconst $validationBlock = h.createHtmlElement('div', [], [\n\t\t\t\t['ng-messages', this.$validationExps.$error],\n\t\t\t\t['ng-show', this.$validationExps.$isInvalid],\n\t\t\t\t['role', 'alert'],\n\t\t\t]);\n\n\t\t\tconst { validators = { } } = $component;\n\t\t\tconst attrs = Object.keys($component.attrs);\n\n\t\t\tfor (const [key, value] of Object.entries(validators)) {\n\t\t\t\tthis.$validationMessages.set(key, value);\n\t\t\t\tattrs.push(key);\n\t\t\t}\n\n\t\t\tthis.$validationAttrs\n\t\t\t\t.concat(...attrs, 'email')\n\t\t\t\t.filter(x => x.startsWith('ng') === false)\n\t\t\t\t.filter(x => this.$validationMessages.has(x) === true)\n\t\t\t\t.filter(x => x !== 'email' || $inputInput.type === x)\n\t\t\t\t.forEach(x => {\n\t\t\t\t\tconst $message = h.createHtmlElement('div', ['text-danger'], [['ng-message', x]]);\n\t\t\t\t\t$message.innerText = this.$validationMessages.get(x) as string;\n\t\t\t\t\t$validationBlock.appendChild($message);\n\t\t\t\t});\n\n\t\t\tlet $html: string;\n\t\t\tif (isRadio === true) {\n\t\t\t\tconst $newTpl = h.createHtmlElement('div', ['form-group']);\n\t\t\t\t$newTpl.appendChild($template);\n\t\t\t\t$newTpl.appendChild($validationBlock);\n\t\t\t\t$html = $newTpl.outerHTML;\n\t\t\t} else {\n\t\t\t\t$template.appendChild($validationBlock);\n\t\t\t\t$html = $template.outerHTML;\n\t\t\t}\n\n\t\t\t$html = $html.replace(/{{id}}/g, this.modelIdentifier($attrs));\n\n\t\t\tattrs\n\t\t\t\t.forEach(prop => {\n\t\t\t\t\t$html = $html.replace(\n\t\t\t\t\t\tnew RegExp(`{{${prop}}}`, 'g'),\n\t\t\t\t\t\t$attrs[prop] || $component.attrs[prop],\n\t\t\t\t\t);\n\t\t\t\t});\n\n\t\t\treturn $html;\n\t\t}];\n\n\t\treturn $definition;\n\t}\n}\n","import { NgInputController, NgInputOptions } from './shared';\r\n\r\nclass TextBoxController extends NgInputController {\r\n\tpublic $element: HTMLTextAreaElement;\r\n\tpublic $mirror = document.createElement('textarea');\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.$mirror.setAttribute('aria-hidden', 'true');\r\n\t\tthis.$mirror.setAttribute('aria-label', 'Hidden TextArea');\r\n\t\tthis.$mirror.setAttribute('tabindex', '-1');\r\n\r\n\t\tthis.$mirror.style.setProperty('position', 'absolute');\r\n\t\tthis.$mirror.style.setProperty('top', '-999px');\r\n\t\tthis.$mirror.style.setProperty('right', 'auto');\r\n\t\tthis.$mirror.style.setProperty('bottom', 'auto');\r\n\t\tthis.$mirror.style.setProperty('left', '0');\r\n\t\tthis.$mirror.style.setProperty('overflow', 'hidden');\r\n\t\tthis.$mirror.style.setProperty('box-sizing', 'content-box');\r\n\t\tthis.$mirror.style.setProperty('min-height', '0', 'important');\r\n\t\tthis.$mirror.style.setProperty('height', '0', 'important');\r\n\t\tthis.$mirror.style.setProperty('padding', '0');\r\n\t\tthis.$mirror.style.setProperty('word-wrap', 'break-word');\r\n\t\tthis.$mirror.style.setProperty('border', '0');\r\n\r\n\t\t// append mirror to the DOM\r\n\t\tdocument.body.appendChild(this.$mirror);\r\n\t}\r\n\r\n\tpublic $onInit() {\r\n\t\t// the query *must* return an element or nothing we've done so far matters\r\n\t\tconst element = this.$element.querySelector('textarea') as HTMLTextAreaElement;\r\n\t\tlet computedStyle = window.getComputedStyle(element);\r\n\r\n\t\tconst boxOuter = {\r\n\t\t\twidth:\r\n\t\t\t\tparseInt(computedStyle.getPropertyValue('border-right-width'), 10) +\r\n\t\t\t\tparseInt(computedStyle.getPropertyValue('padding-right'), 10) +\r\n\t\t\t\tparseInt(computedStyle.getPropertyValue('padding-left'), 10) +\r\n\t\t\t\tparseInt(computedStyle.getPropertyValue('border-left-width'), 10),\r\n\t\t\theight:\r\n\t\t\t\tparseInt(computedStyle.getPropertyValue('border-top-width'), 10) +\r\n\t\t\t\tparseInt(computedStyle.getPropertyValue('padding-top'), 10) +\r\n\t\t\t\tparseInt(computedStyle.getPropertyValue('padding-bottom'), 10) +\r\n\t\t\t\tparseInt(computedStyle.getPropertyValue('border-bottom-width'), 10),\r\n\t\t};\r\n\r\n\t\tconst minHeightValue = parseInt(computedStyle.getPropertyValue('min-height'), 10);\r\n\t\tconst heightValue = parseInt(computedStyle.getPropertyValue('height'), 10);\r\n\t\tconst minHeight = Math.max(minHeightValue, heightValue) - boxOuter.height;\r\n\r\n\t\t// Opera returns max-height of -1 if not set\r\n\t\tlet maxHeight = parseInt(computedStyle.getPropertyValue('max-height'), 10);\r\n\t\tmaxHeight = maxHeight && maxHeight > 0 ? maxHeight : 9e4;\r\n\r\n\t\t// set resize and apply elastic\r\n\t\telement.style.setProperty('resize', 'none');\r\n\r\n\t\tconst mirror = this.$mirror;\r\n\t\tfunction adjust() {\r\n\t\t\trequestAnimationFrame(() => {\r\n\t\t\t\tcomputedStyle = window.getComputedStyle(element);\r\n\r\n\t\t\t\tconst width = (parseInt(computedStyle.getPropertyValue('width'), 10) - boxOuter.width) + 'px';\r\n\t\t\t\tmirror.style.setProperty('width', width);\r\n\t\t\t\tmirror.style.setProperty('overflow-y', computedStyle.getPropertyValue('overflow-y'));\r\n\r\n\t\t\t\tmirror.value = element.value;\r\n\r\n\t\t\t\tlet { scrollHeight } = mirror;\r\n\t\t\t\tlet overflow = 'hidden';\r\n\r\n\t\t\t\tif (scrollHeight > maxHeight) {\r\n\t\t\t\t\tscrollHeight = maxHeight;\r\n\t\t\t\t\toverflow = 'scroll';\r\n\t\t\t\t} else if (scrollHeight < minHeight) {\r\n\t\t\t\t\tscrollHeight = minHeight;\r\n\t\t\t\t}\r\n\r\n\t\t\t\telement.style.setProperty('overflow-y', overflow);\r\n\r\n\t\t\t\tscrollHeight += boxOuter.height;\r\n\t\t\t\tif (parseInt(computedStyle.getPropertyValue('height'), 10) !== scrollHeight) {\r\n\t\t\t\t\telement.style.setProperty('height', scrollHeight + 'px');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('resize', adjust);\r\n\t\telement.addEventListener('keydown', adjust);\r\n\r\n\t\tthis.$scope.$on('$destroy', () => {\r\n\t\t\tif (this.isIE11) {\r\n\t\t\t\t(this.$mirror as any).removeNode(true);\r\n\t\t\t} else {\r\n\t\t\t\tthis.$mirror.remove();\r\n\t\t\t}\r\n\t\t\twindow.removeEventListener('resize', adjust);\r\n\t\t\telement.removeEventListener('keydown', adjust);\r\n\t\t});\r\n\r\n\t\t// copy the essential styles from the textarea to the mirror\r\n\t\tconst styles = [\r\n\t\t\t'font-family',\r\n\t\t\t'font-size',\r\n\t\t\t'font-weight',\r\n\t\t\t'font-style',\r\n\t\t\t'letter-spacing',\r\n\t\t\t'line-height',\r\n\t\t\t'text-transform',\r\n\t\t\t'word-spacing',\r\n\t\t\t'text-indent',\r\n\t\t\t'white-space',\r\n\t\t];\r\n\r\n\t\tfor (const style of styles) {\r\n\t\t\tthis.$mirror.style.setProperty(style, computedStyle.getPropertyValue(style));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const textBox: NgInputOptions = {\r\n\ttype: 'input',\r\n\tattrs: { maxlength: 3000, placeholder: '' },\r\n\trender(h) {\r\n\t\tconst textArea = h.createTextArea();\r\n\r\n\t\ttextArea.style.setProperty('overflow', 'hidden');\r\n\t\ttextArea.style.setProperty('overflow-y', 'hidden');\r\n\t\ttextArea.style.setProperty('word-wrap', 'break-word');\r\n\r\n\t\treturn textArea;\r\n\t},\r\n\tcontroller: TextBoxController,\r\n};\r\n","import Fuse from 'fuse.js';\nimport cloneDeep from 'lodash/cloneDeep';\n\nimport { NgInputController, NgInputOptions } from './shared';\nimport { NgService } from '../services';\nimport { NgAttributes } from '../controller';\n\nclass SelectController extends NgInputController {\n\tpublic static readonly SinglePlaceholder = '----Select One----';\n\tpublic static readonly MultiplePlaceholder = '----Select All That Apply----';\n\n\tpublic static IsMultiple($attrs: NgAttributes) {\n\t\treturn $attrs.hasOwnProperty('multiple') || $attrs.type === 'multiple';\n\t}\n\n\tpublic static GetPlaceholder($attrs: NgAttributes) {\n\t\treturn $attrs.placeholder ||\n\t\t\tthis.IsMultiple($attrs)\n\t\t\t? this.MultiplePlaceholder\n\t\t\t: this.SinglePlaceholder;\n\t}\n\n\tprotected isListOpen = false;\n\tprotected list: any[];\n\tprotected searchList: any[];\n\n\t// tslint:disable:variable-name\n\tprivate _text: string;\n\tprivate _value: string;\n\t// tslint:enable:variable-name\n\n\tpublic get text() {\n\t\tif (typeof this._text !== 'string') {\n\t\t\tconst { text = 'Text' } = this.$attrs;\n\t\t\tthis._text = text;\n\t\t}\n\t\treturn this._text;\n\t}\n\n\tpublic get value() {\n\t\tif (typeof this._value !== 'string') {\n\t\t\tconst { value = 'Value' } = this.$attrs;\n\t\t\tthis._value = value;\n\t\t}\n\t\treturn this._value;\n\t}\n\n\tprivate destroyCurrentWatcher: () => void;\n\n\tprivate get isMultiple() {\n\t\treturn SelectController.IsMultiple(this.$attrs);\n\t}\n\n\tpublic $onInit() {\n\t\tconst container = this.$element.querySelector('.select-container') as HTMLDivElement;\n\t\tconst innerContainer = this.$element.querySelector('.select-inner-container') as HTMLDivElement;\n\t\tconst dropdown = this.$element.querySelector('.select-dropdown') as HTMLDivElement;\n\t\tconst dropdownlist = this.$element.querySelector('.select-dropdown-list') as HTMLDivElement;\n\t\tconst input = this.$element.querySelector('input') as HTMLInputElement;\n\n\t\tconst updateSearchList = () => {\n\t\t\tif (input.value) {\n\t\t\t\tthis.searchList = this.getSearchList(fuzzer.search(input.value));\n\t\t\t} else {\n\t\t\t\tthis.searchList = cloneDeep(this.list);\n\t\t\t}\n\t\t\tthis.$scope.$applyAsync();\n\t\t};\n\n\t\tlet fuzzer: Fuse<any, any>;\n\t\tthis.$scope.$watchCollection(\n\t\t\t() => this.list,\n\t\t\t_ => {\n\t\t\t\tfuzzer = new Fuse(_, {\n\t\t\t\t\tshouldSort: true,\n\t\t\t\t\tthreshold: 0.3,\n\t\t\t\t\tlocation: 0,\n\t\t\t\t\tdistance: 100,\n\t\t\t\t\tmaxPatternLength: 32,\n\t\t\t\t\tminMatchCharLength: 1,\n\t\t\t\t\tkeys: [this.text],\n\t\t\t\t});\n\n\t\t\t\tupdateSearchList();\n\t\t\t},\n\t\t);\n\n\t\tlet shouldFocusInput = true;\n\t\tinnerContainer.onclick = e => {\n\t\t\tif (e.target instanceof HTMLButtonElement ||\n\t\t\t\t(this.isMultiple &&\n\t\t\t\t\te.target instanceof HTMLElement &&\n\t\t\t\t\te.target.classList.contains('select-item') &&\n\t\t\t\t\te.target.classList.contains('placeholder') === false)) {\n\t\t\t\tshouldFocusInput = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (shouldFocusInput) {\n\t\t\t\tinput.hidden = false;\n\t\t\t\tinput.focus();\n\t\t\t}\n\n\t\t\tshouldFocusInput = true;\n\t\t};\n\n\t\tinput.onfocus = () => {\n\t\t\tdropdown.classList.remove('border-top-0');\n\t\t\tdropdown.classList.remove('border-bottom-0');\n\t\t\tdropdownlist.hidden = false;\n\t\t};\n\n\t\tinput.onblur = e => {\n\t\t\tlet { explicitOriginalTarget: target } = e as any;\n\t\t\tif (target.nodeName === '#text') {\n\t\t\t\ttarget = target.parentElement;\n\t\t\t}\n\n\t\t\tconst targetIsItem =\n\t\t\t\ttarget instanceof HTMLDivElement &&\n\t\t\t\ttarget.classList.contains('select-item') &&\n\t\t\t\ttarget.parentElement instanceof HTMLDivElement &&\n\t\t\t\ttarget.parentElement.classList.contains('select-dropdown-list');\n\n\t\t\tif (targetIsItem) {\n\t\t\t\tinput.value = '';\n\t\t\t\tthis.select(target.dataset.value);\n\t\t\t\tshouldFocusInput = true;\n\t\t\t} else {\n\t\t\t\tshouldFocusInput = e.relatedTarget !== container && e.relatedTarget !== innerContainer;\n\t\t\t}\n\n\t\t\tdropdown.classList.add('border-top-0');\n\t\t\tdropdown.classList.add('border-bottom-0');\n\t\t\tdropdownlist.hidden = true;\n\n\t\t\tinput.hidden = true;\n\t\t};\n\n\t\tinput.oninput = () => {\n\t\t\tupdateSearchList();\n\t\t};\n\t}\n\n\tpublic $onDestroy() {\n\t\tif (typeof this.destroyCurrentWatcher === 'function') {\n\t\t\tthis.destroyCurrentWatcher();\n\t\t}\n\t}\n\n\tpublic getDisplayText(value: any) {\n\t\tif (value == null) {\n\t\t\treturn SelectController.GetPlaceholder(this.$attrs);\n\t\t}\n\n\t\t// tslint:disable-next-line:triple-equals\n\t\treturn this.list.find(x => x[this.value] == value)[this.text];\n\t}\n\n\tpublic remove(item: any) {\n\t\t// tslint:disable-next-line:triple-equals\n\t\tthis.ngModel = this.ngModel.filter((x: any) => x != item);\n\t}\n\n\tpublic clear() {\n\t\tthis.ngModel = undefined;\n\t\tthis.searchList = this.getSearchList(this.list);\n\t}\n\n\tpublic select(value: any) {\n\t\tif (this.isMultiple) {\n\t\t\tthis.ngModel = Array.isArray(this.ngModel)\n\t\t\t\t? this.ngModel.includes(value)\n\t\t\t\t\t? this.ngModel\n\t\t\t\t\t: this.ngModel.concat(value)\n\t\t\t\t: [value];\n\t\t} else {\n\t\t\tthis.ngModel = value;\n\t\t}\n\n\t\tthis.searchList = this.getSearchList(this.list);\n\t\tthis.$scope.$applyAsync();\n\t}\n\n\tprivate getSearchList(list: any[]) {\n\t\t// tslint:disable:triple-equals\n\t\treturn Array.isArray(this.ngModel)\n\t\t\t? list.filter(x => this.ngModel.every((y: any) => x[this.value] != y))\n\t\t\t: this.ngModel == null\n\t\t\t\t? cloneDeep(list)\n\t\t\t\t: list.filter(x => x[this.value] != this.ngModel);\n\t\t// tslint:enable:triple-equals\n\t}\n}\n\nexport const selectList: NgInputOptions = {\n\ttype: 'input',\n\trender(h) {\n\t\tconst select = h.createHtmlElement(\n\t\t\t'select',\n\t\t\t['form-control', 'select-input', 'd-none'],\n\t\t\t[\n\t\t\t\t['ng-attr-name', '{{id}}_{{$ctrl.uniqueId}}'],\n\t\t\t\t['ng-attr-id', '{{id}}_{{$ctrl.uniqueId}}'],\n\t\t\t\t['ng-model', '$ctrl.ngModel'],\n\t\t\t],\n\t\t);\n\n\t\tconst isMultiple = SelectController.IsMultiple(this.$attrs);\n\t\tif (isMultiple) {\n\t\t\tselect.setAttribute('multiple', 'true');\n\t\t} else {\n\t\t\tconst placeholder = h.createHtmlElement('option');\n\n\t\t\tplaceholder.setAttribute('placeholder', 'true');\n\t\t\tplaceholder.text = SelectController.GetPlaceholder(this.$attrs);\n\t\t\tplaceholder.value = '';\n\n\t\t\tselect.appendChild(placeholder);\n\t\t}\n\n\t\tif (NgService.IsMobile()) {\n\t\t\tselect.classList.remove('d-none');\n\t\t\tselect.setAttribute(\n\t\t\t\t'ng-options',\n\t\t\t\t'item[\\'{{$ctrl.value}}\\'] as item[\\'{{$ctrl.text}}\\'] for item in $ctrl.searchList track by $index',\n\t\t\t);\n\t\t\treturn select;\n\t\t}\n\n\t\tconst inner = h.createHtmlElement('div', ['select-inner-container']);\n\t\tconst innerlist = h.createHtmlElement('div', ['select-list', isMultiple ? 'multiple' : 'single']);\n\t\tconst selected = h.createHtmlElement('div', ['select-item']);\n\n\t\tconst btn = h.createHtmlElement('button', ['select-button'],\n\t\t\t[\n\t\t\t\t['ng-attr-aria-label', 'Remove item: \\'{{$ctrl.getDisplayText($ctrl.ngModel)}}\\''],\n\t\t\t\t['ng-click', '$ctrl.clear()'],\n\t\t\t],\n\t\t);\n\n\t\tif (isMultiple) {\n\t\t\tconst sbtn = btn.cloneNode() as HTMLButtonElement;\n\t\t\tsbtn.setAttribute('ng-attr-aria-label', 'Remove item: \\'{{$ctrl.getDisplayText(item)}}\\'');\n\t\t\tsbtn.setAttribute('ng-click', '$ctrl.remove(item)');\n\n\t\t\tselected.setAttribute('ng-repeat', 'item in $ctrl.ngModel track by $index');\n\t\t\tselected.setAttribute('aria-selected', 'true');\n\t\t\tselected.innerHTML = `{{$ctrl.getDisplayText(item)}}${sbtn.outerHTML}`;\n\n\t\t\tconst placeholder = h.createHtmlElement('div', ['select-item', 'placeholder'], [['ng-if', '$ctrl.ngModel == null || $ctrl.ngModel.length === 0']]);\n\t\t\tplaceholder.innerText = SelectController.GetPlaceholder(this.$attrs);\n\n\t\t\tinnerlist.appendChild(placeholder);\n\t\t} else {\n\t\t\tselected.setAttribute('ng-class', '{ \\'placeholder\\': $ctrl.ngModel == null }');\n\t\t\tselected.innerText = '{{$ctrl.getDisplayText($ctrl.ngModel)}}';\n\t\t}\n\n\t\tconst item = h.createHtmlElement('div', ['select-item'],\n\t\t\t[\n\t\t\t\t['ng-repeat', 'item in $ctrl.searchList track by $index'],\n\t\t\t\t['ng-attr-data-value', '{{item[$ctrl.value]}}'],\n\t\t\t\t['role', 'option'],\n\t\t\t],\n\t\t);\n\t\titem.innerText = '{{item[$ctrl.text]}}';\n\n\t\tconst list = h.createHtmlElement('div', ['select-dropdown-list'],\n\t\t\t[\n\t\t\t\t['dir', 'ltr'],\n\t\t\t\t['role', 'listbox'],\n\t\t\t\t['hidden', 'true'],\n\t\t\t],\n\t\t);\n\n\t\tconst input = h.createHtmlElement('input', ['select-input'],\n\t\t\t[\n\t\t\t\t['type', 'text'],\n\t\t\t\t['autocomplete', 'off'],\n\t\t\t\t['autocapitalize', 'off'],\n\t\t\t\t['spellcheck', 'false'],\n\t\t\t\t['role', 'textbox'],\n\t\t\t\t['aria-autocomplete', 'list'],\n\t\t\t\t['placeholder', ''],\n\t\t\t\t['aria-label', 'Select List'],\n\t\t\t\t['hidden', 'true'],\n\t\t\t],\n\t\t);\n\n\t\tconst type = `select-${isMultiple ? 'multiple' : 'one'}`;\n\t\tconst container = h.createHtmlElement('div', ['select-container'],\n\t\t\t[\n\t\t\t\t['data-type', type],\n\t\t\t\t['role', 'combobox'],\n\t\t\t\t['tabindex', '0'],\n\t\t\t\t['aria-autocomplete', 'list'],\n\t\t\t\t['aria-haspopup', 'true'],\n\t\t\t\t['aria-expanded', 'false'],\n\t\t\t\t['dir', 'ltr'],\n\t\t\t\t['ng-attr-name', `${type}_{{$ctrl.uniqueId}}`],\n\t\t\t\t['ng-attr-id', `${type}_{{$ctrl.uniqueId}}`],\n\t\t\t],\n\t\t);\n\n\t\tconst dropdown = h.createHtmlElement('div', ['select-dropdown', 'border-bottom-0', 'border-top-0'], [['aria-expanded', 'false']]);\n\n\t\tinnerlist.appendChild(selected);\n\t\tinnerlist.appendChild(btn);\n\t\tinner.appendChild(select);\n\t\tinner.appendChild(innerlist);\n\n\t\tlist.appendChild(item);\n\n\t\tdropdown.appendChild(input);\n\t\tdropdown.appendChild(list);\n\n\t\tcontainer.appendChild(inner);\n\t\tcontainer.appendChild(dropdown);\n\n\t\treturn container;\n\t},\n\tcontroller: SelectController,\n\tbindings: {\n\t\tlist: '<',\n\t},\n};\n","import { NgApp } from './src/app';\nimport { inputs } from './src/inputs';\nimport { misc } from './src/misc';\n\n// @ts-ignore\nimport ngAnimate from 'angular-animate';\n// @ts-ignore\nimport ngMessages from 'angular-messages';\nimport uirouter from '@uirouter/angularjs';\n\nexport const app = new NgApp()\n\t.addComponents(inputs)\n\t.addComponents(misc)\n\t.addDependencies(\n\t\tngAnimate,\n\t\tngMessages,\n\t\tuirouter,\n\t)\n\t.addHttpInterceptor({\n\t\tasync responseError(response, err) {\n\t\t\tconst { status, statusText, url } = response;\n\t\t\tconst data = await response.json();\n\n\t\t\tswitch (status) {\n\t\t\t\tcase 404:\n\t\t\t\t\tapp.log.error(`Route '${url}' not found`);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 400:\n\t\t\t\t\tif (typeof data === 'string') {\n\t\t\t\t\t\tapp.log.error(data);\n\t\t\t\t\t} else if (data != null && data.toString() === '[object Object]') {\n\t\t\t\t\t\tapp.log.error(Object.keys(data).map(x => `${x}: ${data[x]}`).join('\\n\\n'));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 401:\n\t\t\t\tcase 403:\n\t\t\t\tcase 500:\n\t\t\t\t\tapp.log.warning(statusText);\n\t\t\t\t\tbreak;\n\t\t\t\tcase -1:\n\t\t\t\t\tapp.log.warning('Server timed out.');\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tapp.log.error(`The request to '${url}' returned an error (code: ${status})`);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn err;\n\t\t},\n\t});\n\nexport * from './src/app';\nexport * from './src/controller';\nexport * from './src/inputs';\nexport * from './src/misc';\nexport * from './src/services';\n","import { NgAppConfig } from './options';\nimport { NgHttp, NgLogger, NgRenderer, NgService, NgStateService } from './services';\nimport { Indexed } from '@ledge/types';\nimport { autobind } from 'core-decorators';\nimport { NgInjector, NgScope } from './ng';\n\nexport class NgController extends NgService {\n\tpublic readonly $scope: NgScope;\n\tpublic readonly $attrs: NgAttributes;\n\tpublic readonly $injector: NgInjector;\n\n\tpublic readonly $config: NgAppConfig;\n\tpublic readonly $log: NgLogger;\n\tpublic readonly $http: NgHttp;\n\tpublic readonly $state: NgStateService;\n\tpublic readonly $renderer: NgRenderer;\n\tpublic readonly $element: HTMLElement;\n\n\tpublic readonly isProduction: boolean;\n\tpublic readonly isDevelopment: boolean;\n\tpublic readonly isStaging: boolean;\n\tpublic readonly apiPrefix: string;\n\n\tpublic openWebAddress(address: string) {\n\t\tthis.$log.confirm(`You are being sent to ${address}. Continue?`).then(() => window.open(`http://${address}`));\n\t}\n\n\t/**\n\t * Called on each controller after all the controllers on an element have been constructed and had their bindings\n\t * initialized (and before the pre & post linking functions for the directives on this element). This is a good\n\t * place to put initialization code for your controller.\n\t */\n\tpublic $onInit?(): void;\n\n\t/**\n\t * Called on each turn of the digest cycle. Provides an opportunity to detect and act on changes.\n\t * Any actions that you wish to take in response to the changes that you detect must be invoked from this hook;\n\t * implementing this has no effect on when `$onChanges` is called. For example, this hook could be useful if you wish\n\t * to perform a deep equality check, or to check a `Date` object, changes to which would not be detected by Angular's\n\t * change detector and thus not trigger `$onChanges`. This hook is invoked with no arguments; if detecting changes,\n\t * you must store the previous value(s) for comparison to the current values.\n\t */\n\tpublic $doCheck?(): void;\n\n\t/**\n\t * Called whenever one-way bindings are updated. The onChangesObj is a hash whose keys are the names of the bound\n\t * properties that have changed, and the values are an object of the form { currentValue, previousValue, isFirstChange() }.\n\t * Use this hook to trigger updates within a component such as cloning the bound value to prevent accidental mutation of the outer value.\n\t */\n\tpublic $onChanges?<T = any>(onChangesObj: {\n\t\t[property: string]: {\n\t\t\tcurrentValue: T;\n\t\t\tpreviousValue: T;\n\t\t\tisFirstChange(): boolean;\n\t\t},\n\t}): void;\n\n\t/**\n\t * Called on a controller when its containing scope is destroyed. Use this hook for releasing external resources,\n\t * watches and event handlers.\n\t */\n\tpublic $onDestroy?(): void;\n\n\t/**\n\t * Called after this controller's element and its children have been linked. Similar to the post-link function this\n\t * hook can be used to set up DOM event handlers and do direct DOM manipulation. Note that child elements that contain\n\t * templateUrl directives will not have been compiled and linked since they are waiting for their template to load\n\t * asynchronously and their own compilation and linking has been suspended until that occurs. This hook can be considered\n\t * analogous to the ngAfterViewInit and ngAfterContentInit hooks in Angular 2. Since the compilation process is rather\n\t * different in Angular 1 there is no direct mapping and care should be taken when upgrading.\n\t */\n\tpublic $postLink?(): void;\n}\n\nexport function makeInjectableCtrl<T extends NgController>(ctrl: new () => T, locals: {\n\tlog: NgLogger,\n\thttp: NgHttp,\n\trenderer: NgRenderer,\n\tattrs?: Indexed,\n\tconfig(): NgAppConfig;\n}) {\n\tautobind(ctrl);\n\treturn class InternalController extends (ctrl as new () => any) {\n\t\tpublic $log = locals.log;\n\t\tpublic $http = locals.http;\n\t\tpublic $renderer = locals.renderer;\n\t\tpublic $state: NgStateService;\n\t\tpublic $attrs: NgAttributes;\n\t\tpublic $element: HTMLElement;\n\n\t\tpublic get $config() {\n\t\t\treturn locals.config();\n\t\t}\n\t\tpublic get isProduction() {\n\t\t\treturn this.$config.IS_PROD;\n\t\t}\n\t\tpublic get isDevelopment() {\n\t\t\treturn this.$config.IS_DEV;\n\t\t}\n\t\tpublic get isStaging() {\n\t\t\treturn this.$config.IS_STAGING;\n\t\t}\n\t\tpublic get apiPrefix() {\n\t\t\treturn this.$config.API_HOST;\n\t\t}\n\n\t\tconstructor(\n\t\t\t$element: { [i: number]: HTMLElement },\n\t\t\tpublic $scope: NgScope,\n\t\t\tpublic $injector: NgInjector,\n\t\t) {\n\t\t\tsuper();\n\n\t\t\tthis.$element = $element[0];\n\t\t\tthis.$attrs = new NgAttributes(this.$element, locals.attrs);\n\t\t\tthis.$state = this.$injector.get('$state');\n\t\t}\n\t} as new (\n\t\t\t$element: { [i: number]: HTMLElement },\n\t\t\t$scope: NgScope,\n\t\t\t$injector: NgInjector,\n\t\t) => T;\n}\n\nexport class NgAttributes {\n\t[name: string]: any;\n\tpublic readonly $attr: Indexed<string> = { };\n\n\tpublic PREFIX_REGEXP = /^((?:x|data)[:\\-_])/i;\n\tpublic SPECIAL_CHARS_REGEXP = /[:\\-_]+(.)/g;\n\n\tconstructor(private readonly $$element: Element, attrs: Indexed = { }) {\n\t\tfor (const { name: key, value } of Array.from($$element.attributes)) {\n\t\t\tthis.$record(key, value);\n\t\t}\n\n\t\tfor (const [key, value] of Object.entries(attrs)) {\n\t\t\tthis.$record(key, value);\n\t\t}\n\t}\n\n\t/**\n\t * Converts an attribute name (e.g. dash/colon/underscore-delimited string, optionally prefixed with x- or data-) to its normalized, camelCase form.\n\t *\n\t * Also there is special case for Moz prefix starting with upper case letter.\n\t *\n\t * For further information check out the guide on @see https://docs.angularjs.org/guide/directive#matching-directives\n\t */\n\tpublic $normalize(name: string) {\n\t\treturn name\n\t\t\t.replace(this.PREFIX_REGEXP, '')\n\t\t\t.replace(this.SPECIAL_CHARS_REGEXP, (_, letter, offset) => offset ? letter.toUpperCase() : letter);\n\t}\n\n\t/**\n\t * Checks if the CSS class value is present on the element.\n\t */\n\tpublic $hasClass(className: string) {\n\t\treturn this.$$element.classList.contains(className);\n\t}\n\n\t/**\n\t * Adds the specified CSS class value to the element.\n\t * If animations are enabled then an animation will be triggered for the class addition.\n\t */\n\tpublic $addClass(className: string) {\n\t\tif (this.$hasClass(className)) {\n\t\t\tthis.$$element.classList.add(className);\n\t\t}\n\t}\n\n\t/**\n\t * Removes the specified CSS class value from the element.\n\t * If animations are enabled then an animation will be triggered for the class removal.\n\t */\n\tpublic $removeClass(className: string) {\n\t\tif (this.$hasClass(className)) {\n\t\t\tthis.$$element.classList.remove(className);\n\t\t}\n\t}\n\n\t/**\n\t * Adds and removes CSS class values to the element based on the difference between\n\t * two space-delimited strings of CSS class values.\n\t *\n\t * @param newClasses: The space-delimited list of CSS classes to add or retain\n\t * @param oldClasses: The space-delimited list of CSS classes to remove if not contained within newClasses\n\t */\n\tpublic $updateClass(newClasses: string, oldClasses: string) {\n\t\tconst nu = newClasses.split(/\\s/g).filter(x => x.length > 0);\n\t\tconst old = oldClasses.split(/\\s/g).filter(x => x.length > 0);\n\n\t\tfor (const o of old) {\n\t\t\tif (nu.includes(o)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis.$removeClass(o);\n\t\t}\n\n\t\tfor (const n of nu) {\n\t\t\tthis.$addClass(n);\n\t\t}\n\t}\n\n\t/**\n\t * Set DOM element attribute value.\n\t */\n\tpublic $set(key: string, value: any) {\n\t\tthis.$$element.setAttribute(key, value);\n\t}\n\n\t/**\n\t * @deprecated\n\t */\n\tpublic $observe<T>(_: string, __: (value?: T) => any) {\n\t\t// tslint:disable-next-line:no-console\n\t\tconsole.warn('$observe is a noop');\n\t\treturn () => { return; };\n\t}\n\n\tprotected $record(key: string, value: string) {\n\t\tconst normalized = this.$normalize(key);\n\t\tthis[normalized] = value;\n\t\tthis.$attr[key] = normalized;\n\t}\n}\n"],"sourceRoot":""}