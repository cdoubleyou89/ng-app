{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/inputs/shared/controller.ts","webpack:///./src/inputs/radio-list.ts","webpack:///./src/logger.ts","webpack:///./src/inputs/text-input.ts","webpack:///./src/inputs/index.ts","webpack:///./src/inputs/shared/index.ts","webpack:///./docs/src/app.ts","webpack:///./src/app.ts","webpack:///./src/inputs/date-input.ts","webpack:///./src/modal.ts","webpack:///./src/http.ts","webpack:///./src/misc/app-icon.ts","webpack:///./src/misc/app-spinner.ts","webpack:///./src/misc/index.ts","webpack:///./src/attributes.ts","webpack:///./src/icon.ts","webpack:///./src/inputs/check-box.ts","webpack:///./src/router.ts","webpack:///./src/inputs/shared/service.ts","webpack:///./src/renderer.ts","webpack:///./src/inputs/text-box.ts","webpack:///./src/inputs/select-list.ts","webpack:///./index.ts","webpack:///./src/service.ts","webpack:///./src/ng.ts","webpack:///./src/controller.ts","webpack:///./src/options.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","NgInputController","_super","_this","this","setTimeout","$contain","$element","querySelector","children","isIE11","removeNode","remove","$scope","$watch","ngModel","curr","prev","lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default","ngModelCtrl","$setViewValue","keys","$validators","every","x","$commitViewValue","__extends","_controller__WEBPACK_IMPORTED_MODULE_1__","radioList","type","templateClass","labelClass","render","h","radio","createInput","_a","$attrs","setAttribute","style","setProperty","$template","classList","add","renderLabel","text","labelText","document","createTextNode","$label","appendChild","bindings","list","ngChecked","controller","RadioListController","$postLink","fieldset","closest","legend","span","createElement","innerText","_shared__WEBPACK_IMPORTED_MODULE_0__","LogTypeToastBackgrounds","NgToast","$renderer","options","toast","createHtmlElement","toastBody","toastHeader","toastHeaderTimestamp","setBodyText","setType","container","el","innerHTML","show","timeout","animejs__WEBPACK_IMPORTED_MODULE_0__","targets","translateX","duration","easing","begin","Date","toLocaleTimeString","navigator","language","replace","Promise","resolve","hideAnimation","autoplay","complete","removeEventListener","play","resetAnimationOnMouseover","resumeAnimationOnMouseout","isAutoClose","Number","isInteger","makeTimeout","autoCloseId","undefined","wasClosing","progress","clearTimeout","restart","pause","addEventListener","hide","click","parentElement","removeChild","NgLogger","isProd","toasts","body","clear","forEach","confirm","msg","okBtn","cancelBtn","footer","notify","reject","removeListeners","ok","cancel","error","isTemporary","info","success","warning","devWarning","then","index","findIndex","is","NgConsole","$debug","items","_i","arguments","console","debug","__spread","$error","$info","$warn","warn","$log","log","$success","_service__WEBPACK_IMPORTED_MODULE_1__","TextInputController","$onInit","minlength","minVal","val","min","maxVal","max","pattern","validators","textInput","canHaveIcon","attrs","maxlength","placeholder","input","isRange","postRender","textContent","step","htmlInput","assign","__webpack_exports__","inputs","_check_box__WEBPACK_IMPORTED_MODULE_0__","_date_input__WEBPACK_IMPORTED_MODULE_1__","_radio_list__WEBPACK_IMPORTED_MODULE_2__","_select_list__WEBPACK_IMPORTED_MODULE_3__","_text_box__WEBPACK_IMPORTED_MODULE_4__","_text_input__WEBPACK_IMPORTED_MODULE_5__","_shared__WEBPACK_IMPORTED_MODULE_6__","checkBox","dateInput","selectList","textBox","_controller__WEBPACK_IMPORTED_MODULE_0__","_options__WEBPACK_IMPORTED_MODULE_1__","_service__WEBPACK_IMPORTED_MODULE_2__","ModalController","title","_index__WEBPACK_IMPORTED_MODULE_0__","AppController","openModal","modal","open","template","openConfirmToast","catch","makeComponentController","configure","API_HOST","bootstrap","NgApp","$id","$injector","_ng__WEBPACK_IMPORTED_MODULE_6__","$dependencies","$module","$bootstrap","$components","Map","$httpInterceptors","config","$compileProvider","$locationProvider","$qProvider","$config","IS_DEV","IS_STAGING","debugInfoEnabled","commentDirectivesEnabled","cssClassDirectivesEnabled","html5Mode","errorOnUnhandledRejections","$stateProvider","router","_b","__values","getRoutes","_c","next","done","definition","state","run","$animate","enabled","$router","Set","_http","$http","IS_PROD","getConfig","_log","$logger","_modal","$modal","_renderer","forceUpdate","$applyAsync","strictDi","_d","_e","__read","component","class_1","_router__WEBPACK_IMPORTED_MODULE_9__","_options__WEBPACK_IMPORTED_MODULE_7__","setRouter","addComponents","components","entries","entries_1","entries_1_1","isInputComponent","_inputs__WEBPACK_IMPORTED_MODULE_3__","defineInputComponent","set","addDependencies","moduleNames","addHttpInterceptor","interceptor","ctrl","http","renderer","_modal__WEBPACK_IMPORTED_MODULE_5__","onFinally","Array","isArray","interceptors","_http__WEBPACK_IMPORTED_MODULE_2__","_logger__WEBPACK_IMPORTED_MODULE_4__","_renderer__WEBPACK_IMPORTED_MODULE_8__","__decorate","core_decorators__WEBPACK_IMPORTED_MODULE_0__","isNumber","removeAttribute","iconInput","createIconInput","inputGroupAppend","inputGroupText","clearIcon","createIcon","minDate","maxDate","DateInputController","SUPPORTED_MODES","modelVal","valueOf","inline","includes","id","join","flatpickr","flatpickr__WEBPACK_IMPORTED_MODULE_0___default","dateFormat","defaultDate","nextArrow","prevArrow","allowInput","weekNumbers","wrap","enable","parse","isNaN","onChange","selected","$onDestroy","destroy","getMinDate","toLocaleDateString","getMaxDate","_shared__WEBPACK_IMPORTED_MODULE_1__","NgModal","$compile","$rootScope","backdrop","uniqueId","headerCloseButton","header","content","footerCancelButton","footerOkButton","dialog","onClose","cancelBtnText","_f","okBtnText","$new","$ctrl","escapeKeyListener","e","close","dismiss","removeEventListeners","scope","$destroy","NgHttp","request","map","filter","response","responseError","Get","url","fetch","Post","Patch","Put","Delete","Jsonp","getFullUrl","uri","host","ssl","URL","toJSON","method","Response","location","protocol","_g","cache","_h","credentials","headers","integrity","_j","keepalive","_k","_l","redirect","_m","referrerPolicy","_o","abortCtrl","AbortController","Request","signal","JSON","stringify","_p","_q","onRequest","_v","sent","abortTimer","abort","json","_r","_s","onResponse","Error","_t","_u","onResponseError","clone","err_1","_service__WEBPACK_IMPORTED_MODULE_0__","appIcon","IconController","iconName","icon","width","height","appSpinner","SpinnerController","colors","app_spinner_extends","color","srDesc","spinner","misc","NgAttributes","$$element","$attr","PREFIX_REGEXP","SPECIAL_CHARS_REGEXP","from","attributes","$record","$normalize","_","letter","offset","toUpperCase","$hasClass","className","contains","$addClass","$removeClass","$updateClass","newClasses","oldClasses","nu","split","old","old_1","old_1_1","nu_1","nu_1_1","$set","$observe","__","normalized","octicons","symbol","version","viewBox","class","aria-hidden","toSVG","attrObj","parseInt","trim","role","option","htmlAttributes","path","NgRouter","routes","registerRoute","partial","generateRouteMeta","parent","isNgTransitionFn","onEnter","onExit","onRetain","isAuthorized","generateIntIdParam","param","_uirouter_core__WEBPACK_IMPORTED_MODULE_0__","decode","encode","toString","equals","a","b","generateIntQueryParam","item","annotateResolveFunctions","resolveFn","params","isBase","toLowerCase","InputService","makeBaseComponent","$transclude","createSlot","getDefaultLabelText","isRadioOrCheckbox","makeBaseOptions","transclude","contain","require","ngModelOptions","ngDisabled","ngReadonly","ngRequired","modelIdentifier","pop","charAt","substring","getInputInput","$input","tagName","_renderer__WEBPACK_IMPORTED_MODULE_1__","$component","$definition","$el","isRadio","isRequired","isSrOnly","createLabel","marginTop","requiredTag","firstElementChild","$inputInput","$validationAttrs","startsWith","$validationExps","$isInvalid","$html","$validationBlock","$validationMessages","concat","has","$message","$newTpl","outerHTML","prop","RegExp","$invalid","$touched","$formInvalid","NgRenderer","baseInputAttrs","classes","classes_1","classes_1_1","addClass","attrs_1","attrs_1_1","$isRange","$isRadio","$isCheckbox","$class","$inputAttrs","createTextArea","_icon__WEBPACK_IMPORTED_MODULE_1__","sort","svg","aria-label","$span","inputGroupAttrs","$inputGroup","$inputGroupPrepend","$inputGroupText","$icon","createText","createComment","newChild","insertBefore","refChild","removeClass","setStyle","flags","_angular_core__WEBPACK_IMPORTED_MODULE_0__","Important","removeStyle","removeProperty","setValue","node","nodeValue","parentNode","nextSibling","selectRootElement","selectorOrNode","preserveContent","listen","target","eventName","callback","textArea","TextBoxController","$mirror","element","computedStyle","getComputedStyle","boxOuter","getPropertyValue","minHeightValue","heightValue","minHeight","Math","maxHeight","mirror","adjust","requestAnimationFrame","scrollHeight","overflow","$on","styles_1","styles_1_1","SelectController","isListOpen","IsMultiple","GetPlaceholder","MultiplePlaceholder","SinglePlaceholder","_text","_value","fuzzer","innerContainer","dropdown","dropdownlist","updateSearchList","searchList","getSearchList","search","lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_1___default","$watchCollection","fuse_js__WEBPACK_IMPORTED_MODULE_0___default","shouldSort","threshold","distance","maxPatternLength","minMatchCharLength","shouldFocusInput","onclick","HTMLButtonElement","isMultiple","HTMLElement","hidden","focus","onfocus","onblur","explicitOriginalTarget","nodeName","HTMLDivElement","select","dataset","relatedTarget","oninput","destroyCurrentWatcher","getDisplayText","find","y","_shared__WEBPACK_IMPORTED_MODULE_2__","_service__WEBPACK_IMPORTED_MODULE_3__","IsMobile","inner","innerlist","btn","sbtn","cloneNode","app","_src_app__WEBPACK_IMPORTED_MODULE_0__","_src_inputs__WEBPACK_IMPORTED_MODULE_1__","_src_misc__WEBPACK_IMPORTED_MODULE_2__","angular_animate__WEBPACK_IMPORTED_MODULE_3___default","angular_messages__WEBPACK_IMPORTED_MODULE_4___default","_uirouter_angularjs__WEBPACK_IMPORTED_MODULE_5__","err","status","statusText","NgService","UUIDv4","innerWidth","IsIE11","_ledge_is_ie_11__WEBPACK_IMPORTED_MODULE_0__","random","splitByCapitalLetter","first","second","rest","angular__WEBPACK_IMPORTED_MODULE_0__","NgController","openWebAddress","address","makeInjectableCtrl","locals","InternalController","_attributes__WEBPACK_IMPORTED_MODULE_1__","$state","NgAppConfig","NAME","ENV"],"mappings":"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","file":"app.1e25daf0cf9f3ef70dd9.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,2]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import isEqual from 'lodash/isEqual';\r\nimport { Indexed } from '@ledge/types';\r\nimport { NgController } from '../../controller';\r\n\r\nexport class NgInputController<T = any> extends NgController {\r\n\tpublic ngModel: any;\r\n\tpublic ngModelCtrl: NgModelController<T>;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tconst $contain = this.$element.querySelector('[ng-transclude=\"contain\"]');\r\n\t\t\tif ($contain != null && $contain.children.length === 0) {\r\n\t\t\t\tif (this.isIE11) {\r\n\t\t\t\t\t($contain as any).removeNode(true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$contain.remove();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.$scope.$watch(\r\n\t\t\t\t() => this.ngModel,\r\n\t\t\t\t(curr: any, prev: any) => {\r\n\t\t\t\t\tif (isEqual(curr, prev) === false) {\r\n\t\t\t\t\t\tthis.ngModelCtrl.$setViewValue(curr);\r\n\t\t\t\t\t\tconst isValid = Object\r\n\t\t\t\t\t\t\t.keys(this.ngModelCtrl.$validators)\r\n\t\t\t\t\t\t\t.every(x => {\r\n\t\t\t\t\t\t\t\treturn this.ngModelCtrl.$validators[x](curr, curr);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (isValid) {\r\n\t\t\t\t\t\t\tthis.ngModelCtrl.$commitViewValue();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport interface NgModelController<T = any> {\r\n\t$viewValue: T;\r\n\t$modelValue: T;\r\n\r\n\t$error: { [validationErrorKey: string]: boolean };\r\n\t$name?: string;\r\n\r\n\treadonly $touched: boolean;\r\n\treadonly $untouched: boolean;\r\n\r\n\t$validators: {\r\n\t\t/**\r\n\t\t * viewValue is any because it can be an object that is called in the view like $viewValue.name:$viewValue.subName\r\n\t\t */\r\n\t\t[index: string]: (modelValue: any, viewValue: any) => boolean;\r\n\t};\r\n\r\n\t$pending?: { [validationErrorKey: string]: boolean };\r\n\treadonly $pristine: boolean;\r\n\treadonly $dirty: boolean;\r\n\treadonly $valid: boolean;\r\n\treadonly $invalid: boolean;\r\n\r\n\t/**\r\n\t * Documentation states viewValue and modelValue to be a string but other types do work and it's common to use them.\r\n\t */\r\n\t$setViewValue(value: any, trigger?: string): void;\r\n\t$commitViewValue(): void;\r\n\t$rollbackViewValue(): void;\r\n\t$processModelValue(): void;\r\n\t$overrideModelOptions(options: NgModelOptions): void;\r\n\r\n\t$render(): void;\r\n\t$validate(): void;\r\n\t$setDirty(): void;\r\n\t$setPristine(): void;\r\n\t$setTouched(): void;\r\n\t$setUntouched(): void;\r\n\t$setValidity(validationErrorKey: string, isValid: boolean): void;\r\n\r\n\t$isEmpty(value: any): boolean;\r\n}\r\n\r\n/**\r\n * Allows tuning how model updates are done.\r\n * @see https://docs.angularjs.org/api/ng/directive/ngModelOptions\r\n */\r\nexport interface NgModelOptions {\r\n\tupdateOn?: string;\r\n\tdebounce?: number | Indexed<number>;\r\n\tallowInvalid?: boolean;\r\n\tgetterSetter?: boolean;\r\n\ttimezone?: string;\r\n}\r\n","import { NgInputController, NgInputOptions } from './shared';\r\n\r\nclass RadioListController extends NgInputController {\r\n\tpublic $postLink() {\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (this.$attrs.hasOwnProperty('required')) {\r\n\t\t\t\tconst fieldset = this.$element.closest('fieldset');\r\n\r\n\t\t\t\tif (fieldset != null) {\r\n\t\t\t\t\tconst legend = fieldset.querySelector('legend');\r\n\r\n\t\t\t\t\tif (legend != null) {\r\n\t\t\t\t\t\tconst span = document.createElement('span');\r\n\t\t\t\t\t\tspan.classList.add('text-danger');\r\n\t\t\t\t\t\tspan.innerText = ' *';\r\n\t\t\t\t\t\tlegend.appendChild(span);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport const radioList: NgInputOptions = {\r\n\ttype: 'input',\r\n\ttemplateClass: 'form-check',\r\n\tlabelClass: 'form-check-label',\r\n\trender(h) {\r\n\t\tconst radio = h.createInput('radio');\r\n\t\tconst { value = 'Value' } = this.$attrs;\r\n\r\n\t\tradio.setAttribute('ng-value', `item.${value}`);\r\n\t\tradio.setAttribute('ng-attr-id', '{{id}}_{{$ctrl.uniqueId}}_{{$index}}');\r\n\t\tradio.style.setProperty('cursor', 'pointer');\r\n\r\n\t\tif (this.$attrs.hasOwnProperty('inline')) {\r\n\t\t\tthis.$template.classList.remove('form-check');\r\n\t\t\tthis.$template.classList.add('form-check-inline');\r\n\t\t}\r\n\r\n\t\tthis.$template.setAttribute('ng-repeat', 'item in $ctrl.list track by $index');\r\n\r\n\t\treturn radio;\r\n\t},\r\n\trenderLabel() {\r\n\t\tconst { text = 'Text' } = this.$attrs;\r\n\t\tconst labelText = document.createTextNode(`{{item.${text}}}`);\r\n\r\n\t\tthis.$label.appendChild(labelText);\r\n\t\tthis.$label.setAttribute('ng-attr-for', '{{id}}_{{$ctrl.uniqueId}}_{{$index}}');\r\n\t},\r\n\tbindings: {\r\n\t\tlist: '<',\r\n\t\tngChecked: '<',\r\n\t},\r\n\tcontroller: RadioListController,\r\n};\r\n","import anime from 'animejs';\r\nimport { NgService } from './service';\r\nimport { NgRenderer } from './renderer';\r\n\r\ntype LogType = '$log' | '$warn' | '$error' | '$info' | '$success';\r\nenum LogTypeToastBackgrounds {\r\n\t$log = 'white',\r\n\t$success = 'success',\r\n\t$info = 'info',\r\n\t$warn = 'warning',\r\n\t$error = 'danger',\r\n}\r\n\r\nexport class NgToast {\r\n\tprotected type: LogType;\r\n\tprotected readonly toast: HTMLDivElement;\r\n\tprotected readonly toastHeader: HTMLDivElement;\r\n\tprotected readonly toastBody: HTMLDivElement;\r\n\tprotected readonly toastHeaderTimestamp: HTMLElement;\r\n\r\n\tconstructor(protected readonly $renderer: NgRenderer, options: {\r\n\t\ttext: string,\r\n\t\ttype: LogType,\r\n\t\tcontainer: HTMLElement,\r\n\t}) {\r\n\t\tthis.toast = this.$renderer.createHtmlElement('div', ['toast', 'row', 'justify-content-between', 'w-100'], [['role', 'alert'], ['aria-live', 'assertive'], ['aria-atomic', 'true']]);\r\n\t\tthis.toast.style.setProperty('cursor', 'pointer');\r\n\r\n\t\tthis.toastBody = this.$renderer.createHtmlElement('div', ['toast-body', 'h5', 'col', 'mb-0', 'pb-3']);\r\n\t\tthis.toastHeader = this.$renderer.createHtmlElement('div', ['toast-header']);\r\n\t\tthis.toastHeader.style.setProperty('border-bottom', 'none');\r\n\r\n\t\tthis.toastHeaderTimestamp = this.$renderer.createHtmlElement('strong', ['text-dark']);\r\n\r\n\t\tthis.toastHeader.appendChild(this.toastHeaderTimestamp);\r\n\t\tthis.toast.appendChild(this.toastHeader);\r\n\t\tthis.toast.appendChild(this.toastBody);\r\n\r\n\t\tthis.setBodyText(options.text);\r\n\t\tthis.setType(options.type);\r\n\r\n\t\toptions.container.appendChild(this.toast);\r\n\t}\r\n\r\n\t/**\r\n\t * Append a child element to the toast element\r\n\t *\r\n\t * @param el The element to append\r\n\t */\r\n\tpublic appendChild(el: HTMLElement) {\r\n\t\tthis.toast.appendChild(el);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Set the inner HTML of the toast's body element\r\n\t *\r\n\t * @param text The HTML to set\r\n\t */\r\n\tpublic setBodyText(text: string) {\r\n\t\tthis.toastBody.innerHTML = text;\r\n\t}\r\n\r\n\t/**\r\n\t * Change the look & feel of the toast based on its associated log type\r\n\t *\r\n\t * @param type The log type of toast\r\n\t */\r\n\tpublic setType(type: LogType) {\r\n\t\tif (this.type != null) {\r\n\t\t\tthis.toast.classList.remove(`bg-${LogTypeToastBackgrounds[this.type]}`);\r\n\t\t}\r\n\r\n\t\tthis.type = type;\r\n\t\tthis.toast.classList.add(`bg-${LogTypeToastBackgrounds[this.type]}`);\r\n\r\n\t\tif (type === '$log') {\r\n\t\t\tthis.toastHeader.classList.add('bg-dark');\r\n\t\t\tthis.toastHeader.style.setProperty('opacity', '0.75');\r\n\t\t\tthis.toastHeaderTimestamp.classList.remove('text-dark');\r\n\t\t\tthis.toastHeaderTimestamp.classList.add('text-white');\r\n\t\t} else if (type !== '$warn') {\r\n\t\t\tthis.toast.classList.add('text-white');\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Show the toast\r\n\t *\r\n\t * @param timeout Length in ms before toast disappears (`false` to set permanently)\r\n\t * @param container Optional container override\r\n\t */\r\n\tpublic show(timeout: false | number, container?: HTMLElement) {\r\n\t\tif (container != null) {\r\n\t\t\tthis.remove();\r\n\t\t\tcontainer.appendChild(this.toast);\r\n\t\t}\r\n\r\n\t\tanime({\r\n\t\t\ttargets: this.toast,\r\n\t\t\ttranslateX: [500, 0],\r\n\t\t\tduration: 1000,\r\n\t\t\teasing: 'easeOutQuint(0.5, 1)',\r\n\t\t\tbegin: () => {\r\n\t\t\t\tthis.toastHeaderTimestamp.innerText = new Date().toLocaleTimeString(navigator.language).replace(/(:\\d{2})(?=\\s[AP]M$)/, '');\r\n\t\t\t\tthis.toast.style.setProperty('opacity', '1');\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tconst hideAnimation = anime({\r\n\t\t\t\ttargets: this.toast,\r\n\t\t\t\ttranslateX: [0, 500],\r\n\t\t\t\tduration: 1000,\r\n\t\t\t\tautoplay: false,\r\n\t\t\t\teasing: 'easeInQuint(0.5, 1)',\r\n\t\t\t\tcomplete: () => {\r\n\t\t\t\t\tthis.toast.removeEventListener('click', hideAnimation.play);\r\n\t\t\t\t\tthis.toast.removeEventListener('mouseover', resetAnimationOnMouseover);\r\n\t\t\t\t\tthis.toast.removeEventListener('mouseout', resumeAnimationOnMouseout);\r\n\t\t\t\t\tthis.remove();\r\n\t\t\t\t\tresolve();\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\tconst isAutoClose = typeof timeout === 'number' && Number.isInteger(timeout);\r\n\t\t\tconst makeTimeout = () => (setTimeout as typeof window['setTimeout'])(hideAnimation.play, timeout as number);\r\n\r\n\t\t\tlet autoCloseId = isAutoClose ? makeTimeout() : undefined;\r\n\t\t\tlet wasClosing = false;\r\n\r\n\t\t\tconst resetAnimationOnMouseover = () => {\r\n\t\t\t\twasClosing = hideAnimation.progress > 0;\r\n\r\n\t\t\t\tclearTimeout(autoCloseId);\r\n\t\t\t\tautoCloseId = undefined;\r\n\r\n\t\t\t\thideAnimation.restart();\r\n\t\t\t\thideAnimation.pause();\r\n\t\t\t};\r\n\r\n\t\t\tconst resumeAnimationOnMouseout = () => {\r\n\t\t\t\tif (wasClosing) {\r\n\t\t\t\t\thideAnimation.play();\r\n\t\t\t\t} else if (isAutoClose && autoCloseId === undefined) {\r\n\t\t\t\t\tautoCloseId = makeTimeout();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tthis.toast.addEventListener('click', hideAnimation.play);\r\n\t\t\tthis.toast.addEventListener('mouseover', resetAnimationOnMouseover);\r\n\t\t\tthis.toast.addEventListener('mouseout', resumeAnimationOnMouseout);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Hide the toast\r\n\t */\r\n\tpublic hide() {\r\n\t\tthis.toast.click();\r\n\t}\r\n\r\n\t/**\r\n\t * Remove the toast from its container\r\n\t */\r\n\tpublic remove() {\r\n\t\tif (this.toast.parentElement != null) {\r\n\t\t\tthis.toast.parentElement.removeChild(this.toast);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// tslint:disable:no-console\r\nexport class NgConsole extends NgService {\r\n\t/**\r\n\t * Invokes `Console.prototype.debug`\r\n\t *\r\n\t * @param items list of items to log\r\n\t */\r\n\tpublic $debug(...items: any[]) {\r\n\t\tconsole.debug(...items);\r\n\t}\r\n\r\n\t/**\r\n\t * Invokes `Console.prototype.error`\r\n\t *\r\n\t * @param items list of items to log\r\n\t */\r\n\tpublic $error(...items: any[]) {\r\n\t\tconsole.error(...items);\r\n\t}\r\n\r\n\t/**\r\n\t * Invokes `Console.prototype.info`\r\n\t *\r\n\t * @param items list of items to log\r\n\t */\r\n\tpublic $info(...items: any[]) {\r\n\t\tconsole.info(...items);\r\n\t}\r\n\r\n\t/**\r\n\t * Invokes `Console.prototype.warn`\r\n\t *\r\n\t * @param items list of items to log\r\n\t */\r\n\tpublic $warn(...items: any[]) {\r\n\t\tconsole.warn(...items);\r\n\t}\r\n\r\n\t/**\r\n\t * Invokes `Console.prototype.log`\r\n\t *\r\n\t * @param items list of items to log\r\n\t */\r\n\tpublic $log(...items: any[]) {\r\n\t\tconsole.log(...items);\r\n\t}\r\n\r\n\t/**\r\n\t * Invokes `Console.prototype.log`\r\n\t *\r\n\t * @param items list of items to log\r\n\t */\r\n\tpublic $success(...items: any[]) {\r\n\t\tthis.$log(...items);\r\n\t}\r\n}\r\n// tslint:enable:no-console\r\n\r\nexport class NgLogger extends NgConsole {\r\n\tprotected readonly container: HTMLDivElement;\r\n\tprotected readonly toasts: NgToast[] = [];\r\n\r\n\tconstructor(private $renderer: NgRenderer, private isProd = false) {\r\n\t\tsuper();\r\n\r\n\t\tthis.container = this.$renderer.createHtmlElement('div', ['position-fixed']);\r\n\t\tthis.container.style.setProperty('top', '0.5rem');\r\n\t\tthis.container.style.setProperty('right', '-1.5rem');\r\n\t\tthis.container.style.setProperty('width', '100%');\r\n\t\tthis.container.style.setProperty('max-width', '23rem');\r\n\r\n\t\tdocument.body.appendChild(this.container);\r\n\t}\r\n\r\n\t/**\r\n\t * Clear all active notifications\r\n\t */\r\n\tpublic clear() {\r\n\t\tthis.toasts.forEach(x => x.hide());\r\n\t}\r\n\r\n\t/**\r\n\t * Prompt the user to confirm intent for a previous action\r\n\t *\r\n\t * @param msg Confirmation message\r\n\t */\r\n\tpublic confirm(msg = 'Please confirm your action') {\r\n\t\tconst okBtn = this.$renderer.createHtmlElement('button', ['btn', 'w-50', 'btn-success', 'rounded-0']);\r\n\t\tokBtn.innerText = 'Yes';\r\n\t\tconst cancelBtn = this.$renderer.createHtmlElement('button', ['btn', 'w-50', 'btn-dark', 'rounded-0']);\r\n\t\tcancelBtn.innerText = 'No';\r\n\r\n\t\tconst footer = this.$renderer.createHtmlElement('div', ['w-100']);\r\n\t\tfooter.appendChild(cancelBtn);\r\n\t\tfooter.appendChild(okBtn);\r\n\r\n\t\tconst toast = this.notify(msg, '$log', false);\r\n\t\ttoast.appendChild(footer);\r\n\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst removeListeners = () => {\r\n\t\t\t\tokBtn.removeEventListener('click', ok);\r\n\t\t\t\tcancelBtn.removeEventListener('click', cancel);\r\n\t\t\t};\r\n\r\n\t\t\tconst ok = () => {\r\n\t\t\t\ttoast.hide();\r\n\t\t\t\tremoveListeners();\r\n\t\t\t\tresolve();\r\n\t\t\t};\r\n\r\n\t\t\tconst cancel = () => {\r\n\t\t\t\ttoast.hide();\r\n\t\t\t\tremoveListeners();\r\n\t\t\t\treject();\r\n\t\t\t};\r\n\r\n\t\t\tokBtn.addEventListener('click', ok);\r\n\t\t\tcancelBtn.addEventListener('click', cancel);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Display an error notification\r\n\t *\r\n\t * @param text Display text\r\n\t * @param isTemporary Whether the notification should disappear automatically (false by default)\r\n\t */\r\n\tpublic error(text: string, isTemporary = false) {\r\n\t\tthis.notify(text, '$error', isTemporary && undefined);\r\n\t}\r\n\r\n\t/**\r\n\t * Display an informational notification\r\n\t *\r\n\t * @param text Display text\r\n\t * @param isTemporary Whether the notification should disappear automatically (true by default)\r\n\t */\r\n\tpublic info(text: string, isTemporary = true) {\r\n\t\tthis.notify(text, '$info', isTemporary && undefined);\r\n\t}\r\n\r\n\t/**\r\n\t * Display a success notification\r\n\t *\r\n\t * @param text Display text\r\n\t * @param isTemporary Whether the notification should disappear automatically (true by default)\r\n\t */\r\n\tpublic success(text: string, isTemporary = true) {\r\n\t\tthis.notify(text, '$success', isTemporary && undefined);\r\n\t}\r\n\r\n\t/**\r\n\t * Display a warning notification\r\n\t *\r\n\t * @param text Display text\r\n\t * @param isTemporary Whether the notification should disappear automatically (true by default)\r\n\t */\r\n\tpublic warning(text: string, isTemporary = true) {\r\n\t\tthis.notify(text, '$warn', isTemporary && undefined);\r\n\t}\r\n\r\n\t/**\r\n\t * Display a warning notification (disabled when `process.env.NODE_ENV === 'production'`)\r\n\t *\r\n\t * @param text Display text\r\n\t */\r\n\tpublic devWarning(text: string) {\r\n\t\tif (this.isProd === false) {\r\n\t\t\tthis.warning(`[DEV] ${text}`, false);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Show a customizable notification to the user\r\n\t *\r\n\t * @param text Display text\r\n\t * @param type Display type\r\n\t * @param timeout Length in ms before notification disappears (`false` to set permanently)\r\n\t * @param buttons Interaction points for the user\r\n\t */\r\n\tpublic notify(text: string, type: LogType, timeout: false | number = 2323) {\r\n\t\tthis[type](`${type}: ${text}`);\r\n\r\n\t\tconst toast = new NgToast(this.$renderer, { text, type, container: this.container });\r\n\t\ttoast.show(timeout).then(() => {\r\n\t\t\tconst index = this.toasts.findIndex(x => Object.is(x, toast));\r\n\t\t\tthis.toasts.splice(index, 1);\r\n\t\t});\r\n\r\n\t\tthis.toasts.push(toast);\r\n\t\treturn toast;\r\n\t}\r\n}\r\n","import { Indexed } from '@ledge/types';\r\nimport { NgInputController, NgInputOptions } from './shared';\r\n\r\nclass TextInputController extends NgInputController {\r\n\tprivate min: number | undefined;\r\n\tprivate max: number | undefined;\r\n\r\n\tpublic $onInit() {\r\n\t\tconst { type, minlength } = this.$attrs;\r\n\r\n\t\tif (type === 'number') {\r\n\t\t\tthis.ngModelCtrl.$validators.minVal = val => {\r\n\t\t\t\treturn this.min == null || val >= this.min;\r\n\t\t\t};\r\n\t\t\tthis.ngModelCtrl.$validators.maxVal = val => {\r\n\t\t\t\treturn this.max == null || val <= this.max;\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tif (minlength != null) {\r\n\t\t\tthis.ngModelCtrl.$validators.pattern = val => {\r\n\t\t\t\treturn val != null && val.length >= minlength;\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst validators: Indexed<string> = {\r\n\tminVal: 'Must be greater than or equal to {{$ctrl.min}}',\r\n\tmaxVal: 'Must be less than or equal to {{$ctrl.max}}',\r\n};\r\n\r\nexport const textInput: NgInputOptions = {\r\n\ttype: 'input',\r\n\tcanHaveIcon: true,\r\n\tattrs: { maxlength: 3000, placeholder: '' },\r\n\trender(h) {\r\n\t\tconst { type, minlength } = this.$attrs;\r\n\r\n\t\tconst input = h.createInput(type);\r\n\r\n\t\tconst isRange = type === 'range';\r\n\t\tif (type === 'number' || isRange) {\r\n\t\t\tinput.setAttribute('ng-attr-min', '{{$ctrl.min}}');\r\n\t\t\tinput.setAttribute('ng-attr-max', '{{$ctrl.max}}');\r\n\t\t\tinput.setAttribute('ng-attr-step', `{{$ctrl.step || '${isRange ? 1 : 'any'}'}}`);\r\n\t\t}\r\n\r\n\t\tif (minlength != null) {\r\n\t\t\tinput.setAttribute('pattern', `.{${minlength},}`);\r\n\t\t\tvalidators.pattern = `Input must be at least ${minlength} characters`;\r\n\t\t}\r\n\r\n\t\treturn input;\r\n\t},\r\n\tpostRender(h) {\r\n\t\tif (this.$attrs.type === 'range') {\r\n\t\t\tconst text = h.createHtmlElement('p', ['text-center', 'lead']);\r\n\t\t\ttext.textContent = '{{$ctrl.ngModel}}';\r\n\t\t\tthis.$template.appendChild(text);\r\n\t\t}\r\n\t\treturn this.$template;\r\n\t},\r\n\tbindings: {\r\n\t\tmin: '<',\r\n\t\tmax: '<',\r\n\t\tstep: '<',\r\n\t},\r\n\tvalidators,\r\n\tcontroller: TextInputController,\r\n};\r\n\r\nexport const htmlInput = Object.assign({ }, textInput);\r\n","import { checkBox } from './check-box';\r\nimport { dateInput } from './date-input';\r\nimport { radioList } from './radio-list';\r\nimport { selectList } from './select-list';\r\nimport { textBox } from './text-box';\r\nimport { htmlInput, textInput } from './text-input';\r\n\r\nexport const inputs = {\r\n\tcheckBox,\r\n\tdateInput,\r\n\tradioList,\r\n\tselectList,\r\n\ttextBox,\r\n\thtmlInput,\r\n\ttextInput,\r\n};\r\n\r\nexport * from './shared';\r\n","export * from './controller';\r\nexport * from './options';\r\nexport * from './service';\r\n","import { NgController, app } from '../../index';\r\n\r\nclass ModalController extends NgController {\r\n\tpublic title = 'Example Modal';\r\n\tpublic body = 'Body';\r\n}\r\n\r\nclass AppController extends NgController {\r\n\tpublic openModal() {\r\n\t\tapp.modal.open({\r\n\t\t\tcontroller: ModalController,\r\n\t\t\ttitle: '{{$ctrl.title}}',\r\n\t\t\ttemplate: '<p class=\"lead\">{{$ctrl.body}}</p>',\r\n\t\t});\r\n\t}\r\n\r\n\tpublic openConfirmToast() {\r\n\t\tthis.$log.confirm('Yes or No?')\r\n\t\t\t.then(() => this.$log.success('Yes!'))\r\n\t\t\t.catch(() => this.$log.info('No...'));\r\n\t}\r\n}\r\n\r\napp\r\n\t.module\r\n\t.controller(\r\n\t\t'AppController',\r\n\t\tapp.makeComponentController(AppController),\r\n\t);\r\n\r\napp\r\n\t.configure({ API_HOST: 'api.ng-app.js.org' })\r\n\t.bootstrap()\r\n\t.then(() => {\r\n\t\tapp.log.success('Welcome... to The World...');\r\n\t});\r\n","import { Indexed } from '@ledge/types';\r\nimport { StateService } from '@uirouter/core';\r\nimport { StateProvider } from '@uirouter/angularjs';\r\nimport { autobind } from 'core-decorators';\r\n\r\nimport { NgController, makeInjectableCtrl } from './controller';\r\nimport { NgHttp, NgHttpInterceptor, NgHttpOptions } from './http';\r\nimport { InputService, NgInputOptions } from './inputs';\r\nimport { NgLogger } from './logger';\r\nimport { NgModal } from './modal';\r\nimport { NgInjector, bootstrap, injector, module } from './ng';\r\nimport { NgAppConfig, NgComponentOptions } from './options';\r\nimport { NgRenderer } from './renderer';\r\nimport { NgRouter } from './router';\r\n\r\n@autobind\r\nexport class NgApp {\r\n\tpublic get module() {\r\n\t\treturn this.$module;\r\n\t}\r\n\r\n\tpublic get router() {\r\n\t\treturn this.$router;\r\n\t}\r\n\r\n\tpublic get config() {\r\n\t\treturn this.$config;\r\n\t}\r\n\r\n\tpublic get components() {\r\n\t\treturn new Set(this.$components.keys());\r\n\t}\r\n\r\n\tpublic get dependencies() {\r\n\t\treturn new Set(this.$dependencies);\r\n\t}\r\n\r\n\tpublic get state() {\r\n\t\treturn this.$injector.get<StateService>('$state');\r\n\t}\r\n\r\n\tpublic get http() {\r\n\t\tif (this._http == null) {\r\n\t\t\tthis._http = this.$http({ timeout: this.$config.IS_PROD ? 10000 : undefined, getConfig: () => this.$config });\r\n\t\t}\r\n\t\treturn this._http;\r\n\t}\r\n\r\n\tpublic get log() {\r\n\t\tif (this._log == null) {\r\n\t\t\tthis._log = this.$logger();\r\n\t\t}\r\n\t\treturn this._log;\r\n\t}\r\n\r\n\tpublic get modal() {\r\n\t\tif (this._modal == null) {\r\n\t\t\tthis._modal = this.$modal();\r\n\t\t}\r\n\t\treturn this._modal;\r\n\t}\r\n\r\n\tpublic get renderer() {\r\n\t\tif (this._renderer == null) {\r\n\t\t\tthis._renderer = this.$renderer();\r\n\t\t}\r\n\t\treturn this._renderer;\r\n\t}\r\n\r\n\tpublic readonly $id = '$core';\r\n\tpublic $injector = injector(['ng']);\r\n\r\n\tprotected $dependencies: string[] = [];\r\n\r\n\tprotected readonly $module = module(this.$id, this.$dependencies);\r\n\tprotected readonly $bootstrap = bootstrap;\r\n\tprotected readonly $components = new Map<string, NgComponentOptions>();\r\n\tprotected readonly $httpInterceptors: NgHttpInterceptor[] = [];\r\n\r\n\tprotected $router: NgRouter;\r\n\tprotected $config: NgAppConfig;\r\n\r\n\tprivate _http: NgHttp;\r\n\tprivate _log: NgLogger;\r\n\tprivate _modal: NgModal;\r\n\tprivate _renderer: NgRenderer;\r\n\r\n\tconstructor() {\r\n\t\tthis.configure({ })\r\n\t\t\t.$module\r\n\t\t\t.config([\r\n\t\t\t\t'$compileProvider',\r\n\t\t\t\t'$locationProvider',\r\n\t\t\t\t'$qProvider',\r\n\t\t\t\t(\r\n\t\t\t\t\t$compileProvider: {\r\n\t\t\t\t\t\tdebugInfoEnabled(active: boolean): any;\r\n\t\t\t\t\t\tcommentDirectivesEnabled(active: boolean): any;\r\n\t\t\t\t\t\tcssClassDirectivesEnabled(active: boolean): any;\r\n\t\t\t\t\t},\r\n\t\t\t\t\t$locationProvider: {\r\n\t\t\t\t\t\thtml5Mode(active: boolean): any;\r\n\t\t\t\t\t},\r\n\t\t\t\t\t$qProvider: {\r\n\t\t\t\t\t\terrorOnUnhandledRejections(active: boolean): any,\r\n\t\t\t\t\t},\r\n\t\t\t\t) => {\r\n\t\t\t\t\tconst { IS_DEV, IS_STAGING } = this.$config;\r\n\r\n\t\t\t\t\t$compileProvider.debugInfoEnabled(!!(IS_DEV || IS_STAGING));\r\n\t\t\t\t\t$compileProvider.commentDirectivesEnabled(false);\r\n\t\t\t\t\t$compileProvider.cssClassDirectivesEnabled(false);\r\n\r\n\t\t\t\t\t$locationProvider.html5Mode(true);\r\n\t\t\t\t\t$qProvider.errorOnUnhandledRejections(false);\r\n\t\t\t\t},\r\n\t\t\t])\r\n\t\t\t.config(['$stateProvider', ($stateProvider: StateProvider) => {\r\n\t\t\t\tif (this.router == null) {\r\n\t\t\t\t\treturn this.log.$warn('No router. Use `app.setRouter(r)` to disable this warning.');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (const definition of this.router.getRoutes()) {\r\n\t\t\t\t\t$stateProvider.state(definition);\r\n\t\t\t\t}\r\n\t\t\t}])\r\n\t\t\t.run([\r\n\t\t\t\t'$injector',\r\n\t\t\t\t'$animate',\r\n\t\t\t\t(\r\n\t\t\t\t\t$injector: NgInjector,\r\n\t\t\t\t\t$animate: {\r\n\t\t\t\t\t\tenabled(active: boolean): any,\r\n\t\t\t\t\t},\r\n\t\t\t\t) => {\r\n\t\t\t\t\tthis.$injector = $injector;\r\n\t\t\t\t\t$animate.enabled(true);\r\n\t\t\t\t},\r\n\t\t\t]);\r\n\t}\r\n\r\n\t/**\r\n\t * Force the application to run an update cycle\r\n\t */\r\n\tpublic async forceUpdate() {\r\n\t\tthis.$injector.get('$rootScope').$applyAsync();\r\n\t}\r\n\r\n\tpublic async bootstrap({ strictDi }: { strictDi?: boolean; } = { strictDi: true }) {\r\n\t\tfor (const [name, definition] of this.$components) {\r\n\t\t\tthis.$module.component(name, definition);\r\n\t\t}\r\n\t\tif (this.$router == null) {\r\n\t\t\tthis.$router = new (class extends NgRouter { })();\r\n\t\t}\r\n\r\n\t\tsetTimeout(() => document.body.classList.add('bootstrapped'));\r\n\t\treturn this.$bootstrap(document.body, [this.$id], { strictDi });\r\n\t}\r\n\r\n\tpublic configure(config: Partial<NgAppConfig>) {\r\n\t\tthis.$config = new NgAppConfig(config);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic setRouter(router: NgRouter) {\r\n\t\tthis.$router = router;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic addComponents(components: Map<string, NgComponentOptions> | Indexed<NgComponentOptions>) {\r\n\t\tconst entries =\r\n\t\t\tcomponents instanceof Map\r\n\t\t\t\t? components.entries()\r\n\t\t\t\t: Object.entries(components);\r\n\r\n\t\tfor (let [name, component] of entries) {\r\n\t\t\tif (this.isInputComponent(component)) {\r\n\t\t\t\tcomponent = InputService.defineInputComponent(component);\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof component.controller === 'function') {\r\n\t\t\t\tcomponent.controller = this.makeComponentController(component.controller);\r\n\t\t\t}\r\n\r\n\t\t\tthis.$components.set(name, component);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic isInputComponent(\r\n\t\tcomponent: NgComponentOptions & { type?: 'input' },\r\n\t): component is NgInputOptions {\r\n\t\treturn component.type === 'input';\r\n\t}\r\n\r\n\tpublic addDependencies(...moduleNames: string[]) {\r\n\t\tthis.$dependencies.push(...moduleNames);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic addHttpInterceptor(interceptor: NgHttpInterceptor) {\r\n\t\tthis.$httpInterceptors.push(interceptor);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic makeComponentController<T extends NgController>(ctrl: new () => T) {\r\n\t\tconst componentCtrl = makeInjectableCtrl<T>(ctrl, {\r\n\t\t\tlog: this.log,\r\n\t\t\thttp: this.http,\r\n\t\t\trenderer: this.renderer,\r\n\t\t\tconfig: () => this.config,\r\n\t\t});\r\n\r\n\t\treturn [\r\n\t\t\t'$element',\r\n\t\t\t'$scope',\r\n\t\t\t'$injector',\r\n\t\t\tcomponentCtrl,\r\n\t\t] as [\r\n\t\t\t\t'$element',\r\n\t\t\t\t'$scope',\r\n\t\t\t\t'$injector',\r\n\t\t\t\ttypeof componentCtrl\r\n\t\t\t];\r\n\t}\r\n\r\n\tprotected $modal() {\r\n\t\treturn new NgModal(\r\n\t\t\tthis.renderer,\r\n\t\t\tthis.log,\r\n\t\t\tthis.http,\r\n\t\t\tthis.config,\r\n\t\t\tthis.$injector,\r\n\t\t);\r\n\t}\r\n\r\n\tprotected $http(options: NgHttpOptions) {\r\n\t\tif ((typeof options.onFinally === 'function') === false) {\r\n\t\t\toptions.onFinally = this.forceUpdate;\r\n\t\t}\r\n\t\tif (Array.isArray(options.interceptors)) {\r\n\t\t\tfor (const interceptor of options.interceptors) {\r\n\t\t\t\tthis.addHttpInterceptor(interceptor);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// allow all dataservice instances to share the same interceptor queue\r\n\t\toptions.interceptors = this.$httpInterceptors;\r\n\r\n\t\treturn new NgHttp(options);\r\n\t}\r\n\r\n\tprotected $logger() {\r\n\t\treturn new NgLogger(this.renderer, this.$config.IS_PROD);\r\n\t}\r\n\tprotected $renderer() {\r\n\t\treturn new NgRenderer();\r\n\t}\r\n}\r\n","import flatpickr from 'flatpickr';\r\nimport { NgInputController, NgInputOptions } from './shared';\r\n\r\nfunction isNumber(n: any): n is number {\r\n\treturn Number.isInteger(n);\r\n}\r\n\r\nclass DateInputController extends NgInputController {\r\n\tprivate readonly SUPPORTED_MODES = ['single', 'multiple', 'range'];\r\n\tprivate minDate?: Date | number | string;\r\n\tprivate maxDate?: Date | number | string;\r\n\tprivate flatpickr: flatpickr.Instance;\r\n\r\n\tpublic $onInit() {\r\n\t\tthis.ngModelCtrl.$validators.minDate = modelVal => {\r\n\t\t\tif (modelVal != null) {\r\n\t\t\t\tif (isNumber(this.minDate)) {\r\n\t\t\t\t\treturn this.minDate <= modelVal.valueOf();\r\n\t\t\t\t}\r\n\t\t\t\tif (this.minDate instanceof Date) {\r\n\t\t\t\t\treturn this.minDate.valueOf() <= modelVal.valueOf();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\tthis.ngModelCtrl.$validators.maxDate = modelVal => {\r\n\t\t\tif (modelVal != null) {\r\n\t\t\t\tif (isNumber(this.maxDate)) {\r\n\t\t\t\t\treturn this.maxDate >= modelVal.valueOf();\r\n\t\t\t\t}\r\n\t\t\t\tif (this.maxDate instanceof Date) {\r\n\t\t\t\t\treturn this.maxDate.valueOf() >= modelVal.valueOf();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\tconst { inline, mode = 'single' } = this.$attrs;\r\n\t\tif (this.SUPPORTED_MODES.includes(mode) === false) {\r\n\t\t\tthis.$log.devWarning(`Unsupported date-input \\`mode\\` ('${mode}') for #${this.$element.id}. Expected one of ${this.SUPPORTED_MODES.join(', ')}.`);\r\n\t\t}\r\n\r\n\t\tthis.flatpickr = flatpickr(this.$element, {\r\n\t\t\tdateFormat: 'M n Y (l)',\r\n\t\t\tdefaultDate: this.ngModel,\r\n\t\t\tinline: inline === 'true',\r\n\t\t\tmode,\r\n\t\t\tnextArrow: '&raquo;',\r\n\t\t\tprevArrow: '&laquo;',\r\n\t\t\tallowInput: true,\r\n\t\t\tweekNumbers: true,\r\n\t\t\twrap: true,\r\n\t\t\tenable: [\r\n\t\t\t\td => {\r\n\t\t\t\t\tconst maxDate = Date.parse(this.maxDate as any);\r\n\t\t\t\t\treturn Number.isNaN(maxDate) || d.valueOf() < maxDate;\r\n\t\t\t\t},\r\n\t\t\t\td => {\r\n\t\t\t\t\tconst minDate = Date.parse(this.minDate as any);\r\n\t\t\t\t\treturn Number.isNaN(minDate) || d.valueOf() > minDate;\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tonChange: selected => {\r\n\t\t\t\tthis.ngModel = selected.length > 1\r\n\t\t\t\t\t? selected\r\n\t\t\t\t\t: selected[0];\r\n\r\n\t\t\t\tthis.$scope.$applyAsync();\r\n\t\t\t},\r\n\t\t}) as flatpickr.Instance;\r\n\t}\r\n\r\n\tpublic $onDestroy() {\r\n\t\tif (this.flatpickr != null && typeof this.flatpickr.destroy === 'function') {\r\n\t\t\tthis.flatpickr.destroy();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic getMinDate() {\r\n\t\treturn new Date(this.minDate as number).toLocaleDateString();\r\n\t}\r\n\r\n\tpublic getMaxDate() {\r\n\t\treturn new Date(this.maxDate as number).toLocaleDateString();\r\n\t}\r\n}\r\n\r\nexport const dateInput: NgInputOptions = {\r\n\ttype: 'input',\r\n\trender(h) {\r\n\t\tconst input = h.createInput('text');\r\n\r\n\t\t// flatpickr requires control of the input element\r\n\t\tinput.removeAttribute('ng-model');\r\n\t\tinput.setAttribute('data-input', 'true');\r\n\r\n\t\tconst iconInput = h.createIconInput(input, 'calendar', [\r\n\t\t\t['data-toggle', 'true'],\r\n\t\t\t['style', 'cursor: pointer;'],\r\n\t\t]);\r\n\r\n\t\tconst inputGroupAppend = h.createHtmlElement('div', ['input-group-append']);\r\n\t\tinputGroupAppend.setAttribute('data-clear', 'true');\r\n\t\tinputGroupAppend.style.setProperty('cursor', 'pointer');\r\n\r\n\t\tconst inputGroupText = h.createHtmlElement('span', ['input-group-text']);\r\n\t\tconst clearIcon = h.createIcon('x');\r\n\r\n\t\tinputGroupText.appendChild(clearIcon);\r\n\t\tinputGroupAppend.appendChild(inputGroupText);\r\n\t\ticonInput.appendChild(inputGroupAppend);\r\n\r\n\t\treturn iconInput;\r\n\t},\r\n\tbindings: {\r\n\t\tminDate: '<',\r\n\t\tmaxDate: '<',\r\n\t},\r\n\tvalidators: {\r\n\t\tminDate: 'Date must be on or after {{$ctrl.getMinDate()}}',\r\n\t\tmaxDate: 'Date must be on or before {{$ctrl.getMaxDate()}}',\r\n\t},\r\n\tcontroller: DateInputController,\r\n};\r\n","import { NgController, makeInjectableCtrl } from './controller';\r\nimport { NgLogger } from './logger';\r\nimport { NgService } from './service';\r\nimport { NgHttp } from './http';\r\nimport { NgAppConfig } from './options';\r\nimport { NgRenderer } from './renderer';\r\nimport { NgInjector, NgScope } from './ng';\r\n\r\nexport class NgModal extends NgService {\r\n\tprotected readonly backdrop: HTMLDivElement;\r\n\tprotected readonly container: HTMLDivElement;\r\n\tprotected readonly content: HTMLDivElement;\r\n\tprotected readonly dialog: HTMLDivElement;\r\n\tprotected readonly header: HTMLDivElement;\r\n\tprotected readonly headerCloseButton: HTMLButtonElement;\r\n\tprotected readonly title: HTMLHeadingElement;\r\n\tprotected readonly body: HTMLDivElement;\r\n\tprotected readonly footer: HTMLDivElement;\r\n\tprotected readonly footerCancelButton: HTMLButtonElement;\r\n\tprotected readonly footerOkButton: HTMLButtonElement;\r\n\r\n\tprotected readonly $compile: (element: Element) => (scope: NgScope) => { [i: number]: HTMLElement };\r\n\tprotected readonly $rootScope: NgScope;\r\n\r\n\tconstructor(\r\n\t\tprotected readonly $renderer: NgRenderer,\r\n\t\tprotected readonly $log: NgLogger,\r\n\t\tprotected readonly $http: NgHttp,\r\n\t\tprotected readonly $config: NgAppConfig,\r\n\t\tprotected readonly $injector: NgInjector,\r\n\t) {\r\n\t\tsuper();\r\n\r\n\t\tthis.$compile = this.$injector.get('$compile');\r\n\t\tthis.$rootScope = this.$injector.get('$rootScope');\r\n\r\n\t\tthis.backdrop = this.$renderer.createHtmlElement('div', ['modal-backdrop', 'fade']);\r\n\t\tthis.title = this.$renderer.createHtmlElement('h5', ['modal-title'], [['id', `modal-title-${this.uniqueId}`]]);\r\n\r\n\t\tthis.headerCloseButton = this.$renderer.createHtmlElement('button', ['close'], [['type', 'button'], ['aria-label', 'close']]);\r\n\t\tthis.headerCloseButton.innerHTML = '&times;';\r\n\r\n\t\tthis.header = this.$renderer.createHtmlElement('div', ['modal-header']);\r\n\t\tthis.body = this.$renderer.createHtmlElement('div', ['modal-body']);\r\n\t\tthis.footer = this.$renderer.createHtmlElement('div', ['modal-footer']);\r\n\t\tthis.content = this.$renderer.createHtmlElement('div', ['modal-content']);\r\n\r\n\t\tthis.header.appendChild(this.title);\r\n\t\tthis.header.appendChild(this.headerCloseButton);\r\n\r\n\t\tthis.content.appendChild(this.header);\r\n\t\tthis.content.appendChild(this.body);\r\n\t\tthis.content.appendChild(this.footer);\r\n\r\n\t\tthis.footerCancelButton = this.$renderer.createHtmlElement('button', ['btn', 'btn-info'], [['type', 'button']]);\r\n\t\tthis.footerOkButton = this.$renderer.createHtmlElement('button', ['btn', 'btn-success'], [['type', 'button']]);\r\n\r\n\t\tthis.footer.appendChild(this.footerCancelButton);\r\n\t\tthis.footer.appendChild(this.footerOkButton);\r\n\r\n\t\tthis.dialog = this.$renderer.createHtmlElement('div', ['modal-dialog'], [['role', 'document']]);\r\n\t\tthis.dialog.appendChild(this.content);\r\n\r\n\t\tthis.container = this.$renderer.createHtmlElement('div', ['fade', 'modal'], [\r\n\t\t\t['aria-hidden', 'true'],\r\n\t\t\t['aria-labelledby', 'modal-title'],\r\n\t\t\t['role', 'dialog'],\r\n\t\t\t['tabindex', '-1'],\r\n\t\t]);\r\n\t\tthis.container.appendChild(this.dialog);\r\n\r\n\t\tdocument.body.appendChild(this.container);\r\n\t}\r\n\r\n\tpublic open<T extends typeof NgController>(options: NgModalOptions<T> = { }) {\r\n\t\tconst { $log } = this;\r\n\t\tconst {\r\n\t\t\ttitle = 'Set the <code>title</code> property to replace me :)',\r\n\t\t\ttemplate = '<p class=\"lead\">Set the <code>template</code> property to replace me :)</p>',\r\n\t\t\tcontroller = NgController,\r\n\t\t\tonClose = () => {\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t} = options;\r\n\r\n\t\tconst defaultCancelBtnText = 'Cancel';\r\n\t\tconst defaultOkBtnText = 'Ok';\r\n\t\tlet {\r\n\t\t\tcancelBtnText = defaultCancelBtnText,\r\n\t\t\tokBtnText = defaultOkBtnText,\r\n\t\t} = options;\r\n\r\n\t\tif (cancelBtnText !== false) {\r\n\t\t\tif (cancelBtnText === true) {\r\n\t\t\t\tcancelBtnText = defaultCancelBtnText;\r\n\t\t\t}\r\n\t\t\tthis.footerCancelButton.innerText = cancelBtnText;\r\n\t\t}\r\n\t\tif (okBtnText !== false) {\r\n\t\t\tif (okBtnText === true) {\r\n\t\t\t\tokBtnText = defaultOkBtnText;\r\n\t\t\t}\r\n\t\t\tthis.footerOkButton.innerText = okBtnText;\r\n\t\t}\r\n\r\n\t\tthis.title.innerHTML = typeof title === 'function' ? title() : title;\r\n\t\tthis.body.innerHTML =\r\n\t\t\ttypeof template === 'function' ? template() : template;\r\n\r\n\t\tconst $scope = this.$rootScope.$new(true) as Parameters<NgModal['hide']>[1];\r\n\t\tconst $element = this.$compile(this.container)($scope);\r\n\t\tconst $ctrl = makeInjectableCtrl(controller, {\r\n\t\t\tlog: this.$log,\r\n\t\t\thttp: this.$http,\r\n\t\t\trenderer: this.$renderer,\r\n\t\t\tconfig: () => this.$config,\r\n\t\t});\r\n\r\n\t\t$scope.$ctrl = new $ctrl($element, $scope, this.$injector) as NgController;\r\n\t\t$scope.$applyAsync();\r\n\r\n\t\tconst escapeKeyListener = (e: KeyboardEvent) => {\r\n\t\t\tif (e.key === 'Escape' || e.key === 'Esc') {\r\n\t\t\t\tclose();\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst dismiss = () => {\r\n\t\t\tremoveEventListeners();\r\n\t\t\tthis.hide(escapeKeyListener, $scope);\r\n\t\t};\r\n\r\n\t\tthis.show(escapeKeyListener);\r\n\r\n\t\tconst removeEventListeners = () => {\r\n\t\t\tthis.headerCloseButton.removeEventListener('click', dismiss);\r\n\t\t\tthis.footerCancelButton.removeEventListener('click', dismiss);\r\n\t\t\tthis.footerOkButton.removeEventListener('click', close);\r\n\t\t\tthis.backdrop.removeEventListener('click', close);\r\n\t\t};\r\n\r\n\t\tconst close = () => {\r\n\t\t\tif (onClose.call({ $log }, controller as T)) {\r\n\t\t\t\tdismiss();\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis.headerCloseButton.addEventListener('click', dismiss);\r\n\t\tthis.footerCancelButton.addEventListener('click', dismiss);\r\n\t\tthis.footerOkButton.addEventListener('click', close);\r\n\t\tthis.backdrop.addEventListener('click', close);\r\n\r\n\t\treturn { close, dismiss };\r\n\t}\r\n\r\n\tprotected show(escapeKeyListener: (e: KeyboardEvent) => void) {\r\n\t\tthis.backdrop.style.setProperty('display', 'block');\r\n\r\n\t\tthis.container.style.setProperty('display', 'block');\r\n\t\tthis.container.classList.remove('show');\r\n\t\tthis.container.removeAttribute('aria-hidden');\r\n\t\tthis.container.setAttribute('aria-modal', 'true');\r\n\t\tthis.container.style.setProperty('padding-right', '17px');\r\n\t\tthis.container.style.setProperty('pointer-events', 'none');\r\n\r\n\t\twindow.addEventListener('keydown', escapeKeyListener);\r\n\t\tdocument.body.appendChild(this.backdrop);\r\n\t\tdocument.body.classList.add('modal-open');\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.backdrop.classList.add('show');\r\n\t\t\tthis.container.classList.add('show');\r\n\t\t}, 23);\r\n\t}\r\n\r\n\tprotected hide(\r\n\t\tescapeKeyListener: (e: KeyboardEvent) => void,\r\n\t\tscope: NgScope & { $ctrl: NgController; },\r\n\t) {\r\n\t\tthis.backdrop.classList.remove('show');\r\n\t\tthis.container.classList.remove('show');\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.container.style.setProperty('display', 'none');\r\n\t\t\tthis.backdrop.style.setProperty('display', 'none');\r\n\t\t}, 150);\r\n\r\n\t\tscope.$destroy();\r\n\t\twindow.removeEventListener('keydown', escapeKeyListener);\r\n\t\tdocument.body.classList.remove('modal-open');\r\n\t}\r\n}\r\n\r\nexport interface NgModalOptions<T extends typeof NgController> {\r\n\t/**\r\n\t * String representing the modal's title\r\n\t */\r\n\ttitle?: string | (() => string);\r\n\r\n\t/**\r\n\t * Inline template representing the modal's content\r\n\t */\r\n\ttemplate?: string | (() => string);\r\n\r\n\t/**\r\n\t * Ok button text (false to hide)\r\n\t */\r\n\tokBtnText?: string | boolean;\r\n\r\n\t/**\r\n\t * Cancel button text (false to hide, true for default)\r\n\t */\r\n\tcancelBtnText?: string | boolean;\r\n\r\n\t/**\r\n\t * A controller for a modal instance.\r\n\t */\r\n\tcontroller?: T;\r\n\r\n\tonClose?(this: { $log: NgLogger }, controller: T): boolean;\r\n}\r\n","import { PatchPayload } from '@ledge/types/patch';\r\nimport { NgService } from './service';\r\nimport { NgAppConfig } from './options';\r\n\r\nexport interface NgHttpInterceptor {\r\n\trequest?(config: Request): Request | Promise<Request>;\r\n\tresponse?(response: any): any;\r\n\tresponseError?<T extends Error>(response: Response, err: T): void;\r\n}\r\n\r\n// tslint:disable:no-redundant-jsdoc\r\nexport interface NgHttpOptions extends RequestInit {\r\n\t/**\r\n\t *\r\n\t * @default `location.host`\r\n\t */\r\n\thost?: string;\r\n\r\n\t/**\r\n\t * If true, use `https://`. Otherwise, use `http://`\r\n\t * @default false\r\n\t */\r\n\tssl?: boolean;\r\n\r\n\t/**\r\n\t * How many milliseconds to wait before aborting the request\r\n\t * @default 10000\r\n\t */\r\n\ttimeout?: number;\r\n\r\n\tinterceptors?: NgHttpInterceptor[];\r\n\r\n\t/**\r\n\t * Unsupported\r\n\t */\r\n\treferrer?: never;\r\n\r\n\t/**\r\n\t * Unsupported\r\n\t */\r\n\tsignal?: never;\r\n\r\n\tonFinally?(): void;\r\n\tgetConfig(): NgAppConfig;\r\n}\r\n// tslint:enable:no-redundant-jsdoc\r\n\r\nexport class NgHttp extends NgService {\r\n\tprivate interceptors: {\r\n\t\trequest: ((config: Request) => Request | Promise<Request>)[];\r\n\t\tresponse: ((response: any) => any)[];\r\n\t\tresponseError: (<T extends Error>(\r\n\t\t\tresponse: Response,\r\n\t\t\terr: T,\r\n\t\t) => void)[];\r\n\t};\r\n\r\n\tconstructor(private options: NgHttpOptions) {\r\n\t\tsuper();\r\n\t\tconst { interceptors = [] } = options;\r\n\t\tthis.interceptors = {\r\n\t\t\trequest: interceptors\r\n\t\t\t\t.map(x => x.request)\r\n\t\t\t\t.filter(x => typeof x === 'function') as ((\r\n\t\t\t\tconfig: Request,\r\n\t\t\t) => Request | Promise<Request>)[],\r\n\t\t\tresponse: interceptors\r\n\t\t\t\t.map(x => x.response)\r\n\t\t\t\t.filter(x => typeof x === 'function') as ((response: any) => any)[],\r\n\t\t\tresponseError: interceptors\r\n\t\t\t\t.map(x => x.responseError)\r\n\t\t\t\t.filter(x => typeof x === 'function') as (<T extends Error>(\r\n\t\t\t\tresponse: Response,\r\n\t\t\t\terr: T,\r\n\t\t\t) => void)[],\r\n\t\t};\r\n\t}\r\n\r\n\tpublic async Get<T = any>(url: string) {\r\n\t\treturn this.fetch<T>(url, 'GET');\r\n\t}\r\n\r\n\tpublic async Post<T = any>(url: string, data: any = null) {\r\n\t\treturn this.fetch<T>(url, 'POST', data);\r\n\t}\r\n\r\n\tpublic async Patch<T = any>(url: string, data: PatchPayload) {\r\n\t\treturn this.fetch<T>(url, 'PATCH', data);\r\n\t}\r\n\r\n\tpublic async Put<T = any>(url: string, data: T) {\r\n\t\treturn this.fetch(url, 'PUT', data);\r\n\t}\r\n\r\n\tpublic async Delete<T = any>(url: string) {\r\n\t\treturn this.fetch<T>(url, 'DELETE');\r\n\t}\r\n\r\n\tpublic async Jsonp<T = any>(url: string) {\r\n\t\treturn this.fetch<T>(url, 'JSONP');\r\n\t}\r\n\r\n\tpublic getFullUrl(uri: string, host: string, ssl: boolean) {\r\n\t\treturn new URL(uri, `http${ssl ? 's' : ''}://${host}`).toJSON();\r\n\t}\r\n\r\n\tprivate async fetch<T>(\r\n\t\turi: string,\r\n\t\tmethod: 'GET' | 'POST' | 'PATCH' | 'PUT' | 'DELETE' | 'JSONP',\r\n\t\tdata?: any,\r\n\t) {\r\n\t\tlet response = new Response();\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\thost = this.options.getConfig().API_HOST,\r\n\t\t\t\tssl = location.protocol === 'https:',\r\n\t\t\t\tcache = 'no-store',\r\n\t\t\t\tcredentials = 'include',\r\n\t\t\t\theaders,\r\n\t\t\t\tintegrity,\r\n\t\t\t\tkeepalive = false,\r\n\t\t\t\tmode = 'cors',\r\n\t\t\t\tredirect = 'manual',\r\n\t\t\t\treferrerPolicy = 'origin-when-cross-origin',\r\n\t\t\t\ttimeout = 10000,\r\n\t\t\t\twindow,\r\n\t\t\t} = this.options;\r\n\r\n\t\t\tconst url = this.getFullUrl(uri, host, ssl);\r\n\t\t\tconst abortCtrl = new AbortController();\r\n\r\n\t\t\tlet request = new Request(url, {\r\n\t\t\t\tmethod,\r\n\t\t\t\tcache,\r\n\t\t\t\tcredentials,\r\n\t\t\t\theaders,\r\n\t\t\t\tintegrity,\r\n\t\t\t\tkeepalive,\r\n\t\t\t\tmode,\r\n\t\t\t\tredirect,\r\n\t\t\t\treferrerPolicy,\r\n\t\t\t\tsignal: abortCtrl.signal,\r\n\t\t\t\twindow,\r\n\t\t\t\tbody: JSON.stringify(data),\r\n\t\t\t});\r\n\r\n\t\t\tfor (const onRequest of this.interceptors.request) {\r\n\t\t\t\trequest = await onRequest(request);\r\n\t\t\t}\r\n\r\n\t\t\tconst abortTimer = setTimeout(abortCtrl.abort, timeout);\r\n\t\t\tresponse = await fetch(request);\r\n\t\t\tclearTimeout(abortTimer);\r\n\r\n\t\t\tif (response.ok) {\r\n\t\t\t\tlet value: T = await response.json();\r\n\t\t\t\tfor (const onResponse of this.interceptors.response) {\r\n\t\t\t\t\tvalue = await onResponse(value);\r\n\t\t\t\t}\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\r\n\t\t\tthrow new Error();\r\n\t\t} catch (err) {\r\n\t\t\tfor (const onResponseError of this.interceptors.responseError) {\r\n\t\t\t\tawait onResponseError(response.clone(), err);\r\n\t\t\t}\r\n\t\t\tthrow err;\r\n\t\t} finally {\r\n\t\t\tif (typeof this.options.onFinally === 'function') {\r\n\t\t\t\tthis.options.onFinally();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","import { NgController } from '../controller';\r\nimport { NgComponentOptions } from '../options';\r\n\r\nclass IconController extends NgController {\r\n\tpublic $onInit() {\r\n\t\tconst { icon: iconName, width = 23, height = 23 } = this.$attrs;\r\n\t\tconst icon = this.$renderer.createIcon(iconName, { width, height });\r\n\t\tthis.$element.appendChild(icon);\r\n\t}\r\n}\r\n\r\nexport const appIcon: NgComponentOptions = {\r\n\tcontroller: IconController,\r\n};\r\n","import { NgController } from '../controller';\r\nimport { NgComponentOptions } from '../options';\r\n\r\nclass SpinnerController extends NgController {\r\n\tprivate readonly colors = ['primary', 'secondary', 'success', 'danger', 'warning', 'info', 'light', 'dark'];\r\n\r\n\tpublic $onInit() {\r\n\t\tconst { color = 'primary' } = this.$attrs;\r\n\r\n\t\tif (this.colors.includes(color) === false) {\r\n\t\t\tthrow new Error(`Color not supported: ${color}.\\nSupported colors: ${this.colors.join(', ')}`);\r\n\t\t}\r\n\r\n\t\tconst srDesc = this.$renderer.createHtmlElement('span', ['sr-only']);\r\n\t\tsrDesc.innerText = 'Loading...';\r\n\r\n\t\tconst spinner = this.$renderer.createHtmlElement('div', ['spinner-border', `text-${color}`, 'mx-1'], [['role', 'status']]);\r\n\t\tspinner.appendChild(srDesc);\r\n\t\tspinner.style.setProperty('margin-top', '0.23rem');\r\n\r\n\t\tthis.$element.appendChild(spinner);\r\n\t}\r\n}\r\n\r\nexport const appSpinner: NgComponentOptions = {\r\n\tcontroller: SpinnerController,\r\n};\r\n","import { appIcon } from './app-icon';\r\nimport { appSpinner } from './app-spinner';\r\n\r\nexport const misc = {\r\n\tappIcon,\r\n\tappSpinner,\r\n};\r\n","import { Indexed } from '@ledge/types';\r\n\r\nexport class NgAttributes {\r\n\t[name: string]: any;\r\n\tpublic readonly $attr: Indexed<string> = { };\r\n\r\n\tpublic PREFIX_REGEXP = /^((?:x|data)[:\\-_])/i;\r\n\tpublic SPECIAL_CHARS_REGEXP = /[:\\-_]+(.)/g;\r\n\r\n\tconstructor(private readonly $$element: Element, attrs: Indexed = { }) {\r\n\t\tfor (const { name: key, value } of Array.from($$element.attributes)) {\r\n\t\t\tthis.$record(key, value);\r\n\t\t}\r\n\r\n\t\tfor (const [key, value] of Object.entries(attrs)) {\r\n\t\t\tthis.$record(key, value);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Converts an attribute name (e.g. dash/colon/underscore-delimited string, optionally prefixed with x- or data-) to its normalized, camelCase form.\r\n\t *\r\n\t * Also there is special case for Moz prefix starting with upper case letter.\r\n\t *\r\n\t * For further information check out the guide on @see https://docs.angularjs.org/guide/directive#matching-directives\r\n\t */\r\n\tpublic $normalize(name: string) {\r\n\t\treturn name\r\n\t\t\t.replace(this.PREFIX_REGEXP, '')\r\n\t\t\t.replace(this.SPECIAL_CHARS_REGEXP, (_, letter, offset) => offset ? letter.toUpperCase() : letter);\r\n\t}\r\n\r\n\t/**\r\n\t * Checks if the CSS class value is present on the element.\r\n\t */\r\n\tpublic $hasClass(className: string) {\r\n\t\treturn this.$$element.classList.contains(className);\r\n\t}\r\n\r\n\t/**\r\n\t * Adds the specified CSS class value to the element.\r\n\t * If animations are enabled then an animation will be triggered for the class addition.\r\n\t */\r\n\tpublic $addClass(className: string) {\r\n\t\tif (this.$hasClass(className)) {\r\n\t\t\tthis.$$element.classList.add(className);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Removes the specified CSS class value from the element.\r\n\t * If animations are enabled then an animation will be triggered for the class removal.\r\n\t */\r\n\tpublic $removeClass(className: string) {\r\n\t\tif (this.$hasClass(className)) {\r\n\t\t\tthis.$$element.classList.remove(className);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Adds and removes CSS class values to the element based on the difference between\r\n\t * two space-delimited strings of CSS class values.\r\n\t *\r\n\t * @param newClasses: The space-delimited list of CSS classes to add or retain\r\n\t * @param oldClasses: The space-delimited list of CSS classes to remove if not contained within newClasses\r\n\t */\r\n\tpublic $updateClass(newClasses: string, oldClasses: string) {\r\n\t\tconst nu = newClasses.split(/\\s/g).filter(x => x.length > 0);\r\n\t\tconst old = oldClasses.split(/\\s/g).filter(x => x.length > 0);\r\n\r\n\t\tfor (const o of old) {\r\n\t\t\tif (nu.includes(o)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tthis.$removeClass(o);\r\n\t\t}\r\n\r\n\t\tfor (const n of nu) {\r\n\t\t\tthis.$addClass(n);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Set DOM element attribute value.\r\n\t */\r\n\tpublic $set(key: string, value: any) {\r\n\t\tthis.$$element.setAttribute(key, value);\r\n\t}\r\n\r\n\t/**\r\n\t * @deprecated\r\n\t */\r\n\tpublic $observe<T>(_: string, __: (value?: T) => any) {\r\n\t\t// tslint:disable-next-line:no-console\r\n\t\tconsole.warn('$observe is a noop');\r\n\t\treturn () => { return; };\r\n\t}\r\n\r\n\tprotected $record(key: string, value: string) {\r\n\t\tconst normalized = this.$normalize(key);\r\n\t\tthis[normalized] = value;\r\n\t\tthis.$attr[key] = normalized;\r\n\t}\r\n}\r\n","import { Indexed } from '@ledge/types';\r\n\r\n// tslint:disable:no-var-requires\r\nconst data = require('octicons/build/data.json');\r\nconst octicons: Indexed = { };\r\n\r\nfor (const key of Object.keys(data)) {\r\n\tconst icon = octicons[key] = Object.assign({ }, data[key]);\r\n\r\n\t// Returns a string representation of html attributes\r\n\tconst htmlAttributes = (options?: any) => {\r\n\t\tconst attributes: string[] = [];\r\n\t\tconst attrObj = Object.assign({ }, icon.options, options);\r\n\r\n\t\t// If the user passed in options\r\n\t\tif (options) {\r\n\t\t\t// If any of the width or height is passed in\r\n\t\t\tif (options.width || options.height) {\r\n\t\t\t\tattrObj.width = options.width ? options.width : (parseInt(options.height, 10) * icon.options.width / icon.options.height);\r\n\t\t\t\tattrObj.height = options.height ? options.height : (parseInt(options.width, 10) * icon.options.height / icon.options.width);\r\n\t\t\t}\r\n\r\n\t\t\t// If the user passed in class\r\n\t\t\tif (options.class) {\r\n\t\t\t\tattrObj.class = `octicon octicon-${key} ${options.class}`;\r\n\t\t\t\tattrObj.class.trim();\r\n\t\t\t}\r\n\r\n\t\t\t// If the user passed in aria-label\r\n\t\t\tif (options['aria-label']) {\r\n\t\t\t\tattrObj['aria-label'] = options['aria-label'];\r\n\t\t\t\tattrObj.role = 'img';\r\n\r\n\t\t\t\t// Un-hide the icon\r\n\t\t\t\tdelete attrObj['aria-hidden'];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tObject.keys(attrObj).forEach(option => {\r\n\t\t\tattributes.push(`${option}=\"${attrObj[option]}\"`);\r\n\t\t});\r\n\r\n\t\treturn attributes.join(' ').trim();\r\n\t};\r\n\r\n\t// Set the symbol for easy access\r\n\ticon.symbol = key;\r\n\r\n\t// Set all the default options\r\n\ticon.options = {\r\n\t\tversion: '1.1',\r\n\t\twidth: icon.width,\r\n\t\theight: icon.height,\r\n\t\tviewBox: `0 0 ${icon.width} ${icon.height}`,\r\n\t\tclass: `octicon octicon-${key}`,\r\n\t\t'aria-hidden': 'true',\r\n\t};\r\n\r\n\t// Function to return an SVG object\r\n\ticon.toSVG = (options: any) => `<svg ${htmlAttributes(options)}>${icon.path}</svg>`;\r\n}\r\n\r\nexport { octicons };\r\n","import { NgInputOptions } from './shared';\r\n\r\nexport const checkBox: NgInputOptions = {\r\n\ttype: 'input',\r\n\ttemplateClass: 'form-check',\r\n\tlabelClass: 'form-check-label',\r\n\trender(h) {\r\n\t\tconst input = h.createInput('checkbox');\r\n\t\tinput.style.setProperty('cursor', 'pointer');\r\n\r\n\t\tif (this.$attrs.hasOwnProperty('inline')) {\r\n\t\t\tthis.$template.classList.remove('form-check');\r\n\t\t\tthis.$template.classList.add('form-check-inline');\r\n\t\t}\r\n\r\n\t\treturn input;\r\n\t},\r\n\tbindings: {\r\n\t\tngChecked: '<',\r\n\t},\r\n};\r\n","import { Indexed } from '@ledge/types';\r\nimport { ParamType, ResolveTypes, StateDeclaration, StateService, TargetState, Transition } from '@uirouter/core';\r\n\r\nimport { NgService } from './service';\r\n\r\nexport class NgRouter<T extends NgRoute = NgRoute> extends NgService {\r\n\tpublic routes: T[] = [];\r\n\r\n\tpublic getRoutes() {\r\n\t\treturn this.routes;\r\n\t}\r\n\r\n\tpublic registerRoute(partial: Partial<T>) {\r\n\t\tconst { name, parent, url } = this.generateRouteMeta(partial);\r\n\r\n\t\tconst state = Object.assign({\r\n\t\t\tname,\r\n\t\t\tparent,\r\n\t\t\turl,\r\n\t\t}, partial);\r\n\r\n\t\tif (this.isNgTransitionFn(state.onEnter)) {\r\n\t\t\tstate.onEnter = ['$transition$', state.onEnter];\r\n\t\t}\r\n\t\tif (this.isNgTransitionFn(state.onExit)) {\r\n\t\t\tstate.onExit = ['$transition$', state.onExit];\r\n\t\t}\r\n\t\tif (this.isNgTransitionFn(state.onRetain)) {\r\n\t\t\tstate.onRetain = ['$transition$', state.onRetain];\r\n\t\t}\r\n\r\n\t\tthis.routes.push(state as T);\r\n\r\n\t\treturn state as T;\r\n\t}\r\n\r\n\tpublic async isAuthorized() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic generateIntIdParam() {\r\n\t\tconst param = {\r\n\t\t\ttype: new ParamType({\r\n\t\t\t\tdecode(value) {\r\n\t\t\t\t\treturn parseInt(value, 10);\r\n\t\t\t\t},\r\n\t\t\t\tencode(value) {\r\n\t\t\t\t\treturn value && value.toString();\r\n\t\t\t\t},\r\n\t\t\t\tequals(a, b) {\r\n\t\t\t\t\treturn this.is(a) && a === b;\r\n\t\t\t\t},\r\n\t\t\t\tis(value) {\r\n\t\t\t\t\treturn Number.isInteger(this.decode(value));\r\n\t\t\t\t},\r\n\t\t\t}),\r\n\t\t};\r\n\r\n\t\tparam.type.name = 'path';\r\n\t\treturn param;\r\n\t}\r\n\r\n\tpublic generateIntQueryParam() {\r\n\t\tconst param = {\r\n\t\t\ttype: new ParamType({\r\n\t\t\t\tdecode(value) {\r\n\t\t\t\t\treturn parseInt(value, 10);\r\n\t\t\t\t},\r\n\t\t\t\tencode(value) {\r\n\t\t\t\t\treturn value && value.toString();\r\n\t\t\t\t},\r\n\t\t\t\tequals(a, b) {\r\n\t\t\t\t\treturn this.is(a) && a === b;\r\n\t\t\t\t},\r\n\t\t\t\tis(value) {\r\n\t\t\t\t\treturn Number.isInteger(this.decode(value));\r\n\t\t\t\t},\r\n\t\t\t}),\r\n\t\t};\r\n\r\n\t\tparam.type.name = 'query';\r\n\t\treturn param;\r\n\t}\r\n\r\n\tprotected isNgTransitionFn(item?: NgResolveFn | NgAnnotatedResolveFn): item is NgResolveFn {\r\n\t\treturn typeof item === 'function';\r\n\t}\r\n\r\n\tprotected annotateResolveFunctions({ resolve = { } }: NgRoute) {\r\n\t\tfor (const [ id, resolveFn ] of Object.entries(resolve)) {\r\n\t\t\tif (Array.isArray(resolve)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (this.isNgTransitionFn(resolveFn)) {\r\n\t\t\t\tresolve[id] = ['$transition$', resolveFn];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn resolve;\r\n\t}\r\n\r\n\tprotected generateRouteMeta(\r\n\t\t{\r\n\t\t\tparams = { },\r\n\t\t\tdata = { },\r\n\t\t\tname = '',\r\n\t\t\tcomponent = '',\r\n\t\t\tparent = '',\r\n\t\t}: Partial<T>,\r\n\t) {\r\n\t\tname = (name || component);\r\n\r\n\t\tlet url = `/${data.isBase ? name : name.split(/(?=[A-Z])/).join('/').toLowerCase()}`\r\n\t\t\t.replace(/View$/, '');\r\n\r\n\t\tfor (const [key, { type = { } }] of Object.entries<any>(params)) {\r\n\t\t\turl += type.name === 'path' ? '/:' : (url.includes('?') ? '&' : '?');\r\n\t\t\turl += key;\r\n\t\t}\r\n\r\n\t\treturn { name, parent, url };\r\n\t}\r\n}\r\n\r\n/**\r\n * @internalapi\r\n * an intermediate interface.\r\n *\r\n * Used to reset typings to `any` so the NgRoute interface can then narrow them\r\n */\r\n// tslint:disable-next-line:class-name\r\ninterface _NgStateService extends StateService {\r\n\tcurrent: any;\r\n}\r\n\r\nexport interface NgStateService extends _NgStateService {\r\n\tcurrent: NgRoute;\r\n\tlabel: string;\r\n\tparent: string;\r\n}\r\n\r\n/**\r\n * @internalapi\r\n * an intermediate interface.\r\n *\r\n * Used to reset typings to `any` so the NgRoute interface can then narrow them\r\n */\r\n// tslint:disable-next-line:class-name\r\ninterface _NgRoute extends StateDeclaration {\r\n\tonExit?: any;\r\n\tonRetain?: any;\r\n\tonEnter?: any;\r\n\tviews?: any;\r\n\tresolve?: any;\r\n}\r\n\r\nexport type NgResolveFn<T = any> = ($trans: Transition) => Promise<T>;\r\nexport type NgAnnotatedResolveFn<T = any> = [string, NgResolveFn<T>];\r\nexport type NgTransition = NgResolveFn<TargetState | Transition> | NgAnnotatedResolveFn<TargetState | Transition>;\r\n\r\nexport interface NgRoute extends _NgRoute {\r\n\t/**\r\n\t * The name of the component to use for this view.\r\n\t */\r\n\tcomponent?: string;\r\n\r\n\t/**\r\n\t * An object which maps `resolve`s to component `bindings`.\r\n\t *\r\n\t * When using a component declaration (`component: 'myComponent'`),\r\n\t * each input binding for the component is supplied data from a resolve of\r\n\t * the same name, by default.\r\n\t *\r\n\t * You may supply data from a different resolve name by mapping it here.\r\n\t */\r\n\tbindings?: {\r\n\t\t[key: string]: string;\r\n\t};\r\n\r\n\tresolve?: Indexed<NgResolveFn | NgAnnotatedResolveFn> | ResolveTypes[];\r\n\r\n\t/**\r\n\t * Injected function which returns the HTML template.\r\n\t * The template will be used to render the corresponding component.\r\n\t *\r\n\t * #### Examples:\r\n\t * ```ts\r\n\t * {\r\n\t * \t// other props\r\n\t * \ttemplate: require('./template.pug');\r\n\t * }\r\n\t * ```\r\n\t * ```ts\r\n\t * {\r\n\t * \t// other props\r\n\t * \ttemplate: '<div>Hello, world!</div>';\r\n\t * }\r\n\t * ```\r\n\t */\r\n\ttemplate?: string | (() => string);\r\n\r\n\turl: string;\r\n\tparent: string;\r\n\tlabel: string;\r\n\r\n\tonEnter?: NgTransition;\r\n\tonExit?: NgTransition;\r\n\tonRetain?: NgTransition;\r\n}\r\n","import { NgInputController } from './controller';\r\nimport { NgInputOptions } from './options';\r\n\r\nimport { NgAttributes } from '../../attributes';\r\nimport { NgComponentOptions } from '../../options';\r\nimport { NgRenderer } from '../../renderer';\r\nimport { NgService } from '../../service';\r\n\r\nexport class InputService extends NgService {\r\n\tpublic static readonly $validationAttrs = [\r\n\t\t'required', 'ngRequired',\r\n\t\t'disabled', 'ngDisabled',\r\n\t\t'readonly', 'ngReadonly',\r\n\t];\r\n\r\n\tpublic static readonly $validationMessages = new Map<string, string>([\r\n\t\t['email', 'Email address must be in the following form: email@address.com'],\r\n\t\t['required', 'This field is required'],\r\n\t\t['minlength', 'Input is not long enough'],\r\n\t\t['maxlength', 'Input is too long'],\r\n\t]);\r\n\tpublic static readonly $validationExps = {\r\n\t\t$error: '$ctrl.ngModelCtrl.$error',\r\n\t\t$invalid: '$ctrl.ngModelCtrl.$invalid',\r\n\t\t$touched: '$ctrl.ngModelCtrl.$touched',\r\n\t\t$formInvalid: `$ctrl.ngModelCtrl.$$parentForm.$submitted`,\r\n\t\tget $isInvalid() {\r\n\t\t\t// tslint:disable-next-line: static-this\r\n\t\t\treturn `(${this.$touched} || ${this.$formInvalid}) && ${this.$invalid}`;\r\n\t\t},\r\n\t};\r\n\r\n\t// tslint:disable: static-this\r\n\tpublic static makeBaseComponent() {\r\n\t\treturn {\r\n\t\t\tlabelClass: 'form-control-label',\r\n\t\t\ttemplateClass: 'form-group',\r\n\t\t\tattrs: { },\r\n\t\t\tcontroller: NgInputController,\r\n\t\t\trenderLabel: function defaultRenderLabel(h) {\r\n\t\t\t\tconst $transclude = h.createSlot();\r\n\t\t\t\t$transclude.textContent = InputService.getDefaultLabelText(this.$attrs);\r\n\t\t\t\tthis.$label.appendChild($transclude);\r\n\t\t\t} as NgInputOptions['renderLabel'],\r\n\t\t\tpostRender: function defaultPostRender(_h) {\r\n\t\t\t\treturn this.$template;\r\n\t\t\t} as NgInputOptions['postRender'],\r\n\t\t\tget isRadioOrCheckbox() {\r\n\t\t\t\treturn this.labelClass === 'form-check-label';\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tpublic static makeBaseOptions(): NgComponentOptions {\r\n\t\treturn {\r\n\t\t\ttransclude: {\r\n\t\t\t\tcontain: '?contain',\r\n\t\t\t},\r\n\t\t\trequire: {\r\n\t\t\t\tngModelCtrl: 'ngModel',\r\n\t\t\t},\r\n\t\t\tbindings: {\r\n\t\t\t\tngModel: '=',\r\n\t\t\t\tngModelOptions: '<',\r\n\t\t\t\tngDisabled: '<',\r\n\t\t\t\tngReadonly: '<',\r\n\t\t\t\tngRequired: '<',\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * Retrieves the identifying name for an ngModel (e.g., `$ctrl.example` in `ng-model=\"$ctrl.example\"`)\r\n\t */\r\n\tpublic static modelIdentifier($attrs: NgAttributes) {\r\n\t\treturn ($attrs.ngModel as string).split('.').pop() as string;\r\n\t}\r\n\r\n\t/**\r\n\t * Generates label text from the identifying name for an ngModel (e.g., `$ctrl.example` in `ng-model=\"$ctrl.example\"`)\r\n\t */\r\n\tpublic static getDefaultLabelText($attrs: NgAttributes) {\r\n\t\treturn InputService.modelIdentifier($attrs)\r\n\t\t\t.split(/(?=[A-Z0-9])/)\r\n\t\t\t.map(x => isNaN(Number(x)) ? x.charAt(0).toUpperCase() + x.substring(1) : x)\r\n\t\t\t.join(' ');\r\n\t}\r\n\r\n\t/**\r\n\t * @param $input - The input to set attributes on\r\n\t */\r\n\tpublic static getInputInput($input: HTMLElement) {\r\n\t\treturn (\r\n\t\t\t['INPUT', 'TEXTAREA', 'SELECT'].includes($input.tagName)\r\n\t\t\t\t? $input\r\n\t\t\t\t: $input.querySelector('select') || $input.querySelector('input')\r\n\t\t) as HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement;\r\n\t}\r\n\r\n\t/**\r\n\t * Transform an input component definition into an ng component definition\r\n\t * @param component An object representing the requested component definition\r\n\t */\r\n\tpublic static defineInputComponent(component: NgInputOptions) {\r\n\t\t// 'h' identifier (and many other ideas) taken from the virtual-dom ecosystem\r\n\t\tconst h = new NgRenderer();\r\n\r\n\t\tconst $component = Object.assign(InputService.makeBaseComponent(), component);\r\n\t\tconst $definition = Object.assign(InputService.makeBaseOptions(), { controller: $component.controller });\r\n\r\n\t\t// assign child objects\r\n\t\tObject.assign($definition.bindings, $component.bindings);\r\n\t\tObject.assign($definition.transclude, $component.transclude);\r\n\r\n\t\t// assign template\r\n\t\t$definition.template = ['$element', '$attrs', ($element: [HTMLElement], $attrs: NgAttributes) => {\r\n\t\t\tconst $el = $element[0];\r\n\r\n\t\t\tconst $template = h.createHtmlElement('div', [$component.templateClass]);\r\n\r\n\t\t\t// allow consumer to access $template and $attrs attributes from `this`\r\n\t\t\tconst $input = $component.render.call({ $template, $attrs }, h);\r\n\r\n\t\t\tconst isRadio = ($input as HTMLInputElement).type === 'radio';\r\n\t\t\tconst isRequired = $attrs.hasOwnProperty('required');\r\n\t\t\tconst isSrOnly = $attrs.hasOwnProperty('srOnly');\r\n\r\n\t\t\t// all inputs must have labels\r\n\t\t\tconst $label = h.createLabel([$component.labelClass], { isRequired, isSrOnly, isRadio });\r\n\r\n\t\t\tif ($component.isRadioOrCheckbox === false) {\r\n\t\t\t\t$template.appendChild($label);\r\n\t\t\t}\r\n\r\n\t\t\tif ($component.canHaveIcon === true) {\r\n\t\t\t\t$template.appendChild(h.createIconInput($input, $attrs.icon));\r\n\t\t\t} else {\r\n\t\t\t\t$template.appendChild($input);\r\n\t\t\t}\r\n\r\n\t\t\tif ($el.closest('contain') != null) {\r\n\t\t\t\t$input.style.marginTop = '8px';\r\n\t\t\t\t$label.classList.add('sr-only');\r\n\t\t\t}\r\n\r\n\t\t\tconst requiredTag = $label.firstElementChild;\r\n\t\t\tif (requiredTag != null) {\r\n\t\t\t\t$label.removeChild(requiredTag);\r\n\t\t\t}\r\n\r\n\t\t\t($component.renderLabel as NonNullable<NgInputOptions['renderLabel']>)\r\n\t\t\t\t.call({ $label, $attrs }, h);\r\n\r\n\t\t\tif (requiredTag != null) {\r\n\t\t\t\t$label.appendChild(requiredTag);\r\n\t\t\t}\r\n\r\n\t\t\t// add a transclusion slot for e.g. nesting inputs\r\n\t\t\t$template.appendChild(h.createSlot('contain'));\r\n\r\n\t\t\tif ($component.isRadioOrCheckbox === true) {\r\n\t\t\t\t$label.style.setProperty('cursor', 'pointer');\r\n\t\t\t\t$template.appendChild($label);\r\n\t\t\t}\r\n\r\n\t\t\t($component.postRender as NonNullable<NgInputOptions['postRender']>)\r\n\t\t\t\t.call({ $template, $attrs }, h);\r\n\r\n\t\t\t// that's right, i named it after filterFilter. fight me.\r\n\t\t\tconst $inputInput = InputService.getInputInput($input);\r\n\r\n\t\t\tInputService.$validationAttrs\r\n\t\t\t\t.filter(x => $attrs.hasOwnProperty(x) === true)\r\n\t\t\t\t.forEach(x => {\r\n\t\t\t\t\t$inputInput.setAttribute(\r\n\t\t\t\t\t\tx.replace(/[A-Z]/, s => `-${s.toLowerCase()}`),\r\n\t\t\t\t\t\tx.startsWith('ng') ? `$ctrl.${x}` : 'true',\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\r\n\t\t\tif ($inputInput.tagName !== 'SELECT') {\r\n\t\t\t\t$inputInput.setAttribute('ng-class', `{ 'is-invalid': ${InputService.$validationExps.$isInvalid} }`);\r\n\t\t\t\t$inputInput.setAttribute('ng-blur', '$ctrl.ngModelCtrl.$setTouched()');\r\n\t\t\t}\r\n\r\n\t\t\tconst $validationBlock = h.createHtmlElement('div', [], [\r\n\t\t\t\t['ng-messages', InputService.$validationExps.$error],\r\n\t\t\t\t['ng-show', InputService.$validationExps.$isInvalid],\r\n\t\t\t\t['role', 'alert'],\r\n\t\t\t]);\r\n\r\n\t\t\tconst { validators = { } } = $component;\r\n\t\t\tconst attrs = Object.keys($component.attrs);\r\n\r\n\t\t\tfor (const [key, value] of Object.entries(validators)) {\r\n\t\t\t\tInputService.$validationMessages.set(key, value);\r\n\t\t\t\tattrs.push(key);\r\n\t\t\t}\r\n\r\n\t\t\tInputService.$validationAttrs\r\n\t\t\t\t.concat(...attrs, 'email')\r\n\t\t\t\t.filter(x => x.startsWith('ng') === false)\r\n\t\t\t\t.filter(x => InputService.$validationMessages.has(x) === true)\r\n\t\t\t\t.filter(x => x !== 'email' || $inputInput.type === x)\r\n\t\t\t\t.forEach(x => {\r\n\t\t\t\t\tconst $message = h.createHtmlElement('div', ['text-danger'], [['ng-message', x]]);\r\n\t\t\t\t\t$message.innerText = InputService.$validationMessages.get(x) as string;\r\n\t\t\t\t\t$validationBlock.appendChild($message);\r\n\t\t\t\t});\r\n\r\n\t\t\tlet $html: string;\r\n\t\t\tif (isRadio === true) {\r\n\t\t\t\tconst $newTpl = h.createHtmlElement('div', ['form-group']);\r\n\t\t\t\t$newTpl.appendChild($template);\r\n\t\t\t\t$newTpl.appendChild($validationBlock);\r\n\t\t\t\t$html = $newTpl.outerHTML;\r\n\t\t\t} else {\r\n\t\t\t\t$template.appendChild($validationBlock);\r\n\t\t\t\t$html = $template.outerHTML;\r\n\t\t\t}\r\n\r\n\t\t\t$html = $html.replace(/{{id}}/g, InputService.modelIdentifier($attrs));\r\n\r\n\t\t\tattrs\r\n\t\t\t\t.forEach(prop => {\r\n\t\t\t\t\t$html = $html.replace(\r\n\t\t\t\t\t\tnew RegExp(`{{${prop}}}`, 'g'),\r\n\t\t\t\t\t\t$attrs[prop] || $component.attrs[prop],\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\r\n\t\t\treturn $html;\r\n\t\t}];\r\n\r\n\t\treturn $definition;\r\n\t}\r\n}\r\n","import { Indexed, WritableKeysOf } from '@ledge/types';\r\nimport { Renderer2, RendererStyleFlags2 } from '@angular/core';\r\nimport { octicons } from './icon';\r\n\r\nexport class NgRenderer extends Renderer2 {\r\n\tpublic baseInputAttrs: [string, string][] = [\r\n\t\t['ng-attr-id', '{{id}}_{{$ctrl.uniqueId}}'],\r\n\t\t['ng-attr-name', '{{id}}_{{$ctrl.uniqueId}}'],\r\n\t\t['ng-model', '$ctrl.ngModel'],\r\n\t\t['ng-model-options', '$ctrl.ngModelOptions'],\r\n\t];\r\n\r\n\tpublic createHtmlElement<T extends keyof HTMLElementTagNameMap | 'ng-transclude'>(\r\n\t\ttagName: T,\r\n\t\tclasses: string[] = [],\r\n\t\tattrs: [string, string][] = [],\r\n\t) {\r\n\t\tconst $el = this.createElement(tagName);\r\n\r\n\t\tfor (const c of classes) {\r\n\t\t\tthis.addClass($el, c);\r\n\t\t}\r\n\r\n\t\tfor (const [key, value] of attrs) {\r\n\t\t\t$el.setAttribute(key, value);\r\n\t\t}\r\n\r\n\t\treturn $el as T extends keyof HTMLElementTagNameMap\r\n\t\t\t? HTMLElementTagNameMap[T]\r\n\t\t\t: HTMLUnknownElement;\r\n\t}\r\n\r\n\tpublic createInput(type: string = 'text', attrs: [string, string][] = []) {\r\n\t\tconst $isRange = type === 'range';\r\n\t\tconst $isRadio = type === 'radio';\r\n\t\tconst $isCheckbox = type === 'checkbox';\r\n\t\tconst $isFormCheck = $isRadio || $isCheckbox;\r\n\r\n\t\tconst $class =\r\n\t\t\t$isFormCheck\r\n\t\t\t\t? ['form-check-input']\r\n\t\t\t\t: $isRange\r\n\t\t\t\t\t? ['custom-range']\r\n\t\t\t\t\t: ['form-control'];\r\n\r\n\t\tconst $inputAttrs: [string, string][] = [\r\n\t\t\t...this.baseInputAttrs,\r\n\t\t\t...attrs,\r\n\t\t\t['type', type],\r\n\t\t];\r\n\r\n\t\tif ($isRadio) {\r\n\t\t\t$inputAttrs.shift(); // we'll set the id in render\r\n\t\t} else if ($isCheckbox === false && $isRange === false) {\r\n\t\t\t$inputAttrs.push(['maxlength', '{{maxlength}}'], ['placeholder', '{{placeholder}}']);\r\n\t\t}\r\n\r\n\t\treturn this.createHtmlElement('input', $class, $inputAttrs);\r\n\t}\r\n\r\n\tpublic createTextArea() {\r\n\t\treturn this.createHtmlElement('textarea', ['form-control'], [\r\n\t\t\t...this.baseInputAttrs,\r\n\t\t\t['maxlength', '{{maxlength}}'],\r\n\t\t\t['placeholder', '{{placeholder}}'],\r\n\t\t]);\r\n\t}\r\n\r\n\tpublic createIcon(iconName: string, options: Indexed = { }) {\r\n\t\tif (octicons.hasOwnProperty(iconName) === false) {\r\n\t\t\tthrow new Error(`\r\n\t\t\t\tIcon not supported: ${iconName}.\\nSupported icons: ${Object.keys(octicons).sort().join(', ')}\r\n\t\t\t`.trim());\r\n\t\t}\r\n\r\n\t\tconst svg = octicons[iconName].toSVG(Object.assign(options, { 'aria-label': iconName }));\r\n\t\tconst container = this.createHtmlElement('div', ['d-inline-flex', 'px-1']);\r\n\t\tcontainer.setAttribute('aria-hidden', 'true');\r\n\t\tcontainer.setAttribute('title', iconName);\r\n\t\tcontainer.innerHTML = svg;\r\n\r\n\t\treturn container;\r\n\t}\r\n\r\n\tpublic createLabel(classList: string[], {\r\n\t\tisRequired = false,\r\n\t\tisSrOnly = false,\r\n\t\tisRadio = false,\r\n\t}: {\r\n\t\tisRequired?: boolean,\r\n\t\tisSrOnly?: boolean,\r\n\t\tisRadio?: boolean,\r\n\t} = {\r\n\t\t\tisRequired: false,\r\n\t\t\tisSrOnly: false,\r\n\t\t\tisRadio: false,\r\n\t\t},\r\n\t) {\r\n\t\tconst $label = this.createHtmlElement(\r\n\t\t\t'label',\r\n\t\t\tclassList,\r\n\t\t\t[['ng-attr-for', '{{id}}_{{$ctrl.uniqueId}}']],\r\n\t\t);\r\n\r\n\t\tif (isRequired === true && !isRadio) {\r\n\t\t\tconst $span = this.createHtmlElement('span', ['text-danger']);\r\n\t\t\t$span.textContent = ' *';\r\n\t\t\t$label.appendChild($span);\r\n\t\t}\r\n\r\n\t\tif (isSrOnly === true) {\r\n\t\t\t$label.classList.add('sr-only');\r\n\t\t}\r\n\r\n\t\treturn $label;\r\n\t}\r\n\r\n\tpublic createSlot(name?: string) {\r\n\t\treturn name != null\r\n\t\t\t? this.createHtmlElement('div', [], [['ng-transclude', name]])\r\n\t\t\t: this.createHtmlElement('ng-transclude') as HTMLDivElement;\r\n\t}\r\n\r\n\tpublic createIconInput($input: HTMLElement, icon?: string, inputGroupAttrs: [string, string][] = []) {\r\n\t\tif (icon == null) {\r\n\t\t\treturn $input;\r\n\t\t}\r\n\r\n\t\tconst $inputGroup = this.createHtmlElement('div', ['input-group']);\r\n\t\tconst $inputGroupPrepend = this.createHtmlElement('div', ['input-group-prepend'], inputGroupAttrs);\r\n\t\tconst $inputGroupText = this.createHtmlElement('span', ['input-group-text']);\r\n\t\tconst $icon = this.createIcon(icon);\r\n\r\n\t\t$inputGroupText.appendChild($icon);\r\n\t\t$inputGroupPrepend.appendChild($inputGroupText);\r\n\r\n\t\t$inputGroup.appendChild($inputGroupPrepend);\r\n\t\t$inputGroup.appendChild($input);\r\n\r\n\t\treturn $inputGroup;\r\n\t}\r\n\r\n\t/**\r\n\t * Renderer2 implementations\r\n\t */\r\n\r\n\t// tslint:disable-next-line: member-ordering\r\n\tpublic data: {  [key: string]: any} = Object.create(null);\r\n\r\n\t// tslint:disable-next-line: member-ordering\r\n\tpublic destroyNode: null;\r\n\r\n\tpublic destroy() {\r\n\t\treturn;\r\n\t}\r\n\r\n\tpublic createElement<T extends keyof HTMLElementTagNameMap>(tagName: T): HTMLElementTagNameMap[T];\r\n\tpublic createElement(tagName: string): HTMLUnknownElement;\r\n\tpublic createElement<T extends keyof HTMLElementTagNameMap>(tagName: T) {\r\n\t\treturn document.createElement(tagName);\r\n\t}\r\n\r\n\tpublic createText(value: string) {\r\n\t\treturn document.createTextNode(value);\r\n\t}\r\n\r\n\tpublic createComment(value: string) {\r\n\t\treturn document.createComment(value);\r\n\t}\r\n\r\n\tpublic appendChild(parent: HTMLElement, newChild: HTMLElement) {\r\n\t\tparent.appendChild(newChild);\r\n\t}\r\n\r\n\tpublic removeChild(parent: HTMLElement, newChild: HTMLElement) {\r\n\t\tparent.removeChild(newChild);\r\n\t}\r\n\r\n\tpublic insertBefore(parent: HTMLElement, newChild: HTMLElement, refChild: HTMLElement) {\r\n\t\tparent.insertBefore(newChild, refChild);\r\n\t}\r\n\r\n\tpublic addClass<T extends HTMLElement>(el: T, name: string) {\r\n\t\tel.classList.add(name);\r\n\t}\r\n\r\n\tpublic removeClass<T extends HTMLElement>(el: T, name: string) {\r\n\t\tel.classList.remove(name);\r\n\t}\r\n\r\n\tpublic setStyle<T extends HTMLElement>(el: T, style: string, value: any, flags?: RendererStyleFlags2) {\r\n\t\tel.style.setProperty(style, value, flags == null ? undefined : flags === RendererStyleFlags2.Important ? 'important' : '');\r\n\t}\r\n\r\n\tpublic removeStyle<T extends HTMLElement>(el: T, style: string) {\r\n\t\tel.style.removeProperty(style);\r\n\t}\r\n\r\n\tpublic setAttribute<T extends HTMLElement>(el: T, name: string, value: string) {\r\n\t\tel.setAttribute(name, value);\r\n\t}\r\n\r\n\tpublic removeAttribute<T extends HTMLElement>(el: T, name: string) {\r\n\t\tel.removeAttribute(name);\r\n\t}\r\n\r\n\tpublic setProperty<T extends HTMLElement, U extends Exclude<WritableKeysOf<T>, number | symbol>>(el: T, name: U, value: any) {\r\n\t\tel[name] = value;\r\n\t}\r\n\r\n\tpublic setValue<T extends HTMLElement>(node: T, value: string) {\r\n\t\tnode.nodeValue = value;\r\n\t}\r\n\r\n\tpublic parentNode(node: HTMLElement) {\r\n\t\treturn node.parentNode;\r\n\t}\r\n\r\n\tpublic nextSibling(node: HTMLElement) {\r\n\t\treturn node.nextSibling;\r\n\t}\r\n\r\n\tpublic selectRootElement(selectorOrNode: string | HTMLElement, preserveContent = false): HTMLElement {\r\n\t\tconst el: HTMLElement | null = typeof selectorOrNode === 'string'\r\n\t\t\t? document.querySelector(selectorOrNode)\r\n\t\t\t: selectorOrNode;\r\n\r\n\t\tif (el == null) {\r\n\t\t\tthrow new Error(`The selector \"${selectorOrNode}\" did not match any elements`);\r\n\t\t}\r\n\r\n\t\tif (preserveContent === false) {\r\n\t\t\tel.textContent = '';\r\n\t\t}\r\n\r\n\t\treturn el;\r\n\t}\r\n\r\n\tpublic listen<T extends keyof GlobalEventHandlersEventMap>(\r\n\t\ttarget: HTMLElement,\r\n\t\teventName: T,\r\n\t\tcallback: (event: GlobalEventHandlersEventMap[T]) => boolean | void,\r\n\t) {\r\n\t\ttarget.addEventListener(eventName, callback);\r\n\t\treturn () => target.removeEventListener(eventName, callback);\r\n\t}\r\n}\r\n","import { NgInputController, NgInputOptions } from './shared';\r\n\r\nclass TextBoxController extends NgInputController {\r\n\tpublic $element: HTMLTextAreaElement;\r\n\tpublic $mirror = document.createElement('textarea');\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.$mirror.setAttribute('aria-hidden', 'true');\r\n\t\tthis.$mirror.setAttribute('aria-label', 'Hidden TextArea');\r\n\t\tthis.$mirror.setAttribute('tabindex', '-1');\r\n\r\n\t\tthis.$mirror.style.setProperty('position', 'absolute');\r\n\t\tthis.$mirror.style.setProperty('top', '-999px');\r\n\t\tthis.$mirror.style.setProperty('right', 'auto');\r\n\t\tthis.$mirror.style.setProperty('bottom', 'auto');\r\n\t\tthis.$mirror.style.setProperty('left', '0');\r\n\t\tthis.$mirror.style.setProperty('overflow', 'hidden');\r\n\t\tthis.$mirror.style.setProperty('box-sizing', 'content-box');\r\n\t\tthis.$mirror.style.setProperty('min-height', '0', 'important');\r\n\t\tthis.$mirror.style.setProperty('height', '0', 'important');\r\n\t\tthis.$mirror.style.setProperty('padding', '0');\r\n\t\tthis.$mirror.style.setProperty('word-wrap', 'break-word');\r\n\t\tthis.$mirror.style.setProperty('border', '0');\r\n\r\n\t\t// append mirror to the DOM\r\n\t\tdocument.body.appendChild(this.$mirror);\r\n\t}\r\n\r\n\tpublic $onInit() {\r\n\t\t// the query *must* return an element or nothing we've done so far matters\r\n\t\tconst element = this.$element.querySelector('textarea') as HTMLTextAreaElement;\r\n\t\tlet computedStyle = window.getComputedStyle(element);\r\n\r\n\t\tconst boxOuter = {\r\n\t\t\twidth:\r\n\t\t\t\tparseInt(computedStyle.getPropertyValue('border-right-width'), 10) +\r\n\t\t\t\tparseInt(computedStyle.getPropertyValue('padding-right'), 10) +\r\n\t\t\t\tparseInt(computedStyle.getPropertyValue('padding-left'), 10) +\r\n\t\t\t\tparseInt(computedStyle.getPropertyValue('border-left-width'), 10),\r\n\t\t\theight:\r\n\t\t\t\tparseInt(computedStyle.getPropertyValue('border-top-width'), 10) +\r\n\t\t\t\tparseInt(computedStyle.getPropertyValue('padding-top'), 10) +\r\n\t\t\t\tparseInt(computedStyle.getPropertyValue('padding-bottom'), 10) +\r\n\t\t\t\tparseInt(computedStyle.getPropertyValue('border-bottom-width'), 10),\r\n\t\t};\r\n\r\n\t\tconst minHeightValue = parseInt(computedStyle.getPropertyValue('min-height'), 10);\r\n\t\tconst heightValue = parseInt(computedStyle.getPropertyValue('height'), 10);\r\n\t\tconst minHeight = Math.max(minHeightValue, heightValue) - boxOuter.height;\r\n\r\n\t\t// Opera returns max-height of -1 if not set\r\n\t\tlet maxHeight = parseInt(computedStyle.getPropertyValue('max-height'), 10);\r\n\t\tmaxHeight = maxHeight && maxHeight > 0 ? maxHeight : 9e4;\r\n\r\n\t\t// set resize and apply elastic\r\n\t\telement.style.setProperty('resize', 'none');\r\n\r\n\t\tconst mirror = this.$mirror;\r\n\t\tfunction adjust() {\r\n\t\t\trequestAnimationFrame(() => {\r\n\t\t\t\tcomputedStyle = window.getComputedStyle(element);\r\n\r\n\t\t\t\tconst width = (parseInt(computedStyle.getPropertyValue('width'), 10) - boxOuter.width) + 'px';\r\n\t\t\t\tmirror.style.setProperty('width', width);\r\n\t\t\t\tmirror.style.setProperty('overflow-y', computedStyle.getPropertyValue('overflow-y'));\r\n\r\n\t\t\t\tmirror.value = element.value;\r\n\r\n\t\t\t\tlet { scrollHeight } = mirror;\r\n\t\t\t\tlet overflow = 'hidden';\r\n\r\n\t\t\t\tif (scrollHeight > maxHeight) {\r\n\t\t\t\t\tscrollHeight = maxHeight;\r\n\t\t\t\t\toverflow = 'scroll';\r\n\t\t\t\t} else if (scrollHeight < minHeight) {\r\n\t\t\t\t\tscrollHeight = minHeight;\r\n\t\t\t\t}\r\n\r\n\t\t\t\telement.style.setProperty('overflow-y', overflow);\r\n\r\n\t\t\t\tscrollHeight += boxOuter.height;\r\n\t\t\t\tif (parseInt(computedStyle.getPropertyValue('height'), 10) !== scrollHeight) {\r\n\t\t\t\t\telement.style.setProperty('height', scrollHeight + 'px');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('resize', adjust);\r\n\t\telement.addEventListener('keydown', adjust);\r\n\r\n\t\tthis.$scope.$on('$destroy', () => {\r\n\t\t\tif (this.isIE11) {\r\n\t\t\t\t(this.$mirror as any).removeNode(true);\r\n\t\t\t} else {\r\n\t\t\t\tthis.$mirror.remove();\r\n\t\t\t}\r\n\t\t\twindow.removeEventListener('resize', adjust);\r\n\t\t\telement.removeEventListener('keydown', adjust);\r\n\t\t});\r\n\r\n\t\t// copy the essential styles from the textarea to the mirror\r\n\t\tconst styles = [\r\n\t\t\t'font-family',\r\n\t\t\t'font-size',\r\n\t\t\t'font-weight',\r\n\t\t\t'font-style',\r\n\t\t\t'letter-spacing',\r\n\t\t\t'line-height',\r\n\t\t\t'text-transform',\r\n\t\t\t'word-spacing',\r\n\t\t\t'text-indent',\r\n\t\t\t'white-space',\r\n\t\t];\r\n\r\n\t\tfor (const style of styles) {\r\n\t\t\tthis.$mirror.style.setProperty(style, computedStyle.getPropertyValue(style));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const textBox: NgInputOptions = {\r\n\ttype: 'input',\r\n\tattrs: { maxlength: 3000, placeholder: '' },\r\n\trender(h) {\r\n\t\tconst textArea = h.createTextArea();\r\n\r\n\t\ttextArea.style.setProperty('overflow', 'hidden');\r\n\t\ttextArea.style.setProperty('overflow-y', 'hidden');\r\n\t\ttextArea.style.setProperty('word-wrap', 'break-word');\r\n\r\n\t\treturn textArea;\r\n\t},\r\n\tcontroller: TextBoxController,\r\n};\r\n","import Fuse from 'fuse.js';\r\nimport cloneDeep from 'lodash/cloneDeep';\r\n\r\nimport { NgInputController, NgInputOptions } from './shared';\r\nimport { NgAttributes } from '../attributes';\r\nimport { NgService } from '../service';\r\n\r\nclass SelectController extends NgInputController {\r\n\tpublic static readonly SinglePlaceholder = '----Select One----';\r\n\tpublic static readonly MultiplePlaceholder = '----Select All That Apply----';\r\n\r\n\tpublic static IsMultiple($attrs: NgAttributes) {\r\n\t\treturn $attrs.hasOwnProperty('multiple') || $attrs.type === 'multiple';\r\n\t}\r\n\r\n\tpublic static GetPlaceholder($attrs: NgAttributes) {\r\n\t\treturn $attrs.placeholder ||\r\n\t\t\tSelectController.IsMultiple($attrs)\r\n\t\t\t? SelectController.MultiplePlaceholder\r\n\t\t\t: SelectController.SinglePlaceholder;\r\n\t}\r\n\r\n\tprotected isListOpen = false;\r\n\tprotected list: any[];\r\n\tprotected searchList: any[];\r\n\r\n\tprivate _text: string;\r\n\tprivate _value: string;\r\n\r\n\tpublic get text() {\r\n\t\tif (typeof this._text !== 'string') {\r\n\t\t\tconst { text = 'Text' } = this.$attrs;\r\n\t\t\tthis._text = text;\r\n\t\t}\r\n\t\treturn this._text;\r\n\t}\r\n\r\n\tpublic get value() {\r\n\t\tif (typeof this._value !== 'string') {\r\n\t\t\tconst { value = 'Value' } = this.$attrs;\r\n\t\t\tthis._value = value;\r\n\t\t}\r\n\t\treturn this._value;\r\n\t}\r\n\r\n\tprivate destroyCurrentWatcher: () => void;\r\n\r\n\tprivate get isMultiple() {\r\n\t\treturn SelectController.IsMultiple(this.$attrs);\r\n\t}\r\n\r\n\tpublic $onInit() {\r\n\t\tconst container = this.$element.querySelector('.select-container') as HTMLDivElement;\r\n\t\tconst innerContainer = this.$element.querySelector('.select-inner-container') as HTMLDivElement;\r\n\t\tconst dropdown = this.$element.querySelector('.select-dropdown') as HTMLDivElement;\r\n\t\tconst dropdownlist = this.$element.querySelector('.select-dropdown-list') as HTMLDivElement;\r\n\t\tconst input = this.$element.querySelector('input') as HTMLInputElement;\r\n\r\n\t\tconst updateSearchList = () => {\r\n\t\t\tif (input.value) {\r\n\t\t\t\tthis.searchList = this.getSearchList(fuzzer.search(input.value));\r\n\t\t\t} else {\r\n\t\t\t\tthis.searchList = cloneDeep(this.list);\r\n\t\t\t}\r\n\t\t\tthis.$scope.$applyAsync();\r\n\t\t};\r\n\r\n\t\tlet fuzzer: Fuse<any, any>;\r\n\t\tthis.$scope.$watchCollection(\r\n\t\t\t() => this.list,\r\n\t\t\t_ => {\r\n\t\t\t\tfuzzer = new Fuse(_, {\r\n\t\t\t\t\tshouldSort: true,\r\n\t\t\t\t\tthreshold: 0.3,\r\n\t\t\t\t\tlocation: 0,\r\n\t\t\t\t\tdistance: 100,\r\n\t\t\t\t\tmaxPatternLength: 32,\r\n\t\t\t\t\tminMatchCharLength: 1,\r\n\t\t\t\t\tkeys: [this.text],\r\n\t\t\t\t});\r\n\r\n\t\t\t\tupdateSearchList();\r\n\t\t\t},\r\n\t\t);\r\n\r\n\t\tlet shouldFocusInput = true;\r\n\t\tinnerContainer.onclick = e => {\r\n\t\t\tif (e.target instanceof HTMLButtonElement ||\r\n\t\t\t\t(this.isMultiple &&\r\n\t\t\t\t\te.target instanceof HTMLElement &&\r\n\t\t\t\t\te.target.classList.contains('select-item') &&\r\n\t\t\t\t\te.target.classList.contains('placeholder') === false)) {\r\n\t\t\t\tshouldFocusInput = true;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (shouldFocusInput) {\r\n\t\t\t\tinput.hidden = false;\r\n\t\t\t\tinput.focus();\r\n\t\t\t}\r\n\r\n\t\t\tshouldFocusInput = true;\r\n\t\t};\r\n\r\n\t\tinput.onfocus = () => {\r\n\t\t\tdropdown.classList.remove('border-top-0');\r\n\t\t\tdropdown.classList.remove('border-bottom-0');\r\n\t\t\tdropdownlist.hidden = false;\r\n\t\t};\r\n\r\n\t\tinput.onblur = e => {\r\n\t\t\tlet { explicitOriginalTarget: target } = e as any;\r\n\t\t\tif (target.nodeName === '#text') {\r\n\t\t\t\ttarget = target.parentElement;\r\n\t\t\t}\r\n\r\n\t\t\tconst targetIsItem =\r\n\t\t\t\ttarget instanceof HTMLDivElement &&\r\n\t\t\t\ttarget.classList.contains('select-item') &&\r\n\t\t\t\ttarget.parentElement instanceof HTMLDivElement &&\r\n\t\t\t\ttarget.parentElement.classList.contains('select-dropdown-list');\r\n\r\n\t\t\tif (targetIsItem) {\r\n\t\t\t\tinput.value = '';\r\n\t\t\t\tthis.select(target.dataset.value);\r\n\t\t\t\tshouldFocusInput = true;\r\n\t\t\t} else {\r\n\t\t\t\tshouldFocusInput = e.relatedTarget !== container && e.relatedTarget !== innerContainer;\r\n\t\t\t}\r\n\r\n\t\t\tdropdown.classList.add('border-top-0');\r\n\t\t\tdropdown.classList.add('border-bottom-0');\r\n\t\t\tdropdownlist.hidden = true;\r\n\r\n\t\t\tinput.hidden = true;\r\n\t\t};\r\n\r\n\t\tinput.oninput = () => {\r\n\t\t\tupdateSearchList();\r\n\t\t};\r\n\t}\r\n\r\n\tpublic $onDestroy() {\r\n\t\tif (typeof this.destroyCurrentWatcher === 'function') {\r\n\t\t\tthis.destroyCurrentWatcher();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic getDisplayText(value: any) {\r\n\t\tif (value == null) {\r\n\t\t\treturn SelectController.GetPlaceholder(this.$attrs);\r\n\t\t}\r\n\r\n\t\t// tslint:disable-next-line:triple-equals\r\n\t\treturn this.list.find(x => x[this.value] == value)[this.text];\r\n\t}\r\n\r\n\tpublic remove(item: any) {\r\n\t\t// tslint:disable-next-line:triple-equals\r\n\t\tthis.ngModel = this.ngModel.filter((x: any) => x != item);\r\n\t}\r\n\r\n\tpublic clear() {\r\n\t\tthis.ngModel = undefined;\r\n\t\tthis.searchList = this.getSearchList(this.list);\r\n\t}\r\n\r\n\tpublic select(value: any) {\r\n\t\tif (this.isMultiple) {\r\n\t\t\tthis.ngModel = Array.isArray(this.ngModel)\r\n\t\t\t\t? this.ngModel.includes(value)\r\n\t\t\t\t\t? this.ngModel\r\n\t\t\t\t\t: this.ngModel.concat(value)\r\n\t\t\t\t: [value];\r\n\t\t} else {\r\n\t\t\tthis.ngModel = value;\r\n\t\t}\r\n\r\n\t\tthis.searchList = this.getSearchList(this.list);\r\n\t\tthis.$scope.$applyAsync();\r\n\t}\r\n\r\n\tprivate getSearchList(list: any[]) {\r\n\t\t// tslint:disable:triple-equals\r\n\t\treturn Array.isArray(this.ngModel)\r\n\t\t\t? list.filter(x => this.ngModel.every((y: any) => x[this.value] != y))\r\n\t\t\t: this.ngModel == null\r\n\t\t\t\t? cloneDeep(list)\r\n\t\t\t\t: list.filter(x => x[this.value] != this.ngModel);\r\n\t\t// tslint:enable:triple-equals\r\n\t}\r\n}\r\n\r\nexport const selectList: NgInputOptions = {\r\n\ttype: 'input',\r\n\trender(h) {\r\n\t\tconst select = h.createHtmlElement(\r\n\t\t\t'select',\r\n\t\t\t['form-control', 'select-input', 'd-none'],\r\n\t\t\t[\r\n\t\t\t\t['ng-attr-name', '{{id}}_{{$ctrl.uniqueId}}'],\r\n\t\t\t\t['ng-attr-id', '{{id}}_{{$ctrl.uniqueId}}'],\r\n\t\t\t\t['ng-model', '$ctrl.ngModel'],\r\n\t\t\t],\r\n\t\t);\r\n\r\n\t\tconst isMultiple = SelectController.IsMultiple(this.$attrs);\r\n\t\tif (isMultiple) {\r\n\t\t\tselect.setAttribute('multiple', 'true');\r\n\t\t} else {\r\n\t\t\tconst placeholder = h.createHtmlElement('option');\r\n\r\n\t\t\tplaceholder.setAttribute('placeholder', 'true');\r\n\t\t\tplaceholder.text = SelectController.GetPlaceholder(this.$attrs);\r\n\t\t\tplaceholder.value = '';\r\n\r\n\t\t\tselect.appendChild(placeholder);\r\n\t\t}\r\n\r\n\t\tif (NgService.IsMobile()) {\r\n\t\t\tselect.classList.remove('d-none');\r\n\t\t\tselect.setAttribute(\r\n\t\t\t\t'ng-options',\r\n\t\t\t\t'item[\\'{{$ctrl.value}}\\'] as item[\\'{{$ctrl.text}}\\'] for item in $ctrl.searchList track by $index',\r\n\t\t\t);\r\n\t\t\treturn select;\r\n\t\t}\r\n\r\n\t\tconst inner = h.createHtmlElement('div', ['select-inner-container']);\r\n\t\tconst innerlist = h.createHtmlElement('div', ['select-list', isMultiple ? 'multiple' : 'single']);\r\n\t\tconst selected = h.createHtmlElement('div', ['select-item']);\r\n\r\n\t\tconst btn = h.createHtmlElement('button', ['select-button'],\r\n\t\t\t[\r\n\t\t\t\t['ng-attr-aria-label', 'Remove item: \\'{{$ctrl.getDisplayText($ctrl.ngModel)}}\\''],\r\n\t\t\t\t['ng-click', '$ctrl.clear()'],\r\n\t\t\t],\r\n\t\t);\r\n\r\n\t\tif (isMultiple) {\r\n\t\t\tconst sbtn = btn.cloneNode() as HTMLButtonElement;\r\n\t\t\tsbtn.setAttribute('ng-attr-aria-label', 'Remove item: \\'{{$ctrl.getDisplayText(item)}}\\'');\r\n\t\t\tsbtn.setAttribute('ng-click', '$ctrl.remove(item)');\r\n\r\n\t\t\tselected.setAttribute('ng-repeat', 'item in $ctrl.ngModel track by $index');\r\n\t\t\tselected.setAttribute('aria-selected', 'true');\r\n\t\t\tselected.innerHTML = `{{$ctrl.getDisplayText(item)}}${sbtn.outerHTML}`;\r\n\r\n\t\t\tconst placeholder = h.createHtmlElement('div', ['select-item', 'placeholder'], [['ng-if', '$ctrl.ngModel == null || $ctrl.ngModel.length === 0']]);\r\n\t\t\tplaceholder.innerText = SelectController.GetPlaceholder(this.$attrs);\r\n\r\n\t\t\tinnerlist.appendChild(placeholder);\r\n\t\t} else {\r\n\t\t\tselected.setAttribute('ng-class', '{ \\'placeholder\\': $ctrl.ngModel == null }');\r\n\t\t\tselected.innerText = '{{$ctrl.getDisplayText($ctrl.ngModel)}}';\r\n\t\t}\r\n\r\n\t\tconst item = h.createHtmlElement('div', ['select-item'],\r\n\t\t\t[\r\n\t\t\t\t['ng-repeat', 'item in $ctrl.searchList track by $index'],\r\n\t\t\t\t['ng-attr-data-value', '{{item[$ctrl.value]}}'],\r\n\t\t\t\t['role', 'option'],\r\n\t\t\t],\r\n\t\t);\r\n\t\titem.innerText = '{{item[$ctrl.text]}}';\r\n\r\n\t\tconst list = h.createHtmlElement('div', ['select-dropdown-list'],\r\n\t\t\t[\r\n\t\t\t\t['dir', 'ltr'],\r\n\t\t\t\t['role', 'listbox'],\r\n\t\t\t\t['hidden', 'true'],\r\n\t\t\t],\r\n\t\t);\r\n\r\n\t\tconst input = h.createHtmlElement('input', ['select-input'],\r\n\t\t\t[\r\n\t\t\t\t['type', 'text'],\r\n\t\t\t\t['autocomplete', 'off'],\r\n\t\t\t\t['autocapitalize', 'off'],\r\n\t\t\t\t['spellcheck', 'false'],\r\n\t\t\t\t['role', 'textbox'],\r\n\t\t\t\t['aria-autocomplete', 'list'],\r\n\t\t\t\t['placeholder', ''],\r\n\t\t\t\t['aria-label', 'Select List'],\r\n\t\t\t\t['hidden', 'true'],\r\n\t\t\t],\r\n\t\t);\r\n\r\n\t\tconst type = `select-${isMultiple ? 'multiple' : 'one'}`;\r\n\t\tconst container = h.createHtmlElement('div', ['select-container'],\r\n\t\t\t[\r\n\t\t\t\t['data-type', type],\r\n\t\t\t\t['role', 'combobox'],\r\n\t\t\t\t['tabindex', '0'],\r\n\t\t\t\t['aria-autocomplete', 'list'],\r\n\t\t\t\t['aria-haspopup', 'true'],\r\n\t\t\t\t['aria-expanded', 'false'],\r\n\t\t\t\t['dir', 'ltr'],\r\n\t\t\t\t['ng-attr-name', `${type}_{{$ctrl.uniqueId}}`],\r\n\t\t\t\t['ng-attr-id', `${type}_{{$ctrl.uniqueId}}`],\r\n\t\t\t],\r\n\t\t);\r\n\r\n\t\tconst dropdown = h.createHtmlElement('div', ['select-dropdown', 'border-bottom-0', 'border-top-0'], [['aria-expanded', 'false']]);\r\n\r\n\t\tinnerlist.appendChild(selected);\r\n\t\tinnerlist.appendChild(btn);\r\n\t\tinner.appendChild(select);\r\n\t\tinner.appendChild(innerlist);\r\n\r\n\t\tlist.appendChild(item);\r\n\r\n\t\tdropdown.appendChild(input);\r\n\t\tdropdown.appendChild(list);\r\n\r\n\t\tcontainer.appendChild(inner);\r\n\t\tcontainer.appendChild(dropdown);\r\n\r\n\t\treturn container;\r\n\t},\r\n\tcontroller: SelectController,\r\n\tbindings: {\r\n\t\tlist: '<',\r\n\t},\r\n};\r\n","import { NgApp } from './src/app';\r\nimport { inputs } from './src/inputs';\r\nimport { misc } from './src/misc';\r\n\r\n// @ts-ignore\r\nimport ngAnimate from 'angular-animate';\r\n// @ts-ignore\r\nimport ngMessages from 'angular-messages';\r\nimport uirouter from '@uirouter/angularjs';\r\n\r\nexport const app = new NgApp()\r\n\t.addComponents(inputs)\r\n\t.addComponents(misc)\r\n\t.addDependencies(\r\n\t\tngAnimate,\r\n\t\tngMessages,\r\n\t\tuirouter,\r\n\t)\r\n\t.addHttpInterceptor({\r\n\t\tasync responseError(response, err) {\r\n\t\t\tconst { status, statusText, url } = response;\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\tswitch (status) {\r\n\t\t\t\tcase 404:\r\n\t\t\t\t\tapp.log.error(`Route '${url}' not found`);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 400:\r\n\t\t\t\t\tif (typeof data === 'string') {\r\n\t\t\t\t\t\tapp.log.error(data);\r\n\t\t\t\t\t} else if (data != null && data.toString() === '[object Object]') {\r\n\t\t\t\t\t\tapp.log.error(Object.keys(data).map(x => `${x}: ${data[x]}`).join('\\n\\n'));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 401:\r\n\t\t\t\tcase 403:\r\n\t\t\t\tcase 500:\r\n\t\t\t\t\tapp.log.warning(statusText);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase -1:\r\n\t\t\t\t\tapp.log.warning('Server timed out.');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tapp.log.error(`The request to '${url}' returned an error (code: ${status})`);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\t});\r\n\r\nexport * from './src/app';\r\nexport * from './src/attributes';\r\nexport * from './src/controller';\r\nexport * from './src/http';\r\nexport * from './src/icon';\r\nexport * from './src/logger';\r\nexport * from './src/modal';\r\nexport * from './src/ng';\r\nexport * from './src/options';\r\nexport * from './src/renderer';\r\nexport * from './src/router';\r\nexport * from './src/service';\r\n\r\nexport * from './src/inputs';\r\nexport * from './src/misc';\r\n","import isIE11 from '@ledge/is-ie-11';\r\n\r\nexport class NgService {\r\n\tpublic static IsMobile() {\r\n\t\treturn typeof window === 'object' && window.innerWidth < 767;\r\n\t}\r\n\r\n\tpublic static IsIE11() {\r\n\t\treturn isIE11();\r\n\t}\r\n\r\n\t/**\r\n\t * @see https://stackoverflow.com/a/2117523\r\n\t */\r\n\tpublic static UUIDv4() {\r\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\r\n\t\t\t// tslint:disable:no-bitwise\r\n\t\t\tconst r = Math.random() * 16 | 0;\r\n\t\t\tconst v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n\t\t\t// tslint:enable:no-bitwise\r\n\t\t\treturn v.toString(16);\r\n\t\t});\r\n\t}\r\n\r\n\tpublic readonly uniqueId = this.UUIDv4().replace(/[-]|[,]/g, '');\r\n\r\n\tpublic UUIDv4() {\r\n\t\treturn NgService.UUIDv4();\r\n\t}\r\n\r\n\tprotected get isMobile() {\r\n\t\treturn NgService.IsMobile();\r\n\t}\r\n\r\n\tprotected get isIE11() {\r\n\t\treturn NgService.IsIE11();\r\n\t}\r\n\r\n\t/**\r\n\t * Separates words in a string by capital letters. Also capitalizes the first letter.\r\n\t *\r\n\t * The following exceptions apply:\r\n\t * 1) If string is all-caps, it's returned as-is\r\n\t * 2) Any embedded acronyms (such as F.A.Q.) are returned as-is\r\n\t * 3) Consecutive capital letters are returned as-is\r\n\t * 3) Hyphenated words retain concatenation\r\n\t *\r\n\t * @param item - The string value to be split\r\n\t */\r\n\tpublic splitByCapitalLetter(item: string) {\r\n\t\tconst split = item.split(/(?=[A-Z])/);\r\n\t\treturn split.every(x => x.length === 1)\r\n\t\t\t? item\r\n\t\t\t: split\r\n\t\t\t\t.map(x => x.trim())\r\n\t\t\t\t.map(x =>\r\n\t\t\t\t\tx.length === 1 || (x.length === 2 && x.charAt(1) === '.')\r\n\t\t\t\t\t\t? (x.toUpperCase() + '\\uFFFF')\r\n\t\t\t\t\t\t: (x.charAt(0).toUpperCase() + x.substring(1)),\r\n\t\t\t\t)\r\n\t\t\t\t.join(' ')\r\n\t\t\t\t.replace(\r\n\t\t\t\t\t/\\w{1}\\.?(\\uFFFF){1}\\s?/g,\r\n\t\t\t\t\t([first, second]) =>\r\n\t\t\t\t\t\tsecond === '.'\r\n\t\t\t\t\t\t\t? first + second\r\n\t\t\t\t\t\t\t: first,\r\n\t\t\t\t)\r\n\t\t\t\t.replace(\r\n\t\t\t\t\t/\\.{1}\\w{2,}/g,\r\n\t\t\t\t\t([first, second, ...rest]) =>\r\n\t\t\t\t\t\t`${first} ${second.toUpperCase()}${rest.join('')}`,\r\n\t\t\t\t)\r\n\t\t\t\t.replace(/- /g, '-');\r\n\t}\r\n}\r\n","import { injector } from 'angular';\r\n\r\nexport type NgInjector = ReturnType<typeof injector>;\r\nexport type NgScope = angular.IScope;\r\n\r\nexport { injector };\r\nexport { bootstrap, module } from 'angular';\r\n","import { NgAppConfig } from './options';\r\nimport { Indexed } from '@ledge/types';\r\nimport { autobind } from 'core-decorators';\r\n\r\nimport { NgAttributes } from './attributes';\r\nimport { NgHttp } from './http';\r\nimport { NgLogger } from './logger';\r\nimport { NgService } from './service';\r\nimport { NgInjector, NgScope } from './ng';\r\nimport { NgRenderer } from './renderer';\r\nimport { NgStateService } from './router';\r\n\r\nexport class NgController extends NgService {\r\n\tpublic readonly $scope: NgScope;\r\n\tpublic readonly $attrs: NgAttributes;\r\n\tpublic readonly $injector: NgInjector;\r\n\r\n\tpublic readonly $config: NgAppConfig;\r\n\tpublic readonly $log: NgLogger;\r\n\tpublic readonly $http: NgHttp;\r\n\tpublic readonly $state: NgStateService;\r\n\tpublic readonly $renderer: NgRenderer;\r\n\tpublic readonly $element: HTMLElement;\r\n\r\n\tpublic readonly isProduction: boolean;\r\n\tpublic readonly isDevelopment: boolean;\r\n\tpublic readonly isStaging: boolean;\r\n\tpublic readonly apiPrefix: string;\r\n\r\n\tpublic openWebAddress(address: string) {\r\n\t\tthis.$log.confirm(`You are being sent to ${address}. Continue?`).then(() => window.open(`http://${address}`));\r\n\t}\r\n\r\n\t/**\r\n\t * Called on each controller after all the controllers on an element have been constructed and had their bindings\r\n\t * initialized (and before the pre & post linking functions for the directives on this element). This is a good\r\n\t * place to put initialization code for your controller.\r\n\t */\r\n\tpublic $onInit?(): void;\r\n\r\n\t/**\r\n\t * Called on each turn of the digest cycle. Provides an opportunity to detect and act on changes.\r\n\t * Any actions that you wish to take in response to the changes that you detect must be invoked from this hook;\r\n\t * implementing this has no effect on when `$onChanges` is called. For example, this hook could be useful if you wish\r\n\t * to perform a deep equality check, or to check a `Date` object, changes to which would not be detected by Angular's\r\n\t * change detector and thus not trigger `$onChanges`. This hook is invoked with no arguments; if detecting changes,\r\n\t * you must store the previous value(s) for comparison to the current values.\r\n\t */\r\n\tpublic $doCheck?(): void;\r\n\r\n\t/**\r\n\t * Called whenever one-way bindings are updated. The onChangesObj is a hash whose keys are the names of the bound\r\n\t * properties that have changed, and the values are an object of the form { currentValue, previousValue, isFirstChange() }.\r\n\t * Use this hook to trigger updates within a component such as cloning the bound value to prevent accidental mutation of the outer value.\r\n\t */\r\n\tpublic $onChanges?<T = any>(onChangesObj: {\r\n\t\t[property: string]: {\r\n\t\t\tcurrentValue: T;\r\n\t\t\tpreviousValue: T;\r\n\t\t\tisFirstChange(): boolean;\r\n\t\t},\r\n\t}): void;\r\n\r\n\t/**\r\n\t * Called on a controller when its containing scope is destroyed. Use this hook for releasing external resources,\r\n\t * watches and event handlers.\r\n\t */\r\n\tpublic $onDestroy?(): void;\r\n\r\n\t/**\r\n\t * Called after this controller's element and its children have been linked. Similar to the post-link function this\r\n\t * hook can be used to set up DOM event handlers and do direct DOM manipulation. Note that child elements that contain\r\n\t * templateUrl directives will not have been compiled and linked since they are waiting for their template to load\r\n\t * asynchronously and their own compilation and linking has been suspended until that occurs. This hook can be considered\r\n\t * analogous to the ngAfterViewInit and ngAfterContentInit hooks in Angular 2. Since the compilation process is rather\r\n\t * different in Angular 1 there is no direct mapping and care should be taken when upgrading.\r\n\t */\r\n\tpublic $postLink?(): void;\r\n}\r\n\r\nexport function makeInjectableCtrl<T extends NgController>(ctrl: new () => T, locals: {\r\n\tlog: NgLogger,\r\n\thttp: NgHttp,\r\n\trenderer: NgRenderer,\r\n\tattrs?: Indexed,\r\n\tconfig(): NgAppConfig;\r\n}) {\r\n\tautobind(ctrl);\r\n\treturn class InternalController extends (ctrl as new () => any) {\r\n\t\tpublic $log = locals.log;\r\n\t\tpublic $http = locals.http;\r\n\t\tpublic $renderer = locals.renderer;\r\n\t\tpublic $state: NgStateService;\r\n\t\tpublic $attrs: NgAttributes;\r\n\t\tpublic $element: HTMLElement;\r\n\r\n\t\tpublic get $config() {\r\n\t\t\treturn locals.config();\r\n\t\t}\r\n\t\tpublic get isProduction() {\r\n\t\t\treturn this.$config.IS_PROD;\r\n\t\t}\r\n\t\tpublic get isDevelopment() {\r\n\t\t\treturn this.$config.IS_DEV;\r\n\t\t}\r\n\t\tpublic get isStaging() {\r\n\t\t\treturn this.$config.IS_STAGING;\r\n\t\t}\r\n\t\tpublic get apiPrefix() {\r\n\t\t\treturn this.$config.API_HOST;\r\n\t\t}\r\n\r\n\t\tconstructor(\r\n\t\t\t$element: { [i: number]: HTMLElement },\r\n\t\t\tpublic $scope: NgScope,\r\n\t\t\tpublic $injector: NgInjector,\r\n\t\t) {\r\n\t\t\tsuper();\r\n\r\n\t\t\tthis.$element = $element[0];\r\n\t\t\tthis.$attrs = new NgAttributes(this.$element, locals.attrs);\r\n\t\t\tthis.$state = this.$injector.get('$state');\r\n\t\t}\r\n\t} as new (\r\n\t\t\t$element: { [i: number]: HTMLElement },\r\n\t\t\t$scope: NgScope,\r\n\t\t\t$injector: NgInjector,\r\n\t\t) => T;\r\n}\r\n","import { IConfig, Indexed } from '@ledge/types';\r\nimport { autobind } from 'core-decorators';\r\n\r\nimport { NgAttributes } from './attributes';\r\nimport { NgController, makeInjectableCtrl } from './controller';\r\n\r\n@autobind\r\nexport class NgAppConfig implements IConfig {\r\n\tpublic readonly IS_PROD: boolean;\r\n\tpublic readonly IS_DEV: boolean;\r\n\tpublic readonly IS_STAGING: boolean;\r\n\r\n\t/**\r\n\t * The name of the library or application.\r\n\t */\r\n\tpublic readonly NAME: string;\r\n\r\n\t/**\r\n\t * The current library or application version, either as a string (e.g. 1.0.0 or v1) or as a number (e.g. 1 or 2.3)\r\n\t */\r\n\tpublic readonly VERSION: string | number;\r\n\r\n\t/**\r\n\t * The host environment for the library or application.\r\n\t */\r\n\tpublic readonly ENV: string;\r\n\r\n\t/**\r\n\t * The hostname for the API\r\n\t */\r\n\tpublic readonly API_HOST: string;\r\n\r\n\tconstructor({\r\n\t\tNAME = 'ng-app',\r\n\t\tENV = '',\r\n\t\tAPI_HOST = '',\r\n\t}: Partial<NgAppConfig> = { }) {\r\n\t\tif (ENV == null || ENV.length === 0) {\r\n\t\t\tENV = process.env.NODE_ENV as string;\r\n\t\t}\r\n\t\tthis.ENV = ENV;\r\n\r\n\t\tthis.IS_PROD = ENV === 'production';\r\n\t\tthis.IS_DEV = ENV === 'development';\r\n\t\tthis.IS_STAGING = ENV === 'staging';\r\n\r\n\t\tthis.NAME = NAME;\r\n\t\tthis.API_HOST = API_HOST;\r\n\t}\r\n}\r\n\r\n/**\r\n * Component definition object (a simplified directive definition object)\r\n */\r\nexport interface NgComponentOptions<T = typeof NgController> {\r\n\t/**\r\n\t * Controller constructor function that should be associated with newly created scope or the name of a registered\r\n\t * controller if passed as a string. Empty function by default.\r\n\t * Use the array form to define dependencies (necessary if strictDi is enabled and you require dependency injection)\r\n\t */\r\n\tcontroller?: T | ['$element', '$scope', '$injector', ReturnType<typeof makeInjectableCtrl>];\r\n\r\n\t/**\r\n\t * @deprecated For consistency this will always be the historical default `$ctrl`. ng-app's architecture ensures all scopes are isolates, so there's no risk of scope leakage.\r\n\t *\r\n\t * An identifier name for a reference to the controller. If present, the controller will be published to its scope under\r\n\t * the specified name. If not present, this will default to `$ctrl`.\r\n\t */\r\n\tcontrollerAs?: never;\r\n\r\n\t/**\r\n\t * html template as a string or a function that returns an html template as a string which should be used as the\r\n\t * contents of this component. Empty string by default.\r\n\t * If template is a function, then it is injected with the following locals:\r\n\t * $element - Current element\r\n\t * $attrs - Current attributes object for the element\r\n\t * Use the array form to define dependencies (necessary if strictDi is enabled and you require dependency injection)\r\n\t */\r\n\ttemplate?: string | (() => string) | (string | (($element: [HTMLElement], $attrs: NgAttributes) => string))[];\r\n\r\n\t/**\r\n\t * Path or function that returns a path to an html template that should be used as the contents of this component.\r\n\t * If templateUrl is a function, then it is injected with the following locals:\r\n\t * $element - Current element\r\n\t * $attrs - Current attributes object for the element\r\n\t * Use the array form to define dependencies (necessary if strictDi is enabled and you require dependency injection)\r\n\t */\r\n\ttemplateUrl?: never;\r\n\r\n\t/**\r\n\t * Define DOM attribute binding to component properties. Component properties are always bound to the component\r\n\t * controller and not to the scope.\r\n\t */\r\n\tbindings?: Indexed<string>;\r\n\r\n\t/**\r\n\t * Whether transclusion is enabled. Disabled by default.\r\n\t */\r\n\ttransclude?: boolean | Indexed<string>;\r\n\r\n\t/**\r\n\t * Requires the controllers of other directives and binds them to this component's controller.\r\n\t * The object keys specify the property names under which the required controllers (object values) will be bound.\r\n\t * Note that the required controllers will not be available during the instantiation of the controller,\r\n\t * but they are guaranteed to be available just before the $onInit method is executed!\r\n\t */\r\n\trequire?: Indexed<string>;\r\n}\r\n"],"sourceRoot":""}